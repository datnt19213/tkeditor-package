{"version":3,"sources":["../src/index.tsx","../src/components/editor/core/element-wrapper.tsx","../src/libs/utils.ts","../src/components/editor/ui/button.tsx","../src/components/editor/ui/insert-dropdown-menu.tsx","../src/components/editor/core/transforms.ts","../src/components/editor/ui/dropdown-menu.tsx","../src/components/editor/ui/toolbar.tsx","../src/components/editor/ui/separator.tsx","../src/components/editor/ui/tooltip.tsx","../src/components/editor/core/plate-editor.tsx","../src/components/editor/ui/editor.tsx","../src/components/editor/core/settings.tsx","../src/components/editor/ui/command.tsx","../src/components/editor/ui/dialog.tsx","../src/components/editor/ui/input.tsx","../src/components/editor/ui/popover.tsx","../src/components/editor/core/use-create-editor.ts","../src/components/editor/plugins/copilot-plugins.tsx","../src/components/editor/ui/ghost-text.tsx","../src/components/editor/plugins/markdown-plugin.tsx","../src/components/editor/plugins/editor-plugins.tsx","../src/components/editor/plugins/ai-plugins.tsx","../src/components/editor/ui/ai-loading-bar.tsx","../src/components/editor/ui/ai-menu.tsx","../src/components/editor/core/use-chat.ts","../src/configs/common.ts","../src/components/editor/ui/ai-chat-editor.tsx","../src/components/editor/ui/indent-todo-marker-static.tsx","../src/components/editor/ui/blockquote-element-static.tsx","../src/components/editor/ui/callout-element-static.tsx","../src/components/editor/ui/code-block-element-static.tsx","../src/components/editor/ui/code-leaf-static.tsx","../src/components/editor/ui/code-line-element-static.tsx","../src/components/editor/ui/code-syntax-leaf-static.tsx","../src/components/editor/ui/column-element-static.tsx","../src/components/editor/ui/column-group-element-static.tsx","../src/components/editor/ui/date-element.tsx","../src/components/editor/ui/calendar.tsx","../src/components/editor/ui/editor-static.tsx","../src/components/editor/ui/equation-element-static.tsx","../src/components/editor/ui/heading-element-static.tsx","../src/components/editor/ui/highlight-leaf-static.tsx","../src/components/editor/ui/hr-element-static.tsx","../src/components/editor/ui/image-element-static.tsx","../src/components/editor/ui/inline-equation-element-static.tsx","../src/components/editor/ui/kbd-leaf.tsx","../src/components/editor/ui/link-element-static.tsx","../src/components/editor/ui/media-audio-element-static.tsx","../src/components/editor/ui/media-file-element-static.tsx","../src/components/editor/ui/media-video-element-static.tsx","../src/components/editor/ui/mention-element-static.tsx","../src/components/editor/ui/paragraph-element-static.tsx","../src/components/editor/ui/table-cell-element-static.tsx","../src/components/editor/ui/table-element-static.tsx","../src/components/editor/ui/table-row-element-static.tsx","../src/components/editor/ui/toc-element-static.tsx","../src/components/editor/ui/ai-menu-items.tsx","../src/components/editor/plugins/cursor-overlay-plugin.tsx","../src/components/editor/ui/cursor-overlay.tsx","../src/components/editor/plugins/align-plugin.ts","../src/components/editor/plugins/autoformat-plugin.ts","../src/components/editor/plugins/basic-nodes-plugins.tsx","../src/components/editor/plugins/block-menu-plugins.ts","../src/components/editor/ui/block-context-menu.tsx","../src/hooks/use-is-touch-device.ts","../src/components/editor/ui/context-menu.tsx","../src/components/editor/plugins/block-selection-plugins.tsx","../src/components/editor/ui/block-selection.tsx","../src/components/editor/plugins/comments-plugin.tsx","../src/components/editor/plugins/delete-plugins.ts","../src/components/editor/plugins/discussion-plugin.tsx","../src/components/editor/ui/block-discussion.tsx","../src/components/editor/plugins/suggestion-plugin.tsx","../src/components/editor/ui/block-suggestion.tsx","../src/components/editor/ui/avatar.tsx","../src/components/editor/ui/comment.tsx","../src/components/editor/ui/comment-create-form.tsx","../src/components/editor/ui/ai-leaf.tsx","../src/components/editor/ui/emoji-input-element.tsx","../src/hooks/use-debounce.ts","../src/components/editor/ui/inline-combobox.tsx","../src/components/editor/ui/inline-equation-element.tsx","../src/components/editor/ui/equation-popover.tsx","../src/components/editor/ui/link-element.tsx","../src/components/editor/ui/mention-element.tsx","../src/hooks/use-mounted.ts","../src/components/editor/ui/mention-input-element.tsx","../src/components/editor/plugins/dnd-plugins.tsx","../src/components/editor/ui/draggable.tsx","../src/components/editor/plugins/equation-plugins.ts","../src/components/editor/plugins/exit-break-plugin.ts","../src/components/editor/plugins/indent-list-plugins.ts","../src/components/editor/ui/indent-fire-marker.tsx","../src/components/editor/ui/indent-todo-marker.tsx","../src/components/editor/ui/checkbox.tsx","../src/components/editor/plugins/line-height-plugin.ts","../src/components/editor/plugins/link-plugin.tsx","../src/components/editor/ui/link-floating-toolbar.tsx","../src/components/editor/plugins/media-plugins.tsx","../src/components/editor/ui/image-preview.tsx","../src/components/editor/ui/media-upload-toast.tsx","../src/components/editor/plugins/mention-plugin.ts","../src/components/editor/plugins/reset-block-type-plugin.ts","../src/components/editor/plugins/skip-mark-plugin.ts","../src/components/editor/plugins/soft-break-plugin.ts","../src/components/editor/plugins/table-plugin.ts","../src/components/editor/plugins/toc-plugin.ts","../src/components/editor/plugins/fixed-toolbar-plugin.tsx","../src/components/editor/ui/fixed-toolbar.tsx","../src/components/editor/ui/fixed-toolbar-buttons.tsx","../src/components/editor/ui/ai-toolbar-button.tsx","../src/components/editor/ui/align-dropdown-menu.tsx","../src/components/editor/ui/color-dropdown-menu.tsx","../src/components/editor/ui/color-constants.ts","../src/components/editor/ui/color-picker.tsx","../src/components/editor/ui/color-dropdown-menu-items.tsx","../src/components/editor/ui/colors-custom.tsx","../src/components/editor/ui/color-input.tsx","../src/components/editor/ui/comment-toolbar-button.tsx","../src/components/editor/ui/emoji-dropdown-menu.tsx","../src/components/editor/ui/emoji-icons.tsx","../src/components/editor/ui/emoji-picker.tsx","../src/components/editor/ui/emoji-picker-content.tsx","../src/components/editor/ui/emoji-picker-navigation.tsx","../src/components/editor/ui/emoji-picker-preview.tsx","../src/components/editor/ui/emoji-picker-search-and-clear.tsx","../src/components/editor/ui/emoji-picker-search-bar.tsx","../src/components/editor/ui/emoji-toolbar-dropdown.tsx","../src/components/editor/ui/export-toolbar-button.tsx","../src/components/editor/ui/comment-leaf-static.tsx","../src/components/editor/ui/date-element-static.tsx","../src/components/editor/ui/kbd-leaf-static.tsx","../src/components/editor/ui/toggle-element-static.tsx","../src/components/editor/ui/font-size-toolbar-button.tsx","../src/components/editor/ui/history-toolbar-button.tsx","../src/components/editor/ui/import-toolbar-button.tsx","../src/components/editor/ui/indent-list-toolbar-button.tsx","../src/components/editor/ui/indent-todo-toolbar-button.tsx","../src/components/editor/ui/indent-toolbar-button.tsx","../src/components/editor/ui/line-height-dropdown-menu.tsx","../src/components/editor/ui/link-toolbar-button.tsx","../src/components/editor/ui/mark-toolbar-button.tsx","../src/components/editor/ui/media-toolbar-button.tsx","../src/components/editor/ui/alert-dialog.tsx","../src/components/editor/ui/mode-dropdown-menu.tsx","../src/components/editor/ui/more-dropdown-menu.tsx","../src/components/editor/ui/outdent-toolbar-button.tsx","../src/components/editor/ui/table-dropdown-menu.tsx","../src/components/editor/ui/toggle-toolbar-button.tsx","../src/components/editor/ui/turn-into-dropdown-menu.tsx","../src/components/editor/plugins/floating-toolbar-plugin.tsx","../src/components/editor/ui/floating-toolbar.tsx","../src/components/editor/ui/floating-toolbar-buttons.tsx","../src/components/editor/ui/inline-equation-toolbar-button.tsx","../src/components/editor/ui/suggestion-toolbar-button.tsx","../src/components/editor/ui/blockquote-element.tsx","../src/components/editor/ui/callout-element.tsx","../src/components/editor/ui/code-block-element.tsx","../src/components/editor/ui/code-block-combobox.tsx","../src/components/editor/ui/code-leaf.tsx","../src/components/editor/ui/code-line-element.tsx","../src/components/editor/ui/code-syntax-leaf.tsx","../src/components/editor/ui/column-element.tsx","../src/components/editor/ui/column-group-element.tsx","../src/components/editor/ui/comment-leaf.tsx","../src/components/editor/ui/equation-element.tsx","../src/components/editor/ui/excalidraw-element.tsx","../src/components/editor/ui/heading-element.tsx","../src/components/editor/ui/highlight-leaf.tsx","../src/components/editor/ui/hr-element.tsx","../src/components/editor/ui/image-element.tsx","../src/components/editor/ui/caption.tsx","../src/components/editor/ui/media-popover.tsx","../src/components/editor/ui/resize-handle.tsx","../src/components/editor/ui/media-audio-element.tsx","../src/components/editor/ui/media-embed-element.tsx","../src/components/editor/ui/media-file-element.tsx","../src/components/editor/ui/media-placeholder-element.tsx","../src/hooks/use-upload-file.ts","../src/components/editor/ui/media-video-element.tsx","../src/components/editor/ui/paragraph-element.tsx","../src/components/editor/ui/placeholder.tsx","../src/components/editor/ui/slash-input-element.tsx","../src/components/editor/ui/suggestion-leaf.tsx","../src/components/editor/ui/table-cell-element.tsx","../src/components/editor/ui/table-element.tsx","../src/components/editor/ui/table-icons.tsx","../src/components/editor/ui/table-row-element.tsx","../src/components/editor/ui/toc-element.tsx","../src/components/editor/ui/toggle-element.tsx","../src/components/editor/core/tool-base.tsx","../src/api/hooks/useApi.ts","../src/api/apiProvider.tsx","../src/api/hooks/useMutation.ts"],"sourcesContent":["export {\n  BlockWithPlus,\n  isSelectionAtTopLevel,\n} from './components/editor/core/element-wrapper';\nexport {\n  CoreEditor,\n  EditorProvider,\n  type EditorProviderProps,\n  type TEditorProps,\n} from './components/editor/core/plate-editor';\nexport type {\n  EmptyText,\n  MyAlignProps,\n  MyBlockElement,\n  MyBlockquoteElement,\n  MyCodeBlockElement,\n  MyCodeLineElement,\n  MyExcalidrawElement,\n  MyH1Element,\n  MyH2Element,\n  MyH3Element,\n  MyHrElement,\n  MyImageElement,\n  MyIndentListProps,\n  MyIndentProps,\n  MyInlineChildren,\n  MyInlineDescendant,\n  MyInlineElement,\n  MyLineHeightProps,\n  MyLinkElement,\n  MyMediaEmbedElement,\n  MyMentionElement,\n  MyMentionInputElement,\n  MyNestableBlock,\n  MyParagraphElement,\n  MyRootBlock,\n  MyTableCellElement,\n  MyTableElement,\n  MyTableRowElement,\n  MyToggleElement,\n  MyValue,\n  PlainText,\n  RichText,\n} from './components/editor/core/plate-types';\nexport {\n  type Model,\n  models,\n  type SettingsContextType,\n  SettingsDialog,\n  SettingsProvider,\n  useSettings,\n} from './components/editor/core/settings';\nexport {\n  AI,\n  Align,\n  AudioMedia,\n  BackgroundColor,\n  Bold,\n  BulletedIndentList,\n  Code,\n  Comment,\n  Emoji,\n  Export,\n  FileMedia,\n  FontColor,\n  FontSize,\n  Highlight,\n  ImageMedia,\n  Import,\n  Indent,\n  Insert,\n  Italic,\n  LineHeight,\n  Link,\n  Mode,\n  More,\n  NumberIndentList,\n  Outdent,\n  Redo,\n  StrikeThrough,\n  Table,\n  TodoIndentList,\n  Toggle,\n  TurnInto,\n  Underline,\n  Undo,\n  VideoMedia,\n} from './components/editor/core/tool-base';\nexport {\n  ACTION_THREE_COLUMNS,\n  getBlockType,\n  insertBlock,\n  insertBlockMap,\n  insertInlineElement,\n  insertInlineMap,\n  insertList,\n  setBlockMap,\n  setBlockType,\n  setList,\n  STRUCTURAL_TYPES,\n} from './components/editor/core/transforms';\nexport { useChat } from './components/editor/core/use-chat';\nexport {\n  PLUGIN_DEFAULTS,\n  type PLUGIN_KEY,\n  useCreateEditor,\n} from './components/editor/core/use-create-editor';\n\nexport {\n  aiPlugins,\n  PROMPT_TEMPLATES,\n} from './components/editor/plugins/ai-plugins';\nexport { alignPlugin } from './components/editor/plugins/align-plugin';\nexport {\n  autoformatPlugin,\n} from './components/editor/plugins/autoformat-plugin';\nexport {\n  basicNodesPlugins,\n} from './components/editor/plugins/basic-nodes-plugins';\nexport {\n  blockMenuPlugins,\n} from './components/editor/plugins/block-menu-plugins';\nexport {\n  blockSelectionPlugins,\n  blockSelectionReadOnlyPlugin,\n} from './components/editor/plugins/block-selection-plugins';\nexport {\n  type CommentsConfig,\n  commentsPlugin,\n} from './components/editor/plugins/comments-plugin';\nexport { copilotPlugins } from './components/editor/plugins/copilot-plugins';\nexport {\n  cursorOverlayPlugin,\n} from './components/editor/plugins/cursor-overlay-plugin';\nexport { deletePlugins } from './components/editor/plugins/delete-plugins';\nexport {\n  avatarUrl,\n  discussionPlugin,\n  discussionsData,\n  type TDiscussion,\n} from './components/editor/plugins/discussion-plugin';\nexport { dndPlugins } from './components/editor/plugins/dnd-plugins';\nexport {\n  editorPlugins,\n  viewPlugins,\n} from './components/editor/plugins/editor-plugins';\nexport { equationPlugins } from './components/editor/plugins/equation-plugins';\nexport { exitBreakPlugin } from './components/editor/plugins/exit-break-plugin';\nexport {\n  FixedToolbarPlugin,\n} from './components/editor/plugins/fixed-toolbar-plugin';\nexport {\n  FloatingToolbarPlugin,\n} from './components/editor/plugins/floating-toolbar-plugin';\nexport {\n  indentListPlugins,\n} from './components/editor/plugins/indent-list-plugins';\nexport {\n  lineHeightPlugin,\n} from './components/editor/plugins/line-height-plugin';\nexport { linkPlugin } from './components/editor/plugins/link-plugin';\nexport { markdownPlugin } from './components/editor/plugins/markdown-plugin';\nexport { mediaPlugins } from './components/editor/plugins/media-plugins';\nexport { mentionPlugin } from './components/editor/plugins/mention-plugin';\nexport {\n  resetBlockTypePlugin,\n  resetBlockTypesCodeBlockRule,\n  resetBlockTypesCommonRule,\n} from './components/editor/plugins/reset-block-type-plugin';\nexport { skipMarkPlugin } from './components/editor/plugins/skip-mark-plugin';\nexport { softBreakPlugin } from './components/editor/plugins/soft-break-plugin';\nexport {\n  type SuggestionConfig,\n  suggestionPlugin,\n} from './components/editor/plugins/suggestion-plugin';\nexport { tablePlugin } from './components/editor/plugins/table-plugin';\nexport { tocPlugin } from './components/editor/plugins/toc-plugin';\n\nexport { useApi } from './api/hooks/useApi';\nexport { type MutationOptions, useApiMutation } from './api/hooks/useMutation';\n\nexport {\n  type ApiContextProps,\n  ApiProvider,\n  type ResourceConfig,\n  useApiContext,\n} from './api/apiProvider';","// components/BlockWithPlus.tsx\nimport React, {\n  useEffect,\n  useState,\n} from 'react';\n\nimport { Plus } from 'lucide-react';\n\nimport { isType } from '@udecode/plate';\nimport { BlockquotePlugin } from '@udecode/plate-block-quote/react';\nimport { CodeBlockPlugin } from '@udecode/plate-code-block/react';\nimport { ExcalidrawPlugin } from '@udecode/plate-excalidraw/react';\nimport { HEADING_KEYS } from '@udecode/plate-heading';\nimport { ColumnPlugin } from '@udecode/plate-layout/react';\nimport {\n  ImagePlugin,\n  MediaEmbedPlugin,\n  PlaceholderPlugin,\n} from '@udecode/plate-media/react';\nimport { TablePlugin } from '@udecode/plate-table/react';\nimport { TogglePlugin } from '@udecode/plate-toggle/react';\nimport {\n  ParagraphPlugin,\n  useEditorRef,\n  usePath,\n  useReadOnly,\n  useSelected,\n} from '@udecode/plate/react';\n\nimport { cn } from '../../../libs/utils';\nimport { Button } from '../ui/button';\nimport { InsertDropdownMenu } from '../ui/insert-dropdown-menu';\nimport {\n  Toolbar,\n  ToolbarGroup,\n} from '../ui/toolbar';\n\nexport const isSelectionAtTopLevel = (editor:any): boolean => {\n  const { selection } = editor;\n\n  if (!selection) return false;\n\n  const anchorPathDepth = selection.anchor.path.length;\n  const focusPathDepth = selection.focus.path.length;\n\n  return anchorPathDepth === 2 && focusPathDepth === 2;\n};\n\n\nexport const BlockWithPlus = ({children, element}: any) => {\n  const isSelected = useSelected();\n  const isReadOnly = useReadOnly();\n  const editor = useEditorRef();\n const path = usePath();\n  const isNodeType = (keys: string[] | string) => isType(editor, element, keys);\n\n  const isInColumn = path.length === 3;\n\n\n\n  const [count, setCount] = useState(0);\n\n  useEffect(() => {\n    const selection = editor?.selection;\n\n    if (!selection || !editor?.children?.length) {\n      setCount(0);\n      return;\n    }\n\n    const anchorPath = selection.anchor.path[0];\n    const focusPath = selection.focus.path[0];\n\n    const [start, end] = anchorPath < focusPath\n      ? [anchorPath, focusPath]\n      : [focusPath, anchorPath];\n\n    const selectedBlocks = editor.children.slice(start, end + 1);\n\n    setCount(selectedBlocks.length);\n  }, [editor.selection]);\n\n\n  const isActive = isSelected && !isReadOnly && count === 1 && isSelectionAtTopLevel(editor) ;\n\n\treturn (\n\t\t<div\n\t\t\tclassName=\"relative group\"\n\n\t\t>\n\t\t\t{isActive && (\n\t\t\t\t<Toolbar className={cn(\"absolute -left-16 -mt-2 z-10\",\n        isNodeType(HEADING_KEYS.h1) && 'pb-1 text-[1.875em]',\n        isNodeType(HEADING_KEYS.h2) && 'pb-1 text-[1.5em]',\n        isNodeType(HEADING_KEYS.h3) && 'pt-[2px] pb-1 text-[1.25em]',\n        isNodeType([HEADING_KEYS.h4, HEADING_KEYS.h5]) &&\n          'pt-1 pb-0 text-[1.1em]',\n        isNodeType(HEADING_KEYS.h6) && 'pb-0',\n        isNodeType(ParagraphPlugin.key) && 'pt-1 pb-0',\n        isNodeType(['ul', 'ol']) && 'pb-0',\n        isNodeType(BlockquotePlugin.key) && 'pb-0',\n        isNodeType(CodeBlockPlugin.key) && 'pt-6 pb-0',\n        isNodeType([\n          ImagePlugin.key,\n          MediaEmbedPlugin.key,\n          ExcalidrawPlugin.key,\n          TogglePlugin.key,\n          ColumnPlugin.key,\n        ]) && 'py-0',\n        isNodeType([PlaceholderPlugin.key, TablePlugin.key]) && 'pt-3 pb-0',\n        isInColumn && 'mt-2 h-4 pt-0')\n          \n        }>\n\t\t\t\t\t<ToolbarGroup >\n\t\t\t\t\t\t<InsertDropdownMenu button={\n              <Button variant=\"outline\" size=\"icon\" className=\"rounded-full bg-white z-10 cursor-pointer\">\n                <Plus className=\"size-4\" />\n                </Button>\n            } />\n\t\t\t\t\t</ToolbarGroup>\n\t\t\t\t</Toolbar>\n\t\t\t)}\n\t\t\t{children}\n\t\t</div>\n\t);\n};\n","import {\n  type ClassValue,\n  clsx,\n} from 'clsx';\nimport { twMerge } from 'tailwind-merge';\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n","import * as React from 'react';\n\nimport {\n  cva,\n  type VariantProps,\n} from 'class-variance-authority';\n\nimport { Slot } from '@radix-ui/react-slot';\n\nimport { cn } from '../../../libs/utils';\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\n        outline:\n          \"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50\",\n        secondary:\n          \"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80\",\n        ghost:\n          \"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-9 px-4 py-2 has-[>svg]:px-3\",\n        sm: \"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5\",\n        lg: \"h-10 rounded-md px-6 has-[>svg]:px-4\",\n        icon: \"size-9\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"button\"> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants };\n","'use client';\n\nimport * as React from 'react';\n\nimport {\n  CalendarIcon,\n  ChevronRightIcon,\n  Columns3Icon,\n  FileCodeIcon,\n  FilmIcon,\n  Heading1Icon,\n  Heading2Icon,\n  Heading3Icon,\n  ImageIcon,\n  Link2Icon,\n  ListIcon,\n  ListOrderedIcon,\n  MinusIcon,\n  PenToolIcon,\n  PilcrowIcon,\n  PlusIcon,\n  QuoteIcon,\n  RadicalIcon,\n  SquareIcon,\n  TableIcon,\n  TableOfContentsIcon,\n} from 'lucide-react';\n\nimport type { DropdownMenuProps } from '@radix-ui/react-dropdown-menu';\nimport { BlockquotePlugin } from '@udecode/plate-block-quote/react';\nimport { CodeBlockPlugin } from '@udecode/plate-code-block/react';\nimport { DatePlugin } from '@udecode/plate-date/react';\nimport { ExcalidrawPlugin } from '@udecode/plate-excalidraw/react';\nimport { HEADING_KEYS } from '@udecode/plate-heading';\nimport { TocPlugin } from '@udecode/plate-heading/react';\nimport { HorizontalRulePlugin } from '@udecode/plate-horizontal-rule/react';\nimport {\n  INDENT_LIST_KEYS,\n  ListStyleType,\n} from '@udecode/plate-indent-list';\nimport { LinkPlugin } from '@udecode/plate-link/react';\nimport {\n  EquationPlugin,\n  InlineEquationPlugin,\n} from '@udecode/plate-math/react';\nimport {\n  ImagePlugin,\n  MediaEmbedPlugin,\n} from '@udecode/plate-media/react';\nimport { TablePlugin } from '@udecode/plate-table/react';\nimport { TogglePlugin } from '@udecode/plate-toggle/react';\nimport {\n  ParagraphPlugin,\n  type PlateEditor,\n  useEditorRef,\n} from '@udecode/plate/react';\n\nimport {\n  insertBlock,\n  insertInlineElement,\n} from '../core/transforms';\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuTrigger,\n} from './dropdown-menu';\nimport {\n  ToolbarButton,\n  ToolbarMenuGroup,\n} from './toolbar';\n\nexport type Group = {\n  group: string;\n  items: Item[];\n};\n\nexport interface Item {\n  icon: React.ReactNode;\n  value: string;\n  onSelect: (editor: PlateEditor, value: string) => void;\n  focusEditor?: boolean;\n  label?: string;\n}\n\nexport const groups: Group[] = [\n  {\n    group: 'Basic blocks',\n    items: [\n      {\n        icon: <PilcrowIcon />,\n        label: 'Paragraph',\n        value: ParagraphPlugin.key,\n      },\n      {\n        icon: <Heading1Icon />,\n        label: 'Heading 1',\n        value: HEADING_KEYS.h1,\n      },\n      {\n        icon: <Heading2Icon />,\n        label: 'Heading 2',\n        value: HEADING_KEYS.h2,\n      },\n      {\n        icon: <Heading3Icon />,\n        label: 'Heading 3',\n        value: HEADING_KEYS.h3,\n      },\n      {\n        icon: <TableIcon />,\n        label: 'Table',\n        value: TablePlugin.key,\n      },\n      {\n        icon: <FileCodeIcon />,\n        label: 'Code',\n        value: CodeBlockPlugin.key,\n      },\n      {\n        icon: <QuoteIcon />,\n        label: 'Quote',\n        value: BlockquotePlugin.key,\n      },\n      {\n        icon: <MinusIcon />,\n        label: 'Divider',\n        value: HorizontalRulePlugin.key,\n      },\n    ].map((item) => ({\n      ...item,\n      onSelect: (editor, value) => {\n        insertBlock(editor, value);\n      },\n    })),\n  },\n  {\n    group: 'Lists',\n    items: [\n      {\n        icon: <ListIcon />,\n        label: 'Bulleted list',\n        value: ListStyleType.Disc,\n      },\n      {\n        icon: <ListOrderedIcon />,\n        label: 'Numbered list',\n        value: ListStyleType.Decimal,\n      },\n      {\n        icon: <SquareIcon />,\n        label: 'To-do list',\n        value: INDENT_LIST_KEYS.todo,\n      },\n      {\n        icon: <ChevronRightIcon />,\n        label: 'Toggle list',\n        value: TogglePlugin.key,\n      },\n    ].map((item) => ({\n      ...item,\n      onSelect: (editor, value) => {\n        insertBlock(editor, value);\n      },\n    })),\n  },\n  {\n    group: 'Media',\n    items: [\n      {\n        icon: <ImageIcon />,\n        label: 'Image',\n        value: ImagePlugin.key,\n      },\n      {\n        icon: <FilmIcon />,\n        label: 'Embed',\n        value: MediaEmbedPlugin.key,\n      },\n      {\n        icon: <PenToolIcon />,\n        label: 'Excalidraw',\n        value: ExcalidrawPlugin.key,\n      },\n    ].map((item) => ({\n      ...item,\n      onSelect: (editor, value) => {\n        insertBlock(editor, value);\n      },\n    })),\n  },\n  {\n    group: 'Advanced blocks',\n    items: [\n      {\n        icon: <TableOfContentsIcon />,\n        label: 'Table of contents',\n        value: TocPlugin.key,\n      },\n      {\n        icon: <Columns3Icon />,\n        label: '3 columns',\n        value: 'action_three_columns',\n      },\n      {\n        focusEditor: false,\n        icon: <RadicalIcon />,\n        label: 'Equation',\n        value: EquationPlugin.key,\n      },\n    ].map((item) => ({\n      ...item,\n      onSelect: (editor, value) => {\n        insertBlock(editor, value);\n      },\n    })),\n  },\n  {\n    group: 'Inline',\n    items: [\n      {\n        icon: <Link2Icon />,\n        label: 'Link',\n        value: LinkPlugin.key,\n      },\n      {\n        focusEditor: true,\n        icon: <CalendarIcon />,\n        label: 'Date',\n        value: DatePlugin.key,\n      },\n      {\n        focusEditor: false,\n        icon: <RadicalIcon />,\n        label: 'Inline Equation',\n        value: InlineEquationPlugin.key,\n      },\n    ].map((item) => ({\n      ...item,\n      onSelect: (editor, value) => {\n        insertInlineElement(editor, value);\n      },\n    })),\n  },\n];\n\nexport function InsertDropdownMenu({button, props}:{button?: React.ReactNode, props?: DropdownMenuProps}) {\n  const editor = useEditorRef();\n  const [open, setOpen] = React.useState(false);\n\n  return (\n    <DropdownMenu open={open} onOpenChange={setOpen} modal={false} {...props}>\n      <DropdownMenuTrigger asChild>\n        {!button ? <ToolbarButton pressed={open} tooltip=\"Insert\" isDropdown>\n          <PlusIcon />\n        </ToolbarButton> : button}\n      </DropdownMenuTrigger>\n\n      <DropdownMenuContent\n        className=\"flex max-h-[500px] min-w-0 flex-col overflow-y-auto\"\n        align=\"start\"\n      >\n        {groups.map(({ group, items: nestedItems }) => (\n          <ToolbarMenuGroup key={group} label={group}>\n            {nestedItems.map(({ icon, label, value, onSelect }) => (\n              <DropdownMenuItem\n                key={value}\n                className=\"min-w-[180px]\"\n                onSelect={() => {\n                  onSelect(editor, value);\n                  editor.tf.focus();\n                }}\n              >\n                {icon}\n                {label}\n              </DropdownMenuItem>\n            ))}\n          </ToolbarMenuGroup>\n        ))}\n      </DropdownMenuContent>\n    </DropdownMenu>\n  );\n}\n","'use client';\n\nimport type { PlateEditor } from '@udecode/plate/react';\n\nimport {\n  type NodeEntry,\n  type Path,\n  type TElement,\n  PathApi,\n} from '@udecode/plate';\nimport { insertCallout } from '@udecode/plate-callout';\nimport { CalloutPlugin } from '@udecode/plate-callout/react';\nimport { insertCodeBlock } from '@udecode/plate-code-block';\nimport { CodeBlockPlugin } from '@udecode/plate-code-block/react';\nimport { insertDate } from '@udecode/plate-date';\nimport { DatePlugin } from '@udecode/plate-date/react';\nimport { insertToc } from '@udecode/plate-heading';\nimport { TocPlugin } from '@udecode/plate-heading/react';\nimport { INDENT_LIST_KEYS, ListStyleType } from '@udecode/plate-indent-list';\nimport { IndentListPlugin } from '@udecode/plate-indent-list/react';\nimport { insertColumnGroup, toggleColumnGroup } from '@udecode/plate-layout';\nimport { ColumnItemPlugin, ColumnPlugin } from '@udecode/plate-layout/react';\nimport { LinkPlugin, triggerFloatingLink } from '@udecode/plate-link/react';\nimport { insertEquation, insertInlineEquation } from '@udecode/plate-math';\nimport {\n  EquationPlugin,\n  InlineEquationPlugin,\n} from '@udecode/plate-math/react';\nimport {\n  insertAudioPlaceholder,\n  insertFilePlaceholder,\n  insertMedia,\n  insertVideoPlaceholder,\n} from '@udecode/plate-media';\nimport {\n  AudioPlugin,\n  FilePlugin,\n  ImagePlugin,\n  MediaEmbedPlugin,\n  VideoPlugin,\n} from '@udecode/plate-media/react';\nimport { SuggestionPlugin } from '@udecode/plate-suggestion/react';\nimport {\n  TableCellPlugin,\n  TablePlugin,\n  TableRowPlugin,\n} from '@udecode/plate-table/react';\n\nexport const STRUCTURAL_TYPES: string[] = [\n  ColumnPlugin.key,\n  ColumnItemPlugin.key,\n  TablePlugin.key,\n  TableRowPlugin.key,\n  TableCellPlugin.key,\n];\n\nexport const ACTION_THREE_COLUMNS = 'action_three_columns';\n\nexport const insertList = (editor: PlateEditor, type: string) => {\n  editor.tf.insertNodes(\n    editor.api.create.block({\n      indent: 1,\n      listStyleType: type,\n    }),\n    { select: true }\n  );\n};\n\nexport const insertBlockMap: Record<\n  string,\n  (editor: PlateEditor, type: string) => void\n> = {\n  [INDENT_LIST_KEYS.todo]: insertList,\n  [ListStyleType.Decimal]: insertList,\n  [ListStyleType.Disc]: insertList,\n  [ACTION_THREE_COLUMNS]: (editor) =>\n    insertColumnGroup(editor, { columns: 3, select: true }),\n  [AudioPlugin.key]: (editor) =>\n    insertAudioPlaceholder(editor, { select: true }),\n  [CalloutPlugin.key]: (editor) => insertCallout(editor, { select: true }),\n  [CodeBlockPlugin.key]: (editor) => insertCodeBlock(editor, { select: true }),\n  [EquationPlugin.key]: (editor) => insertEquation(editor, { select: true }),\n  [FilePlugin.key]: (editor) => insertFilePlaceholder(editor, { select: true }),\n  [ImagePlugin.key]: (editor) =>\n    insertMedia(editor, {\n      select: true,\n      type: ImagePlugin.key,\n    }),\n  [MediaEmbedPlugin.key]: (editor) =>\n    insertMedia(editor, {\n      select: true,\n      type: MediaEmbedPlugin.key,\n    }),\n  [TablePlugin.key]: (editor) =>\n    editor.getTransforms(TablePlugin).insert.table({}, { select: true }),\n  [TocPlugin.key]: (editor) => insertToc(editor, { select: true }),\n  [VideoPlugin.key]: (editor) =>\n    insertVideoPlaceholder(editor, { select: true }),\n};\n\nexport const insertInlineMap: Record<\n  string,\n  (editor: PlateEditor, type: string) => void\n> = {\n  [DatePlugin.key]: (editor) => insertDate(editor, { select: true }),\n  [InlineEquationPlugin.key]: (editor) =>\n    insertInlineEquation(editor, '', { select: true }),\n  [LinkPlugin.key]: (editor) => triggerFloatingLink(editor, { focused: true }),\n};\n\nexport const insertBlock = (editor: PlateEditor, type: string) => {\n  editor.tf.withoutNormalizing(() => {\n    const block = editor.api.block();\n\n    if (!block) return;\n    if (type in insertBlockMap) {\n      insertBlockMap[type](editor, type);\n    } else {\n      editor.tf.insertNodes(editor.api.create.block({ type }), {\n        at: PathApi.next(block[1]),\n        select: true,\n      });\n    }\n    if (getBlockType(block[0]) !== type) {\n      editor.getApi(SuggestionPlugin).suggestion.withoutSuggestions(() => {\n        editor.tf.removeNodes({ previousEmptyBlock: true });\n      });\n    }\n  });\n};\n\nexport const insertInlineElement = (editor: PlateEditor, type: string) => {\n  if (insertInlineMap[type]) {\n    insertInlineMap[type](editor, type);\n  }\n};\n\nexport const setList = (\n  editor: PlateEditor,\n  type: string,\n  entry: NodeEntry<TElement>\n) => {\n  editor.tf.setNodes(\n    editor.api.create.block({\n      indent: 1,\n      listStyleType: type,\n    }),\n    {\n      at: entry[1],\n    }\n  );\n};\n\nexport const setBlockMap: Record<\n  string,\n  (editor: PlateEditor, type: string, entry: NodeEntry<TElement>) => void\n> = {\n  [INDENT_LIST_KEYS.todo]: setList,\n  [ListStyleType.Decimal]: setList,\n  [ListStyleType.Disc]: setList,\n  [ACTION_THREE_COLUMNS]: (editor) => toggleColumnGroup(editor, { columns: 3 }),\n};\n\nexport const setBlockType = (\n  editor: PlateEditor,\n  type: string,\n  { at }: { at?: Path } = {}\n) => {\n  editor.tf.withoutNormalizing(() => {\n    const setEntry = (entry: NodeEntry<TElement>) => {\n      const [node, path] = entry;\n\n      if (node[IndentListPlugin.key]) {\n        editor.tf.unsetNodes([IndentListPlugin.key, 'indent'], { at: path });\n      }\n      if (type in setBlockMap) {\n        return setBlockMap[type](editor, type, entry);\n      }\n      if (node.type !== type) {\n        editor.tf.setNodes({ type }, { at: path });\n      }\n    };\n\n    if (at) {\n      const entry = editor.api.node<TElement>(at);\n\n      if (entry) {\n        setEntry(entry);\n\n        return;\n      }\n    }\n\n    const entries = editor.api.blocks({ mode: 'lowest' });\n\n    entries.forEach((entry) => setEntry(entry));\n  });\n};\n\nexport const getBlockType = (block: TElement) => {\n  if (block[IndentListPlugin.key]) {\n    if (block[IndentListPlugin.key] === ListStyleType.Decimal) {\n      return ListStyleType.Decimal;\n    } else if (block[IndentListPlugin.key] === INDENT_LIST_KEYS.todo) {\n      return INDENT_LIST_KEYS.todo;\n    } else {\n      return ListStyleType.Disc;\n    }\n  }\n\n  return block.type;\n};\n","import * as React from 'react';\n\nimport {\n  CheckIcon,\n  ChevronRightIcon,\n  CircleIcon,\n} from 'lucide-react';\n\nimport * as DropdownMenuPrimitive from '@radix-ui/react-dropdown-menu';\n\nimport { cn } from '../../../libs/utils';\n\nfunction DropdownMenu({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Root>) {\n  return <DropdownMenuPrimitive.Root data-slot=\"dropdown-menu\" {...props} />\n}\n\nfunction DropdownMenuPortal({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Portal>) {\n  return (\n    <DropdownMenuPrimitive.Portal data-slot=\"dropdown-menu-portal\" {...props} />\n  )\n}\n\nfunction DropdownMenuTrigger({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Trigger>) {\n  return (\n    <DropdownMenuPrimitive.Trigger\n      data-slot=\"dropdown-menu-trigger\"\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuContent({\n  className,\n  sideOffset = 4,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Content>) {\n  return (\n    <DropdownMenuPrimitive.Portal>\n      <DropdownMenuPrimitive.Content\n        data-slot=\"dropdown-menu-content\"\n        sideOffset={sideOffset}\n        className={cn(\n          \"bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md\",\n          className\n        )}\n        {...props}\n      />\n    </DropdownMenuPrimitive.Portal>\n  )\n}\n\nfunction DropdownMenuGroup({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Group>) {\n  return (\n    <DropdownMenuPrimitive.Group data-slot=\"dropdown-menu-group\" {...props} />\n  )\n}\n\nfunction DropdownMenuItem({\n  className,\n  inset,\n  variant = \"default\",\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Item> & {\n  inset?: boolean\n  variant?: \"default\" | \"destructive\"\n}) {\n  return (\n    <DropdownMenuPrimitive.Item\n      data-slot=\"dropdown-menu-item\"\n      data-inset={inset}\n      data-variant={variant}\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuCheckboxItem({\n  className,\n  children,\n  checked,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.CheckboxItem>) {\n  return (\n    <DropdownMenuPrimitive.CheckboxItem\n      data-slot=\"dropdown-menu-checkbox-item\"\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      checked={checked}\n      {...props}\n    >\n      <span className=\"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center\">\n        <DropdownMenuPrimitive.ItemIndicator>\n          <CheckIcon className=\"size-4\" />\n        </DropdownMenuPrimitive.ItemIndicator>\n      </span>\n      {children}\n    </DropdownMenuPrimitive.CheckboxItem>\n  )\n}\n\nfunction DropdownMenuRadioGroup({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.RadioGroup>) {\n  return (\n    <DropdownMenuPrimitive.RadioGroup\n      data-slot=\"dropdown-menu-radio-group\"\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuRadioItem({\n  className,\n  children,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.RadioItem>) {\n  return (\n    <DropdownMenuPrimitive.RadioItem\n      data-slot=\"dropdown-menu-radio-item\"\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      {...props}\n    >\n      <span className=\"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center\">\n        <DropdownMenuPrimitive.ItemIndicator>\n          <CircleIcon className=\"size-2 fill-current\" />\n        </DropdownMenuPrimitive.ItemIndicator>\n      </span>\n      {children}\n    </DropdownMenuPrimitive.RadioItem>\n  )\n}\n\nfunction DropdownMenuLabel({\n  className,\n  inset,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Label> & {\n  inset?: boolean\n}) {\n  return (\n    <DropdownMenuPrimitive.Label\n      data-slot=\"dropdown-menu-label\"\n      data-inset={inset}\n      className={cn(\n        \"px-2 py-1.5 text-sm font-medium data-[inset]:pl-8\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Separator>) {\n  return (\n    <DropdownMenuPrimitive.Separator\n      data-slot=\"dropdown-menu-separator\"\n      className={cn(\"bg-border -mx-1 my-1 h-px\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuShortcut({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) {\n  return (\n    <span\n      data-slot=\"dropdown-menu-shortcut\"\n      className={cn(\n        \"text-muted-foreground ml-auto text-xs tracking-widest\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DropdownMenuSub({\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Sub>) {\n  return <DropdownMenuPrimitive.Sub data-slot=\"dropdown-menu-sub\" {...props} />\n}\n\nfunction DropdownMenuSubTrigger({\n  className,\n  inset,\n  children,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.SubTrigger> & {\n  inset?: boolean\n}) {\n  return (\n    <DropdownMenuPrimitive.SubTrigger\n      data-slot=\"dropdown-menu-sub-trigger\"\n      data-inset={inset}\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground flex cursor-default items-center rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[inset]:pl-8\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <ChevronRightIcon className=\"ml-auto size-4\" />\n    </DropdownMenuPrimitive.SubTrigger>\n  )\n}\n\nfunction DropdownMenuSubContent({\n  className,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuPrimitive.SubContent>) {\n  return (\n    <DropdownMenuPrimitive.SubContent\n      data-slot=\"dropdown-menu-sub-content\"\n      className={cn(\n        \"bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-hidden rounded-md border p-1 shadow-lg\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport {\n  DropdownMenu,\n  DropdownMenuCheckboxItem,\n  DropdownMenuContent,\n  DropdownMenuGroup,\n  DropdownMenuItem,\n  DropdownMenuLabel,\n  DropdownMenuPortal,\n  DropdownMenuRadioGroup,\n  DropdownMenuRadioItem,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuSub,\n  DropdownMenuSubContent,\n  DropdownMenuSubTrigger,\n  DropdownMenuTrigger,\n};\n","'use client';\n\nimport * as React from 'react';\n\nimport {\n  cva,\n  type VariantProps,\n} from 'class-variance-authority';\nimport { ChevronDown } from 'lucide-react';\n\nimport * as ToolbarPrimitive from '@radix-ui/react-toolbar';\nimport * as TooltipPrimitive from '@radix-ui/react-tooltip';\n\nimport { cn } from '../../../libs/utils';\nimport {\n  DropdownMenuLabel,\n  DropdownMenuRadioGroup,\n  DropdownMenuSeparator,\n} from './dropdown-menu';\nimport { Separator } from './separator';\nimport {\n  Tooltip,\n  TooltipTrigger,\n} from './tooltip';\n\nexport function Toolbar({\n  className,\n  ...props\n}: React.ComponentProps<typeof ToolbarPrimitive.Root>) {\n  return (\n    <ToolbarPrimitive.Root\n      className={cn('relative flex items-center select-none', className)}\n      {...props}\n    />\n  );\n}\n\nexport function ToolbarToggleGroup({\n  className,\n  ...props\n}: React.ComponentProps<typeof ToolbarPrimitive.ToolbarToggleGroup>) {\n  return (\n    <ToolbarPrimitive.ToolbarToggleGroup\n      className={cn('flex items-center', className)}\n      {...props}\n    />\n  );\n}\n\nexport function ToolbarLink({\n  className,\n  ...props\n}: React.ComponentProps<typeof ToolbarPrimitive.Link>) {\n  return (\n    <ToolbarPrimitive.Link\n      className={cn('font-medium underline underline-offset-4', className)}\n      {...props}\n    />\n  );\n}\n\nexport function ToolbarSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof ToolbarPrimitive.Separator>) {\n  return (\n    <ToolbarPrimitive.Separator\n      className={cn('mx-2 my-1 w-px shrink-0 bg-border', className)}\n      {...props}\n    />\n  );\n}\n\n// From toggleVariants\nconst toolbarButtonVariants = cva(\n  \"inline-flex cursor-pointer items-center justify-center gap-2 rounded-md text-sm font-medium whitespace-nowrap transition-[color,box-shadow] outline-none hover:bg-muted hover:text-muted-foreground focus-visible:border-ring focus-visible:ring-[3px] focus-visible:ring-ring/50 disabled:pointer-events-none disabled:opacity-50 aria-checked:bg-accent aria-checked:text-accent-foreground aria-invalid:border-destructive aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n  {\n    defaultVariants: {\n      size: 'default',\n      variant: 'default',\n    },\n    variants: {\n      size: {\n        default: 'h-9 min-w-9 px-2',\n        lg: 'h-10 min-w-10 px-2.5',\n        sm: 'h-8 min-w-8 px-1.5',\n      },\n      variant: {\n        default: 'bg-transparent',\n        outline:\n          'border border-input bg-transparent shadow-xs hover:bg-accent hover:text-accent-foreground',\n      },\n    },\n  }\n);\n\nconst dropdownArrowVariants = cva(\n  cn(\n    'inline-flex items-center justify-center rounded-r-md text-sm font-medium text-foreground transition-colors disabled:pointer-events-none disabled:opacity-50'\n  ),\n  {\n    defaultVariants: {\n      size: 'sm',\n      variant: 'default',\n    },\n    variants: {\n      size: {\n        default: 'h-9 w-6',\n        lg: 'h-10 w-8',\n        sm: 'h-8 w-4',\n      },\n      variant: {\n        default:\n          'bg-transparent hover:bg-muted hover:text-muted-foreground aria-checked:bg-accent aria-checked:text-accent-foreground',\n        outline:\n          'border border-l-0 border-input bg-transparent hover:bg-accent hover:text-accent-foreground',\n      },\n    },\n  }\n);\n\ntype ToolbarButtonProps = {\n  isDropdown?: boolean;\n  pressed?: boolean;\n} & Omit<\n  React.ComponentPropsWithoutRef<typeof ToolbarToggleItem>,\n  'asChild' | 'value'\n> &\n  VariantProps<typeof toolbarButtonVariants>;\n\nexport const ToolbarButton = withTooltip(function ToolbarButton({\n  children,\n  className,\n  isDropdown,\n  pressed,\n  size = 'sm',\n  variant,\n  ...props\n}: ToolbarButtonProps) {\n  return typeof pressed === 'boolean' ? (\n    <ToolbarToggleGroup disabled={props.disabled} value=\"single\" type=\"single\">\n      <ToolbarToggleItem\n        className={cn(\n          toolbarButtonVariants({\n            size,\n            variant,\n          }),\n          isDropdown && 'justify-between gap-1 pr-1',\n          className\n        )}\n        value={pressed ? 'single' : ''}\n        {...props}\n      >\n        {isDropdown ? (\n          <>\n            <div className=\"flex flex-1 items-center gap-2 whitespace-nowrap\">\n              {children}\n            </div>\n            <div>\n              <ChevronDown\n                className=\"size-3.5 text-muted-foreground\"\n                data-icon\n              />\n            </div>\n          </>\n        ) : (\n          children\n        )}\n      </ToolbarToggleItem>\n    </ToolbarToggleGroup>\n  ) : (\n    <ToolbarPrimitive.Button\n      className={cn(\n        toolbarButtonVariants({\n          size,\n          variant,\n        }),\n        isDropdown && 'pr-1',\n        className\n      )}\n      {...props}\n    >\n      {children}\n    </ToolbarPrimitive.Button>\n  );\n});\n\nexport function ToolbarSplitButton({\n  className,\n  ...props\n}: React.ComponentPropsWithoutRef<typeof ToolbarButton>) {\n  return (\n    <ToolbarButton\n      className={cn('group flex gap-0 px-0 hover:bg-transparent', className)}\n      {...props}\n    />\n  );\n}\n\ntype ToolbarSplitButtonPrimaryProps = Omit<\n  React.ComponentPropsWithoutRef<typeof ToolbarToggleItem>,\n  'value'\n> &\n  VariantProps<typeof toolbarButtonVariants>;\n\nexport function ToolbarSplitButtonPrimary({\n  children,\n  className,\n  size = 'sm',\n  variant,\n  ...props\n}: ToolbarSplitButtonPrimaryProps) {\n  return (\n    <span\n      className={cn(\n        toolbarButtonVariants({\n          size,\n          variant,\n        }),\n        'rounded-r-none',\n        'group-data-[pressed=true]:bg-accent group-data-[pressed=true]:text-accent-foreground',\n        className\n      )}\n      {...props}\n    >\n      {children}\n    </span>\n  );\n}\n\nexport function ToolbarSplitButtonSecondary({\n  className,\n  size,\n  variant,\n  ...props\n}: React.ComponentPropsWithoutRef<'span'> &\n  VariantProps<typeof dropdownArrowVariants>) {\n  return (\n    <span\n      className={cn(\n        dropdownArrowVariants({\n          size,\n          variant,\n        }),\n        'group-data-[pressed=true]:bg-accent group-data-[pressed=true]:text-accent-foreground',\n        className\n      )}\n      onClick={(e) => e.stopPropagation()}\n      role=\"button\"\n      {...props}\n    >\n      <ChevronDown className=\"size-3.5 text-muted-foreground\" data-icon />\n    </span>\n  );\n}\n\nexport function ToolbarToggleItem({\n  className,\n  size = 'sm',\n  variant,\n  ...props\n}: React.ComponentProps<typeof ToolbarPrimitive.ToggleItem> &\n  VariantProps<typeof toolbarButtonVariants>) {\n  return (\n    <ToolbarPrimitive.ToggleItem\n      className={cn(toolbarButtonVariants({ size, variant }), className)}\n      {...props}\n    />\n  );\n}\n\nexport function ToolbarGroup({\n  children,\n  className,\n}: React.ComponentProps<'div'>) {\n  return (\n    <div\n      className={cn(\n        'group/toolbar-group',\n        'relative hidden has-[button]:flex',\n        className\n      )}\n    >\n      <div className=\"flex items-center\">{children}</div>\n\n      <div className=\"mx-1.5 py-0.5 group-last/toolbar-group:hidden!\">\n        <Separator orientation=\"vertical\" />\n      </div>\n    </div>\n  );\n}\n\ntype TooltipProps<T extends React.ElementType> = {\n  tooltip?: React.ReactNode;\n  tooltipContentProps?: Omit<\n    React.ComponentPropsWithoutRef<typeof TooltipContent>,\n    'children'\n  >;\n  tooltipProps?: Omit<\n    React.ComponentPropsWithoutRef<typeof Tooltip>,\n    'children'\n  >;\n  tooltipTriggerProps?: React.ComponentPropsWithoutRef<typeof TooltipTrigger>;\n} & React.ComponentProps<T>;\n\nfunction withTooltip<T extends React.ElementType>(Component: T) {\n  return function ExtendComponent({\n    tooltip,\n    tooltipContentProps,\n    tooltipProps,\n    tooltipTriggerProps,\n    ...props\n  }: TooltipProps<T>) {\n    const [mounted, setMounted] = React.useState(false);\n\n    React.useEffect(() => {\n      setMounted(true);\n    }, []);\n\n    const component = <Component {...(props as React.ComponentProps<T>)} />;\n\n    if (tooltip && mounted) {\n      return (\n        <Tooltip {...tooltipProps}>\n          <TooltipTrigger asChild {...tooltipTriggerProps}>\n            {component}\n          </TooltipTrigger>\n\n          <TooltipContent {...tooltipContentProps}>{tooltip}</TooltipContent>\n        </Tooltip>\n      );\n    }\n\n    return component;\n  };\n}\n\nfunction TooltipContent({\n  children,\n  className,\n  // CHANGE\n  sideOffset = 4,\n  ...props\n}: React.ComponentProps<typeof TooltipPrimitive.Content>) {\n  return (\n    <TooltipPrimitive.Portal>\n      <TooltipPrimitive.Content\n        className={cn(\n          'z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md bg-primary px-3 py-1.5 text-xs text-balance text-primary-foreground',\n          className\n        )}\n        data-slot=\"tooltip-content\"\n        sideOffset={sideOffset}\n        {...props}\n      >\n        {children}\n        {/* CHANGE */}\n        {/* <TooltipPrimitive.Arrow className=\"z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px] bg-primary fill-primary\" /> */}\n      </TooltipPrimitive.Content>\n    </TooltipPrimitive.Portal>\n  );\n}\n\nexport function ToolbarMenuGroup({\n  children,\n  className,\n  label,\n  ...props\n}: React.ComponentProps<typeof DropdownMenuRadioGroup> & { label?: string }) {\n  return (\n    <>\n      <DropdownMenuSeparator\n        className={cn(\n          'hidden',\n          'mb-0 shrink-0 peer-has-[[role=menuitem]]/menu-group:block peer-has-[[role=menuitemradio]]/menu-group:block peer-has-[[role=option]]/menu-group:block'\n        )}\n      />\n\n      <DropdownMenuRadioGroup\n        {...props}\n        className={cn(\n          'hidden',\n          'peer/menu-group group/menu-group my-1.5 has-[[role=menuitem]]:block has-[[role=menuitemradio]]:block has-[[role=option]]:block',\n          className\n        )}\n      >\n        {label && (\n          <DropdownMenuLabel className=\"text-xs font-semibold text-muted-foreground select-none\">\n            {label}\n          </DropdownMenuLabel>\n        )}\n        {children}\n      </DropdownMenuRadioGroup>\n    </>\n  );\n}\n","import * as React from 'react';\n\nimport * as SeparatorPrimitive from '@radix-ui/react-separator';\n\nimport { cn } from '../../../libs/utils';\n\nfunction Separator({\n  className,\n  orientation = \"horizontal\",\n  decorative = true,\n  ...props\n}: React.ComponentProps<typeof SeparatorPrimitive.Root>) {\n  return (\n    <SeparatorPrimitive.Root\n      data-slot=\"separator-root\"\n      decorative={decorative}\n      orientation={orientation}\n      className={cn(\n        \"bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Separator };\n","import * as React from 'react';\n\nimport * as TooltipPrimitive from '@radix-ui/react-tooltip';\n\nimport { cn } from '../../../libs/utils';\n\nfunction TooltipProvider({\n  delayDuration = 0,\n  ...props\n}: React.ComponentProps<typeof TooltipPrimitive.Provider>) {\n  return (\n    <TooltipPrimitive.Provider\n      data-slot=\"tooltip-provider\"\n      delayDuration={delayDuration}\n      {...props}\n    />\n  )\n}\n\nfunction Tooltip({\n  ...props\n}: React.ComponentProps<typeof TooltipPrimitive.Root>) {\n  return (\n    <TooltipProvider>\n      <TooltipPrimitive.Root data-slot=\"tooltip\" {...props} />\n    </TooltipProvider>\n  )\n}\n\nfunction TooltipTrigger({\n  ...props\n}: React.ComponentProps<typeof TooltipPrimitive.Trigger>) {\n  return <TooltipPrimitive.Trigger data-slot=\"tooltip-trigger\" {...props} />\n}\n\nfunction TooltipContent({\n  className,\n  sideOffset = 0,\n  children,\n  ...props\n}: React.ComponentProps<typeof TooltipPrimitive.Content>) {\n  return (\n    <TooltipPrimitive.Portal>\n      <TooltipPrimitive.Content\n        data-slot=\"tooltip-content\"\n        sideOffset={sideOffset}\n        className={cn(\n          \"bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance\",\n          className\n        )}\n        {...props}\n      >\n        {children}\n        <TooltipPrimitive.Arrow className=\"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]\" />\n      </TooltipPrimitive.Content>\n    </TooltipPrimitive.Portal>\n  )\n}\n\nexport { Tooltip, TooltipContent, TooltipProvider, TooltipTrigger };\n","import React from 'react';\n\nimport { DndProvider } from 'react-dnd';\nimport { HTML5Backend } from 'react-dnd-html5-backend';\n\nimport { Plate } from '@udecode/plate/react';\n\nimport {\n  Editor,\n  EditorContainer,\n  EditorProps,\n} from '../ui/editor';\nimport { SettingsProvider } from './settings';\nimport {\n  PLUGIN_DEFAULTS,\n  PLUGIN_KEY,\n  useCreateEditor,\n} from './use-create-editor';\n\nexport type EditorProviderProps = {\n  children: React.ReactNode;\n  isToolbar?: boolean;\n  isFloating?: boolean;\n  allowPlugins?: PLUGIN_KEY[];\n  toolbarClasses?: {\n    className?: string;\n    groupClass?: string;\n  };\n};\n\nexport const EditorProvider: React.FC<EditorProviderProps> = ({\n  children,\n  isToolbar = true,\n  isFloating = true,\n  allowPlugins = PLUGIN_DEFAULTS,\n  toolbarClasses,\n}):any => {\n  const editor = useCreateEditor(\n    {\n      isFixedToolbar: isToolbar,\n      isFloatingToolbar: isFloating,\n      allowPlugins,\n      toolbarClasses,\n    },\n    [isToolbar, isFloating, allowPlugins, toolbarClasses]\n  );\n\n  return (\n    <div className=\"h-screen w-full\" data-registry=\"plate\">\n      <SettingsProvider>\n        <DndProvider backend={HTML5Backend}>\n          <Plate editor={editor}>{children}</Plate>\n        </DndProvider>\n      </SettingsProvider>\n    </div>\n  );\n};\n\n\nexport type TEditorProps = EditorProps & {\n  editorRef?: React.Ref<HTMLDivElement>;\n};\n\nexport const CoreEditor: React.FC<TEditorProps> = ({ editorRef, ...props }):any => {\n  return (\n    <EditorContainer>\n      <Editor ref={editorRef} {...props} />\n    </EditorContainer>\n  );\n};\n\n\n\n// export type TEditorProps = {\n// \tisToolbar?: boolean;\n// \tisFloating?: boolean;\n//   allowPlugins?: PLUGIN_KEY[];\n//   toolbarClasses?: {className?: string; groupClass?: string };\n// \tisSettingDialog?: boolean;\n//   ref?: React.Ref<HTMLDivElement>;\n// } & EditorProps\n// export const TEditor: React.FC<TEditorProps> = ({ isToolbar = true, isFloating = true, isSettingDialog = true, allowPlugins = PLUGIN_DEFAULTS, toolbarClasses, ref, ...props}) => {\n// \tconst editor = useCreateEditor({\n// \t\tisFixedToolbar: isToolbar,\n// \t\tisFloatingToolbar: isFloating,\n//     allowPlugins: allowPlugins,\n//     toolbarClasses: toolbarClasses,\n// \t}, [isToolbar, isFloating, allowPlugins, toolbarClasses]);  \n\n// \treturn (\n// \t\t<div className=\"h-screen w-full\" data-registry=\"plate\">\n// \t\t\t<SettingsProvider>\n// \t\t\t\t<DndProvider backend={HTML5Backend}>\n// \t\t\t\t\t<Plate editor={editor} >\n// \t\t\t\t\t\t<EditorContainer >\n// \t\t\t\t\t\t\t<Editor ref={ref} variant={props.variant} {...props} />\n// \t\t\t\t\t\t</EditorContainer>\n\n// \t\t\t\t\t\t{isSettingDialog && <SettingsDialog />}\n// \t\t\t\t\t</Plate>\n// \t\t\t\t</DndProvider>\n// \t\t\t</SettingsProvider>\n//       <Toaster />\n// \t\t</div>\n// \t);\n// }","'use client';\n\nimport * as React from 'react';\n\nimport type { VariantProps } from 'class-variance-authority';\nimport { cva } from 'class-variance-authority';\n\nimport type { PlateContentProps } from '@udecode/plate/react';\nimport {\n  PlateContainer,\n  PlateContent,\n} from '@udecode/plate/react';\n\nimport { cn } from '../../../libs/utils';\n\nconst editorContainerVariants = cva(\n  'relative w-full cursor-text overflow-y-auto caret-primary select-text selection:bg-brand/25 focus-visible:outline-none [&_.slate-selection-area]:z-50 [&_.slate-selection-area]:border [&_.slate-selection-area]:border-brand/25 [&_.slate-selection-area]:bg-brand/15',\n  {\n    defaultVariants: {\n      variant: 'default',\n    },\n    variants: {\n      variant: {\n        comment: cn(\n          'flex flex-wrap justify-between gap-1 px-1 py-0.5 text-sm',\n          'rounded-md border-[1.5px] border-transparent bg-transparent',\n          'has-[[data-slate-editor]:focus]:border-brand/50 has-[[data-slate-editor]:focus]:ring-2 has-[[data-slate-editor]:focus]:ring-brand/30',\n          'has-aria-disabled:border-input has-aria-disabled:bg-muted'\n        ),\n        default: 'h-full',\n        demo: 'h-[650px]',\n        select: cn(\n          'group rounded-md border border-input ring-offset-background focus-within:ring-2 focus-within:ring-ring focus-within:ring-offset-2',\n          'has-data-readonly:w-fit has-data-readonly:cursor-default has-data-readonly:border-transparent has-data-readonly:focus-within:[box-shadow:none]'\n        ),\n      },\n    },\n  }\n);\n\nexport const EditorContainer:any = ({\n  className,\n  variant,\n  ...props\n}: React.ComponentProps<'div'> &\n  VariantProps<typeof editorContainerVariants>) => {\n  return (\n    <PlateContainer\n      className={cn(\n        'ignore-click-outside/toolbar',\n        editorContainerVariants({ variant }),\n        className\n      )}\n      {...props}\n    />\n  );\n};\n\nEditorContainer.displayName = 'EditorContainer';\n\nconst editorVariants = cva(\n  cn(\n    'group/editor',\n    'relative w-full cursor-text overflow-x-hidden break-words whitespace-pre-wrap select-text',\n    'rounded-md ring-offset-background focus-visible:outline-none',\n    'placeholder:text-muted-foreground/80 **:data-slate-placeholder:top-[auto_!important] **:data-slate-placeholder:text-muted-foreground/80 **:data-slate-placeholder:opacity-100!',\n    '[&_strong]:font-bold'\n  ),\n  {\n    defaultVariants: {\n      variant: 'default',\n    },\n    variants: {\n      disabled: {\n        true: 'cursor-not-allowed opacity-50',\n      },\n      focused: {\n        true: 'ring-2 ring-ring ring-offset-2',\n      },\n      variant: {\n        ai: 'w-full px-0 text-base md:text-sm',\n        aiChat:\n          'max-h-[min(70vh,320px)] w-full max-w-[700px] overflow-y-auto px-3 py-2 text-base md:text-sm',\n        comment: cn('rounded-none border-none bg-transparent text-sm'),\n        default:\n          'size-full px-16 pt-4 pb-72 text-base sm:px-[max(64px,calc(50%-350px))]',\n        demo: 'size-full px-16 pt-4 pb-72 text-base sm:px-[max(64px,calc(50%-350px))]',\n        fullWidth: 'size-full px-16 pt-4 pb-72 text-base sm:px-24',\n        none: '',\n        select: 'px-3 py-2 text-base data-readonly:w-fit',\n      },\n    },\n  }\n);\n\nexport type EditorProps = PlateContentProps &\n  VariantProps<typeof editorVariants>;\n\nexport const Editor:any = React.forwardRef<HTMLDivElement, EditorProps>(\n  ({ className, disabled, focused, variant, ...props }, ref) => {\n    return (\n      <PlateContent\n        ref={ref}\n        className={cn(\n          editorVariants({\n            disabled,\n            focused,\n            variant,\n          }),\n          className\n        )}\n        disabled={disabled}\n        disableDefaultStyles\n        {...props}\n      />\n    );\n  }\n);\n\nEditor.displayName = 'Editor';\n","'use client';\n\nimport * as React from 'react';\n\nimport {\n  Check,\n  ChevronsUpDown,\n  ExternalLinkIcon,\n  Eye,\n  EyeOff,\n  Settings,\n  Wand2Icon,\n} from 'lucide-react';\n\nimport { CopilotPlugin } from '@udecode/plate-ai/react';\nimport { useEditorPlugin } from '@udecode/plate/react';\n\nimport { cn } from '../../../libs/utils';\nimport { Button } from '../ui/button';\nimport {\n  Command,\n  CommandEmpty,\n  CommandGroup,\n  CommandInput,\n  CommandItem,\n  CommandList,\n} from '../ui/command';\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n  DialogTrigger,\n} from '../ui/dialog';\nimport { Input } from '../ui/input';\nimport {\n  Popover,\n  PopoverContent,\n  PopoverTrigger,\n} from '../ui/popover';\n\nexport interface Model {\n  label: string;\n  value: string;\n}\n\nexport interface SettingsContextType {\n  keys: Record<string, string>;\n  model: Model;\n  setKey: (service: string, key: string) => void;\n  setModel: (model: Model) => void;\n}\n\nexport const models: Model[] = [\n  { label: 'gpt-4o-mini', value: 'gpt-4o-mini' },\n  { label: 'gpt-4o', value: 'gpt-4o' },\n  { label: 'gpt-4-turbo', value: 'gpt-4-turbo' },\n  { label: 'gpt-4', value: 'gpt-4' },\n  { label: 'gpt-3.5-turbo', value: 'gpt-3.5-turbo' },\n  { label: 'gpt-3.5-turbo-instruct', value: 'gpt-3.5-turbo-instruct' },\n  { label: 'openai/gpt-4o', value: 'openai/gpt-4o' },\n];\n\nconst SettingsContext = React.createContext<SettingsContextType | undefined>(\n  undefined\n);\n\nexport function SettingsProvider({ children }: { children: React.ReactNode }) {\n  const [keys, setKeys] = React.useState({\n    openai: '',\n    uploadthing: '',\n  });\n  const [model, setModel] = React.useState<Model>(models[6]);\n\n  const setKey = (service: string, key: string) => {\n    setKeys((prev) => ({ ...prev, [service]: key }));\n  };\n\n  return (\n    <SettingsContext.Provider value={{ keys, model, setKey, setModel }}>\n      {children}\n    </SettingsContext.Provider>\n  );\n}\n\nexport function useSettings() {\n  const context = React.useContext(SettingsContext);\n\n  return (\n    context ?? {\n      keys: {\n        openai: '',\n        uploadthing: '',\n      },\n      model: models[6],\n      setKey: () => {},\n      setModel: () => {},\n    }\n  );\n}\n\nexport function SettingsDialog() {\n  const { keys, model, setKey, setModel } = useSettings();\n  const [tempKeys, setTempKeys] = React.useState(keys);\n  const [showKey, setShowKey] = React.useState<Record<string, boolean>>({});\n  const [open, setOpen] = React.useState(false);\n  const [openModel, setOpenModel] = React.useState(false);\n\n  const { getOptions, setOption } = useEditorPlugin(CopilotPlugin);\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    Object.entries(tempKeys).forEach(([service, key]) => {\n      setKey(service, key);\n    });\n    setOpen(false);\n\n    // Update AI options if needed\n    const completeOptions = getOptions().completeOptions ?? {};\n    setOption('completeOptions', {\n      ...completeOptions,\n      body: {\n        ...completeOptions.body,\n        apiKey: tempKeys.openai,\n        model: model.value,\n      },\n    });\n  };\n\n  const toggleKeyVisibility = (key: string) => {\n    setShowKey((prev) => ({ ...prev, [key]: !prev[key] }));\n  };\n\n  const renderApiKeyInput = (service: string, label: string) => (\n    <div className=\"group relative\">\n      <div className=\"flex items-center justify-between\">\n        <label\n          className=\"absolute top-1/2 block -translate-y-1/2 cursor-text px-1 text-sm text-muted-foreground/70 transition-all group-focus-within:pointer-events-none group-focus-within:top-0 group-focus-within:cursor-default group-focus-within:text-xs group-focus-within:font-medium group-focus-within:text-foreground has-[+input:not(:placeholder-shown)]:pointer-events-none has-[+input:not(:placeholder-shown)]:top-0 has-[+input:not(:placeholder-shown)]:cursor-default has-[+input:not(:placeholder-shown)]:text-xs has-[+input:not(:placeholder-shown)]:font-medium has-[+input:not(:placeholder-shown)]:text-foreground\"\n          htmlFor={label}\n        >\n          <span className=\"inline-flex bg-background px-2\">{label}</span>\n        </label>\n        <Button\n          asChild\n          size=\"icon\"\n          variant=\"ghost\"\n          className=\"absolute top-0 right-[28px] h-full\"\n        >\n          <a\n            className=\"flex items-center\"\n            href={\n              service === 'openai'\n                ? 'https://platform.openai.com/api-keys'\n                : 'https://uploadthing.com/dashboard'\n            }\n            rel=\"noopener noreferrer\"\n            target=\"_blank\"\n          >\n            <ExternalLinkIcon className=\"size-4\" />\n            <span className=\"sr-only\">Get {label}</span>\n          </a>\n        </Button>\n      </div>\n\n      <Input\n        id={label}\n        className=\"pr-10\"\n        value={tempKeys[service]}\n        onChange={(e) =>\n          setTempKeys((prev) => ({ ...prev, [service]: e.target.value }))\n        }\n        placeholder=\"\"\n        data-1p-ignore\n        type={showKey[service] ? 'text' : 'password'}\n      />\n      <Button\n        size=\"icon\"\n        variant=\"ghost\"\n        className=\"absolute top-0 right-0 h-full\"\n        onClick={() => toggleKeyVisibility(service)}\n        type=\"button\"\n      >\n        {showKey[service] ? (\n          <EyeOff className=\"size-4\" />\n        ) : (\n          <Eye className=\"size-4\" />\n        )}\n        <span className=\"sr-only\">\n          {showKey[service] ? 'Hide' : 'Show'} {label}\n        </span>\n      </Button>\n    </div>\n  );\n\n  return (\n    <Dialog open={open} onOpenChange={setOpen}>\n      <DialogTrigger asChild>\n        <Button\n          size=\"icon\"\n          variant=\"default\"\n          className={cn(\n            'group fixed right-4 bottom-4 z-50 size-10 overflow-hidden',\n            'rounded-full shadow-md hover:shadow-lg'\n          )}\n          data-block-hide\n        >\n          <Settings className=\"size-4\" />\n        </Button>\n      </DialogTrigger>\n      <DialogContent>\n        <DialogHeader>\n          <DialogTitle className=\"text-xl\">Settings</DialogTitle>\n          <DialogDescription>\n            Configure your API keys and preferences.\n          </DialogDescription>\n        </DialogHeader>\n\n        <form className=\"space-y-10\" onSubmit={handleSubmit}>\n          {/* AI Settings Group */}\n          <div className=\"space-y-4\">\n            <div className=\"flex items-center gap-2\">\n              <div className=\"size-8 rounded-full bg-purple-100 p-2 dark:bg-purple-900\">\n                <Wand2Icon className=\"size-4 text-purple-600 dark:text-purple-400\" />\n              </div>\n              <h4 className=\"font-semibold\">AI</h4>\n            </div>\n\n            <div className=\"space-y-4\">\n              {renderApiKeyInput('openai', 'OpenAI API key')}\n\n              <div className=\"group relative\">\n                <label\n                  className=\"absolute start-1 top-0 z-10 block -translate-y-1/2 bg-background px-2 text-xs font-medium text-foreground group-has-disabled:opacity-50\"\n                  htmlFor=\"select-model\"\n                >\n                  Model\n                </label>\n                <Popover open={openModel} onOpenChange={setOpenModel}>\n                  <PopoverTrigger id=\"select-model\" asChild>\n                    <Button\n                      size=\"lg\"\n                      variant=\"outline\"\n                      className=\"w-full justify-between\"\n                      aria-expanded={openModel}\n                      role=\"combobox\"\n                    >\n                      <code>{model.label}</code>\n                      <ChevronsUpDown className=\"ml-2 size-4 shrink-0 opacity-50\" />\n                    </Button>\n                  </PopoverTrigger>\n                  <PopoverContent className=\"w-full p-0\">\n                    <Command>\n                      <CommandInput placeholder=\"Search model...\" />\n                      <CommandEmpty>No model found.</CommandEmpty>\n                      <CommandList>\n                        <CommandGroup>\n                          {models.map((m) => (\n                            <CommandItem\n                              key={m.value}\n                              value={m.value}\n                              onSelect={() => {\n                                setModel(m);\n                                setOpenModel(false);\n                              }}\n                            >\n                              <Check\n                                className={cn(\n                                  'mr-2 size-4',\n                                  model.value === m.value\n                                    ? 'opacity-100'\n                                    : 'opacity-0'\n                                )}\n                              />\n                              <code>{m.label}</code>\n                            </CommandItem>\n                          ))}\n                        </CommandGroup>\n                      </CommandList>\n                    </Command>\n                  </PopoverContent>\n                </Popover>\n              </div>\n            </div>\n          </div>\n\n          {/* Upload Settings Group */}\n          {/* <div className=\"space-y-4\">\n            <div className=\"flex items-center gap-2\">\n              <div className=\"size-8 rounded-full bg-red-100 p-2 dark:bg-red-900\">\n                <Upload className=\"size-4 text-red-600 dark:text-red-400\" />\n              </div>\n              <h4 className=\"font-semibold\">Upload</h4>\n            </div>\n\n            <div className=\"space-y-4\">\n              {renderApiKeyInput('uploadthing', 'Uploadthing API key')}\n            </div>\n          </div> */}\n\n          <Button size=\"lg\" className=\"w-full\" type=\"submit\">\n            Save changes\n          </Button>\n        </form>\n\n        <p className=\"text-sm text-muted-foreground\">\n          Not stored anywhere. Used only for current session requests.\n        </p>\n      </DialogContent>\n    </Dialog>\n  );\n}\n","import * as React from 'react';\n\nimport { Command as CommandPrimitive } from 'cmdk';\nimport { SearchIcon } from 'lucide-react';\n\nimport { cn } from '../../../libs/utils';\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n} from './dialog';\n\nfunction Command({\n  className,\n  ...props\n}: React.ComponentProps<typeof CommandPrimitive>) {\n  return (\n    <CommandPrimitive\n      data-slot=\"command\"\n      className={cn(\n        \"bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CommandDialog({\n  title = \"Command Palette\",\n  description = \"Search for a command to run...\",\n  children,\n  ...props\n}: React.ComponentProps<typeof Dialog> & {\n  title?: string\n  description?: string\n}) {\n  return (\n    <Dialog {...props}>\n      <DialogHeader className=\"sr-only\">\n        <DialogTitle>{title}</DialogTitle>\n        <DialogDescription>{description}</DialogDescription>\n      </DialogHeader>\n      <DialogContent className=\"overflow-hidden p-0\">\n        <Command className=\"[&_[cmdk-group-heading]]:text-muted-foreground **:data-[slot=command-input-wrapper]:h-12 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group]]:px-2 [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5\">\n          {children}\n        </Command>\n      </DialogContent>\n    </Dialog>\n  )\n}\n\nfunction CommandInput({\n  className,\n  ...props\n}: React.ComponentProps<typeof CommandPrimitive.Input>) {\n  return (\n    <div\n      data-slot=\"command-input-wrapper\"\n      className=\"flex h-9 items-center gap-2 border-b px-3\"\n    >\n      <SearchIcon className=\"size-4 shrink-0 opacity-50\" />\n      <CommandPrimitive.Input\n        data-slot=\"command-input\"\n        className={cn(\n          \"placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50\",\n          className\n        )}\n        {...props}\n      />\n    </div>\n  )\n}\n\nfunction CommandList({\n  className,\n  ...props\n}: React.ComponentProps<typeof CommandPrimitive.List>) {\n  return (\n    <CommandPrimitive.List\n      data-slot=\"command-list\"\n      className={cn(\n        \"max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CommandEmpty({\n  ...props\n}: React.ComponentProps<typeof CommandPrimitive.Empty>) {\n  return (\n    <CommandPrimitive.Empty\n      data-slot=\"command-empty\"\n      className=\"py-6 text-center text-sm\"\n      {...props}\n    />\n  )\n}\n\nfunction CommandGroup({\n  className,\n  ...props\n}: React.ComponentProps<typeof CommandPrimitive.Group>) {\n  return (\n    <CommandPrimitive.Group\n      data-slot=\"command-group\"\n      className={cn(\n        \"text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CommandSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof CommandPrimitive.Separator>) {\n  return (\n    <CommandPrimitive.Separator\n      data-slot=\"command-separator\"\n      className={cn(\"bg-border -mx-1 h-px\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CommandItem({\n  className,\n  ...props\n}: React.ComponentProps<typeof CommandPrimitive.Item>) {\n  return (\n    <CommandPrimitive.Item\n      data-slot=\"command-item\"\n      className={cn(\n        \"data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CommandShortcut({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) {\n  return (\n    <span\n      data-slot=\"command-shortcut\"\n      className={cn(\n        \"text-muted-foreground ml-auto text-xs tracking-widest\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Command,\n  CommandDialog,\n  CommandEmpty,\n  CommandGroup,\n  CommandInput,\n  CommandItem,\n  CommandList,\n  CommandSeparator,\n  CommandShortcut,\n};\n","import * as React from 'react';\n\nimport { XIcon } from 'lucide-react';\n\nimport * as DialogPrimitive from '@radix-ui/react-dialog';\n\nimport { cn } from '../../../libs/utils';\n\nfunction Dialog({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Root>) {\n  return <DialogPrimitive.Root data-slot=\"dialog\" {...props} />\n}\n\nfunction DialogTrigger({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Trigger>) {\n  return <DialogPrimitive.Trigger data-slot=\"dialog-trigger\" {...props} />\n}\n\nfunction DialogPortal({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Portal>) {\n  return <DialogPrimitive.Portal data-slot=\"dialog-portal\" {...props} />\n}\n\nfunction DialogClose({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Close>) {\n  return <DialogPrimitive.Close data-slot=\"dialog-close\" {...props} />\n}\n\nfunction DialogOverlay({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Overlay>) {\n  return (\n    <DialogPrimitive.Overlay\n      data-slot=\"dialog-overlay\"\n      className={cn(\n        \"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DialogContent({\n  className,\n  children,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Content>) {\n  return (\n    <DialogPortal data-slot=\"dialog-portal\">\n      <DialogOverlay />\n      <DialogPrimitive.Content\n        data-slot=\"dialog-content\"\n        className={cn(\n          \"bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg\",\n          className\n        )}\n        {...props}\n      >\n        {children}\n        <DialogPrimitive.Close className=\"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\">\n          <XIcon />\n          <span className=\"sr-only\">Close</span>\n        </DialogPrimitive.Close>\n      </DialogPrimitive.Content>\n    </DialogPortal>\n  )\n}\n\nfunction DialogHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"dialog-header\"\n      className={cn(\"flex flex-col gap-2 text-center sm:text-left\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction DialogFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"dialog-footer\"\n      className={cn(\n        \"flex flex-col-reverse gap-2 sm:flex-row sm:justify-end\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DialogTitle({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Title>) {\n  return (\n    <DialogPrimitive.Title\n      data-slot=\"dialog-title\"\n      className={cn(\"text-lg leading-none font-semibold\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction DialogDescription({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Description>) {\n  return (\n    <DialogPrimitive.Description\n      data-slot=\"dialog-description\"\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Dialog,\n  DialogClose,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogOverlay,\n  DialogPortal,\n  DialogTitle,\n  DialogTrigger,\n};\n","import * as React from 'react';\n\nimport { cn } from '../../../libs/utils';\n\nfunction Input({ className, type, ...props }: React.ComponentProps<\"input\">) {\n  return (\n    <input\n      type={type}\n      data-slot=\"input\"\n      className={cn(\n        \"file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        \"focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]\",\n        \"aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Input };\n","import * as React from 'react';\n\nimport * as PopoverPrimitive from '@radix-ui/react-popover';\n\nimport { cn } from '../../../libs/utils';\n\nfunction Popover({\n  ...props\n}: React.ComponentProps<typeof PopoverPrimitive.Root>) {\n  return <PopoverPrimitive.Root data-slot=\"popover\" {...props} />\n}\n\nfunction PopoverTrigger({\n  ...props\n}: React.ComponentProps<typeof PopoverPrimitive.Trigger>) {\n  return <PopoverPrimitive.Trigger data-slot=\"popover-trigger\" {...props} />\n}\n\nfunction PopoverContent({\n  className,\n  align = \"center\",\n  sideOffset = 4,\n  ...props\n}: React.ComponentProps<typeof PopoverPrimitive.Content>) {\n  return (\n    <PopoverPrimitive.Portal>\n      <PopoverPrimitive.Content\n        data-slot=\"popover-content\"\n        align={align}\n        sideOffset={sideOffset}\n        className={cn(\n          \"bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden\",\n          className\n        )}\n        {...props}\n      />\n    </PopoverPrimitive.Portal>\n  )\n}\n\nfunction PopoverAnchor({\n  ...props\n}: React.ComponentProps<typeof PopoverPrimitive.Anchor>) {\n  return <PopoverPrimitive.Anchor data-slot=\"popover-anchor\" {...props} />\n}\n\nexport { Popover, PopoverAnchor, PopoverContent, PopoverTrigger };\n","'use client';\n\nimport { withProps } from '@udecode/cn';\nimport type { Value } from '@udecode/plate';\nimport { AIPlugin } from '@udecode/plate-ai/react';\nimport {\n  BoldPlugin,\n  CodePlugin,\n  ItalicPlugin,\n  StrikethroughPlugin,\n  SubscriptPlugin,\n  SuperscriptPlugin,\n  UnderlinePlugin,\n} from '@udecode/plate-basic-marks/react';\nimport { BlockquotePlugin } from '@udecode/plate-block-quote/react';\nimport { CalloutPlugin } from '@udecode/plate-callout/react';\nimport {\n  CodeBlockPlugin,\n  CodeLinePlugin,\n  CodeSyntaxPlugin,\n} from '@udecode/plate-code-block/react';\nimport { CommentsPlugin } from '@udecode/plate-comments/react';\nimport { DatePlugin } from '@udecode/plate-date/react';\nimport { EmojiInputPlugin } from '@udecode/plate-emoji/react';\nimport { ExcalidrawPlugin } from '@udecode/plate-excalidraw/react';\nimport { HEADING_KEYS } from '@udecode/plate-heading';\nimport { TocPlugin } from '@udecode/plate-heading/react';\nimport { HighlightPlugin } from '@udecode/plate-highlight/react';\nimport { HorizontalRulePlugin } from '@udecode/plate-horizontal-rule/react';\nimport { KbdPlugin } from '@udecode/plate-kbd/react';\nimport {\n  ColumnItemPlugin,\n  ColumnPlugin,\n} from '@udecode/plate-layout/react';\nimport { LinkPlugin } from '@udecode/plate-link/react';\nimport {\n  EquationPlugin,\n  InlineEquationPlugin,\n} from '@udecode/plate-math/react';\nimport {\n  AudioPlugin,\n  FilePlugin,\n  ImagePlugin,\n  MediaEmbedPlugin,\n  PlaceholderPlugin,\n  VideoPlugin,\n} from '@udecode/plate-media/react';\nimport {\n  MentionInputPlugin,\n  MentionPlugin,\n} from '@udecode/plate-mention/react';\nimport { SlashInputPlugin } from '@udecode/plate-slash-command/react';\nimport { SuggestionPlugin } from '@udecode/plate-suggestion/react';\nimport {\n  TableCellHeaderPlugin,\n  TableCellPlugin,\n  TablePlugin,\n  TableRowPlugin,\n} from '@udecode/plate-table/react';\nimport { TogglePlugin } from '@udecode/plate-toggle/react';\nimport {\n  type CreatePlateEditorOptions,\n  ParagraphPlugin,\n  PlateLeaf,\n  usePlateEditor,\n} from '@udecode/plate/react';\n\nimport { copilotPlugins } from '../plugins/copilot-plugins';\nimport { editorPlugins } from '../plugins/editor-plugins';\nimport { FixedToolbarPlugin } from '../plugins/fixed-toolbar-plugin';\nimport { FloatingToolbarPlugin } from '../plugins/floating-toolbar-plugin';\nimport { AILeaf } from '../ui/ai-leaf';\nimport { BlockquoteElement } from '../ui/blockquote-element';\nimport { CalloutElement } from '../ui/callout-element';\nimport { CodeBlockElement } from '../ui/code-block-element';\nimport { CodeLeaf } from '../ui/code-leaf';\nimport { CodeLineElement } from '../ui/code-line-element';\nimport { CodeSyntaxLeaf } from '../ui/code-syntax-leaf';\nimport { ColumnElement } from '../ui/column-element';\nimport { ColumnGroupElement } from '../ui/column-group-element';\nimport { CommentLeaf } from '../ui/comment-leaf';\nimport { DateElement } from '../ui/date-element';\nimport { EmojiInputElement } from '../ui/emoji-input-element';\nimport { EquationElement } from '../ui/equation-element';\nimport { ExcalidrawElement } from '../ui/excalidraw-element';\nimport { HeadingElement } from '../ui/heading-element';\nimport { HighlightLeaf } from '../ui/highlight-leaf';\nimport { HrElement } from '../ui/hr-element';\nimport { ImageElement } from '../ui/image-element';\nimport { InlineEquationElement } from '../ui/inline-equation-element';\nimport { KbdLeaf } from '../ui/kbd-leaf';\nimport { LinkElement } from '../ui/link-element';\nimport { MediaAudioElement } from '../ui/media-audio-element';\nimport { MediaEmbedElement } from '../ui/media-embed-element';\nimport { MediaFileElement } from '../ui/media-file-element';\nimport { MediaPlaceholderElement } from '../ui/media-placeholder-element';\nimport { MediaVideoElement } from '../ui/media-video-element';\nimport { MentionElement } from '../ui/mention-element';\nimport { MentionInputElement } from '../ui/mention-input-element';\nimport { ParagraphElement } from '../ui/paragraph-element';\nimport { withPlaceholders } from '../ui/placeholder';\nimport { SlashInputElement } from '../ui/slash-input-element';\nimport { SuggestionLeaf } from '../ui/suggestion-leaf';\nimport {\n  TableCellElement,\n  TableCellHeaderElement,\n} from '../ui/table-cell-element';\nimport { TableElement } from '../ui/table-element';\nimport { TableRowElement } from '../ui/table-row-element';\nimport { TocElement } from '../ui/toc-element';\nimport { ToggleElement } from '../ui/toggle-element';\n\nconst viewComponents = {\n  [AudioPlugin.key]: MediaAudioElement,\n  [BlockquotePlugin.key]: BlockquoteElement,\n  [BoldPlugin.key]: withProps(PlateLeaf, { as: 'strong' }),\n  [CalloutPlugin.key]: CalloutElement,\n  [CodeBlockPlugin.key]: CodeBlockElement,\n  [CodeLinePlugin.key]: CodeLineElement,\n  [CodePlugin.key]: CodeLeaf,\n  [CodeSyntaxPlugin.key]: CodeSyntaxLeaf,\n  [ColumnItemPlugin.key]: ColumnElement,\n  [ColumnPlugin.key]: ColumnGroupElement,\n  [CommentsPlugin.key]: CommentLeaf,\n  [DatePlugin.key]: DateElement,\n  [EquationPlugin.key]: EquationElement,\n  [ExcalidrawPlugin.key]: ExcalidrawElement,\n  [FilePlugin.key]: MediaFileElement,\n  [HEADING_KEYS.h1]: withProps(HeadingElement, { variant: 'h1' }),\n  [HEADING_KEYS.h2]: withProps(HeadingElement, { variant: 'h2' }),\n  [HEADING_KEYS.h3]: withProps(HeadingElement, { variant: 'h3' }),\n  [HEADING_KEYS.h4]: withProps(HeadingElement, { variant: 'h4' }),\n  [HEADING_KEYS.h5]: withProps(HeadingElement, { variant: 'h5' }),\n  [HEADING_KEYS.h6]: withProps(HeadingElement, { variant: 'h6' }),\n  [HighlightPlugin.key]: HighlightLeaf,\n  [HorizontalRulePlugin.key]: HrElement,\n  [ImagePlugin.key]: ImageElement,\n  [InlineEquationPlugin.key]: InlineEquationElement,\n  [ItalicPlugin.key]: withProps(PlateLeaf, { as: 'em' }),\n  [KbdPlugin.key]: KbdLeaf,\n  [LinkPlugin.key]: LinkElement,\n  [MediaEmbedPlugin.key]: MediaEmbedElement,\n  [MentionPlugin.key]: MentionElement,\n  [ParagraphPlugin.key]: ParagraphElement,\n  [PlaceholderPlugin.key]: MediaPlaceholderElement,\n  [StrikethroughPlugin.key]: withProps(PlateLeaf, { as: 's' }),\n  [SubscriptPlugin.key]: withProps(PlateLeaf, { as: 'sub' }),\n  [SuggestionPlugin.key]: SuggestionLeaf,\n  [SuperscriptPlugin.key]: withProps(PlateLeaf, { as: 'sup' }),\n  [TableCellHeaderPlugin.key]: TableCellHeaderElement,\n  [TableCellPlugin.key]: TableCellElement,\n  [TablePlugin.key]: TableElement,\n  [TableRowPlugin.key]: TableRowElement,\n  [TocPlugin.key]: TocElement,\n  [TogglePlugin.key]: ToggleElement,\n  [UnderlinePlugin.key]: withProps(PlateLeaf, { as: 'u' }),\n  [VideoPlugin.key]: MediaVideoElement,\n};\n\nconst editorComponents = {\n  ...viewComponents,\n  [AIPlugin.key]: AILeaf,\n  [EmojiInputPlugin.key]: EmojiInputElement,\n  [MentionInputPlugin.key]: MentionInputElement,\n  [SlashInputPlugin.key]: SlashInputElement,\n};\nexport type PLUGIN_KEY = \"undo\"|\"redo\"|\"ai\"|\"export\"|\"import\"|\"insert\"|\"turn_into\"|\"font_size\"|\"bold\"|\"italic\"|\"underline\"|\"strikethrough\"|\"code\"|\"font_color\"|\"background_color\"|\"align\"|\"indent_list\"|\"bulleted_list\"|\"indent_todo\"|\"toggle\"|\"link\"|\"table\"|\"emoji\"|\"image\"|\"video\"|\"audio\"|\"file\"|\"line_height\"|\"outdent\"|\"indent\"|\"more\"|\"highlight\"|\"comment\"|\"mode\"|\"equation\"|\"suggestion\"\nexport const PLUGIN_DEFAULTS:PLUGIN_KEY[] = [\"undo\",\"redo\",\"ai\",\"export\",\"import\",\"insert\",\"turn_into\",\"font_size\",\"bold\",\"italic\",\"underline\",\"strikethrough\",\"code\",\"font_color\",\"background_color\",\"align\",\"indent_list\",\"bulleted_list\",\"indent_todo\",\"toggle\",\"link\",\"table\",\"emoji\",\"image\",\"video\",\"audio\",\"file\",\"line_height\",\"outdent\",\"indent\",\"more\",\"highlight\",\"comment\",\"mode\"]\n\nexport const useCreateEditor = (\n  {\n    isFixedToolbar = true,\n    isFloatingToolbar = true,\n    allowPlugins = PLUGIN_DEFAULTS,\n    toolbarClasses = {},\n    floatingClasses = {},\n    components,\n    override,\n    placeholders,\n    readOnly,\n    ...options\n  }: {\n    isFixedToolbar?: boolean;\n    isFloatingToolbar?: boolean;\n    allowPlugins?: PLUGIN_KEY[];\n    toolbarClasses?: {className?: string; groupClass?: string };\n    floatingClasses?: {className?: string; groupClass?: string };\n    components?: Record<string, any>;\n    placeholders?: boolean;\n    plugins?: any[];\n    readOnly?: boolean;\n  } & Omit<CreatePlateEditorOptions, 'plugins'> = {},\n  deps: any[] = []\n) => {\n  return usePlateEditor<Value, (typeof editorPlugins)[number]>(\n    {\n      override: {\n        components: {\n          ...(readOnly\n            ? viewComponents\n            : placeholders\n              ? withPlaceholders(editorComponents)\n              : editorComponents),\n          ...components,\n        },\n        ...override,\n      },\n      plugins: [\n        ...copilotPlugins,\n        ...editorPlugins,\n        ...(isFixedToolbar ? [FixedToolbarPlugin({allows: PLUGIN_DEFAULTS, classes: toolbarClasses })] : allowPlugins?.length > 0 ? [FixedToolbarPlugin({allows: allowPlugins, classes: toolbarClasses})] : []),\n        ...(isFloatingToolbar ? [FloatingToolbarPlugin({allows: PLUGIN_DEFAULTS, classes: floatingClasses })] : allowPlugins?.length > 0 ? [FloatingToolbarPlugin({allows: allowPlugins, classes: floatingClasses})] : []),\n      ],\n      value: [],\n      ...options,\n    },\n    deps\n  );\n};\n","'use client';\n\nimport { faker } from '@faker-js/faker';\nimport type { TElement } from '@udecode/plate';\nimport { CopilotPlugin } from '@udecode/plate-ai/react';\nimport {\n  serializeMd,\n  stripMarkdown,\n} from '@udecode/plate-markdown';\n\nimport { GhostText } from '../ui/ghost-text';\nimport { markdownPlugin } from './markdown-plugin';\n\nexport const copilotPlugins:any[] = [\n  markdownPlugin,\n  CopilotPlugin.configure(({ api }) => ({\n    options: {\n      completeOptions: {\n        api: '/api/ai/copilot',\n        body: {\n          system: `You are an advanced AI writing assistant, similar to VSCode Copilot but for general text. Your task is to predict and generate the next part of the text based on the given context.\n  \n  Rules:\n  - Continue the text naturally up to the next punctuation mark (., ,, ;, :, ?, or !).\n  - Maintain style and tone. Don't repeat given text.\n  - For unclear context, provide the most likely continuation.\n  - Handle code snippets, lists, or structured text if needed.\n  - Don't include \"\"\" in your response.\n  - CRITICAL: Always end with a punctuation mark.\n  - CRITICAL: Avoid starting a new block. Do not use block formatting like >, #, 1., 2., -, etc. The suggestion should continue in the same block as the context.\n  - If no context is provided or you can't generate a continuation, return \"0\" without explanation.`,\n        },\n        onError: () => {\n          // Mock the API response. Remove it when you implement the route /api/ai/copilot\n          api.copilot.setBlockSuggestion({\n            text: stripMarkdown(faker.lorem.sentence()),\n          });\n        },\n        onFinish: (_, completion) => {\n          if (completion === '0') return;\n\n          api.copilot.setBlockSuggestion({\n            text: stripMarkdown(completion),\n          });\n        },\n      },\n      debounceDelay: 500,\n      renderGhostText: GhostText,\n      getPrompt: ({ editor }) => {\n        const contextEntry = editor.api.block({ highest: true });\n\n        if (!contextEntry) return '';\n\n        const prompt = serializeMd(editor, {\n          value: [contextEntry[0] as TElement],\n        });\n\n        return `Continue the text up to the next punctuation mark:\n  \"\"\"\n  ${prompt}\n  \"\"\"`;\n      },\n    },\n  })),\n] as const;\n","'use client';\n\nimport * as React from 'react';\n\nimport { CopilotPlugin } from '@udecode/plate-ai/react';\nimport {\n  useElement,\n  usePluginOption,\n} from '@udecode/plate/react';\n\nexport const GhostText:any = () => {\n  const element = useElement();\n\n  const isSuggested = usePluginOption(\n    CopilotPlugin,\n    'isSuggested',\n    element.id as string\n  );\n\n  if (!isSuggested) return null;\n\n  return <GhostTextContent />;\n};\n\nexport function GhostTextContent() {\n  const suggestionText = usePluginOption(CopilotPlugin, 'suggestionText');\n\n  return (\n    <span\n      className=\"pointer-events-none text-muted-foreground/70 max-sm:hidden\"\n      contentEditable={false}\n    >\n      {suggestionText && suggestionText}\n    </span>\n  );\n}\n","'use client';\n\nimport remarkGfm from 'remark-gfm';\nimport remarkMath from 'remark-math';\n\nimport {\n  MarkdownPlugin,\n  remarkMdx,\n  remarkMention,\n} from '@udecode/plate-markdown';\nimport { SuggestionPlugin } from '@udecode/plate-suggestion/react';\n\nexport const markdownPlugin:any = MarkdownPlugin.configure({\n  options: {\n    disallowedNodes: [SuggestionPlugin.key],\n    remarkPlugins: [remarkMath, remarkGfm, remarkMdx, remarkMention],\n  },\n});\n","'use client';\n\nimport emojiMartData from '@emoji-mart/data';\nimport { CalloutPlugin } from '@udecode/plate-callout/react';\nimport { CodeBlockPlugin } from '@udecode/plate-code-block/react';\nimport { DatePlugin } from '@udecode/plate-date/react';\nimport { DocxPlugin } from '@udecode/plate-docx';\nimport { EmojiPlugin } from '@udecode/plate-emoji/react';\nimport {\n  FontBackgroundColorPlugin,\n  FontColorPlugin,\n  FontSizePlugin,\n} from '@udecode/plate-font/react';\nimport { HighlightPlugin } from '@udecode/plate-highlight/react';\nimport { HorizontalRulePlugin } from '@udecode/plate-horizontal-rule/react';\nimport { JuicePlugin } from '@udecode/plate-juice';\nimport { KbdPlugin } from '@udecode/plate-kbd/react';\nimport { ColumnPlugin } from '@udecode/plate-layout/react';\nimport { SlashPlugin } from '@udecode/plate-slash-command/react';\nimport { TogglePlugin } from '@udecode/plate-toggle/react';\nimport { TrailingBlockPlugin } from '@udecode/plate-trailing-block';\n\nimport { aiPlugins } from './ai-plugins';\nimport { alignPlugin } from './align-plugin';\nimport { autoformatPlugin } from './autoformat-plugin';\nimport { basicNodesPlugins } from './basic-nodes-plugins';\nimport { blockMenuPlugins } from './block-menu-plugins';\nimport { commentsPlugin } from './comments-plugin';\nimport { cursorOverlayPlugin } from './cursor-overlay-plugin';\nimport { deletePlugins } from './delete-plugins';\nimport { discussionPlugin } from './discussion-plugin';\nimport { dndPlugins } from './dnd-plugins';\nimport { equationPlugins } from './equation-plugins';\nimport { exitBreakPlugin } from './exit-break-plugin';\nimport { indentListPlugins } from './indent-list-plugins';\nimport { lineHeightPlugin } from './line-height-plugin';\nimport { linkPlugin } from './link-plugin';\nimport { markdownPlugin } from './markdown-plugin';\nimport { mediaPlugins } from './media-plugins';\nimport { mentionPlugin } from './mention-plugin';\nimport { resetBlockTypePlugin } from './reset-block-type-plugin';\nimport { skipMarkPlugin } from './skip-mark-plugin';\nimport { softBreakPlugin } from './soft-break-plugin';\nimport { suggestionPlugin } from './suggestion-plugin';\nimport { tablePlugin } from './table-plugin';\nimport { tocPlugin } from './toc-plugin';\n\nexport const viewPlugins:any[] = [\n  ...basicNodesPlugins,\n  HorizontalRulePlugin,\n  linkPlugin,\n  DatePlugin,\n  mentionPlugin,\n  tablePlugin,\n  TogglePlugin,\n  tocPlugin,\n  ...mediaPlugins,\n  ...equationPlugins,\n  CalloutPlugin,\n  ColumnPlugin,\n\n  // Marks\n  FontColorPlugin,\n  FontBackgroundColorPlugin,\n  FontSizePlugin,\n  HighlightPlugin,\n  KbdPlugin,\n  skipMarkPlugin,\n\n  // Block Style\n  alignPlugin,\n  ...indentListPlugins,\n  lineHeightPlugin,\n\n  // Collaboration\n  discussionPlugin,\n  commentsPlugin,\n  // suggestionPlugin.configure({\n  //   render: { belowNodes: SuggestionBelowNodes as any },\n  // }),\n  suggestionPlugin,\n] as const;\n\nexport const editorPlugins = [\n  // AI\n  ...aiPlugins,\n\n  // Nodes\n  ...viewPlugins,\n\n  // Functionality\n  SlashPlugin.extend({\n    options: {\n      triggerQuery(editor) {\n        return !editor.api.some({\n          match: { type: editor.getType(CodeBlockPlugin) },\n        });\n      },\n    },\n  }),\n  autoformatPlugin,\n  cursorOverlayPlugin,\n  ...blockMenuPlugins,\n  ...dndPlugins,\n  EmojiPlugin.configure({ options: { data: emojiMartData as any } }),\n  exitBreakPlugin,\n  resetBlockTypePlugin,\n  ...deletePlugins,\n  softBreakPlugin,\n  TrailingBlockPlugin,\n\n  // Deserialization\n  DocxPlugin,\n  markdownPlugin,\n  JuicePlugin,\n\n  // UI\n  // FixedToolbarPlugin,\n  // FloatingToolbarPlugin,\n\n];\n","'use client';\n\nimport * as React from 'react';\n\nimport { PathApi } from '@udecode/plate';\nimport {\n  streamInsertChunk,\n  withAIBatch,\n} from '@udecode/plate-ai';\nimport type { AIChatPluginConfig } from '@udecode/plate-ai/react';\nimport {\n  AIChatPlugin,\n  AIPlugin,\n  useChatChunk,\n} from '@udecode/plate-ai/react';\nimport { usePluginOption } from '@udecode/plate/react';\n\nimport {\n  markdownPlugin,\n} from '../../../components/editor/plugins/markdown-plugin';\nimport { AILoadingBar } from '../ui/ai-loading-bar';\nimport { AIMenu } from '../ui/ai-menu';\nimport { cursorOverlayPlugin } from './cursor-overlay-plugin';\n\nconst systemCommon:any = `\\\nYou are an advanced AI-powered note-taking assistant, designed to enhance productivity and creativity in note management.\nRespond directly to user prompts with clear, concise, and relevant content. Maintain a neutral, helpful tone.\n\nRules:\n- <Document> is the entire note the user is working on.\n- <Reminder> is a reminder of how you should reply to INSTRUCTIONS. It does not apply to questions.\n- Anything else is the user prompt.\n- Your response should be tailored to the user's prompt, providing precise assistance to optimize note management.\n- For INSTRUCTIONS: Follow the <Reminder> exactly. Provide ONLY the content to be inserted or replaced. No explanations or comments.\n- For QUESTIONS: Provide a helpful and concise answer. You may include brief explanations if necessary.\n- CRITICAL: DO NOT remove or modify the following custom MDX tags: <u>, <callout>, <kbd>, <toc>, <sub>, <sup>, <mark>, <del>, <date>, <span>, <column>, <column_group>, <file>, <audio>, <video> in <Selection> unless the user explicitly requests this change.\n- CRITICAL: Distinguish between INSTRUCTIONS and QUESTIONS. Instructions typically ask you to modify or add content. Questions ask for information or clarification.\n- CRITICAL: when asked to write in markdown, do not start with \\`\\`\\`markdown.\n`;\n\nconst systemDefault:any = `\\\n${systemCommon}\n- <Block> is the current block of text the user is working on.\n- Ensure your output can seamlessly fit into the existing <Block> structure.\n\n<Block>\n{block}\n</Block>\n`;\n\nconst systemSelecting:any = `\\\n${systemCommon}\n- <Block> is the block of text containing the user's selection, providing context.\n- Ensure your output can seamlessly fit into the existing <Block> structure.\n- <Selection> is the specific text the user has selected in the block and wants to modify or ask about.\n- Consider the context provided by <Block>, but only modify <Selection>. Your response should be a direct replacement for <Selection>.\n<Block>\n{block}\n</Block>\n<Selection>\n{selection}\n</Selection>\n`;\n\nconst systemBlockSelecting:any = `\\\n${systemCommon}\n- <Selection> represents the full blocks of text the user has selected and wants to modify or ask about.\n- Your response should be a direct replacement for the entire <Selection>.\n- Maintain the overall structure and formatting of the selected blocks, unless explicitly instructed otherwise.\n- CRITICAL: Provide only the content to replace <Selection>. Do not add additional blocks or change the block structure unless specifically requested.\n<Selection>\n{block}\n</Selection>\n`;\n\n// const userDefault = `{prompt}`;\nconst userDefault:any = `<Reminder>\nCRITICAL: NEVER write <Block>.\n</Reminder>\n{prompt}`;\n\nconst userSelecting:any = `<Reminder>\nIf this is a question, provide a helpful and concise answer about <Selection>.\nIf this is an instruction, provide ONLY the text to replace <Selection>. No explanations.\nEnsure it fits seamlessly within <Block>. If <Block> is empty, write ONE random sentence.\nNEVER write <Block> or <Selection>.\n</Reminder>\n{prompt} about <Selection>`;\n\nconst userBlockSelecting:any = `<Reminder>\nIf this is a question, provide a helpful and concise answer about <Selection>.\nIf this is an instruction, provide ONLY the content to replace the entire <Selection>. No explanations.\nMaintain the overall structure unless instructed otherwise.\nNEVER write <Block> or <Selection>.\n</Reminder>\n{prompt} about <Selection>`;\n\nexport const PROMPT_TEMPLATES:any = {\n  systemBlockSelecting,\n  systemDefault,\n  systemSelecting,\n  userBlockSelecting,\n  userDefault,\n  userSelecting,\n};\n\nexport const aiPlugins = [\n  cursorOverlayPlugin,\n  markdownPlugin,\n  AIPlugin,\n  AIChatPlugin.configure({\n    options: {\n      promptTemplate: ({ isBlockSelecting, isSelecting }) => {\n        return isBlockSelecting\n          ? PROMPT_TEMPLATES.userBlockSelecting\n          : isSelecting\n            ? PROMPT_TEMPLATES.userSelecting\n            : PROMPT_TEMPLATES.userDefault;\n      },\n      systemTemplate: ({ isBlockSelecting, isSelecting }) => {\n        return isBlockSelecting\n          ? PROMPT_TEMPLATES.systemBlockSelecting\n          : isSelecting\n            ? PROMPT_TEMPLATES.systemSelecting\n            : PROMPT_TEMPLATES.systemDefault;\n      },\n    },\n    render: {\n      afterContainer: () => <AILoadingBar />,\n      afterEditable: () => <AIMenu />,\n    },\n  }).extend({\n    useHooks: ({ editor, getOption }) => {\n      const mode = usePluginOption(\n        { key: 'aiChat' } as AIChatPluginConfig,\n        'mode'\n      );\n\n      useChatChunk({\n        onChunk: ({ chunk, isFirst, nodes }) => {\n          if (isFirst && mode == 'insert') {\n            editor.tf.withoutSaving(() => {\n              editor.tf.insertNodes(\n                {\n                  children: [{ text: '' }],\n                  type: AIChatPlugin.key,\n                },\n                {\n                  at: PathApi.next(editor.selection!.focus.path.slice(0, 1)),\n                }\n              );\n            });\n            editor.setOption(AIChatPlugin, 'streaming', true);\n          }\n\n          if (mode === 'insert' && nodes.length > 0) {\n            withAIBatch(\n              editor,\n              () => {\n                if (!getOption('streaming')) return;\n                editor.tf.withScrolling(() => {\n                  streamInsertChunk(editor, chunk, {\n                    textProps: {\n                      ai: true,\n                    },\n                  });\n                });\n              },\n              { split: isFirst }\n            );\n          }\n        },\n        onFinish: () => {\n          editor.setOption(AIChatPlugin, 'streaming', false);\n          editor.setOption(AIChatPlugin, '_blockChunks', '');\n          editor.setOption(AIChatPlugin, '_blockPath', null);\n        },\n      });\n    },\n  }),\n] as const;\n","'use client';\n\nimport { Pause } from 'lucide-react';\n\nimport { AIChatPlugin } from '@udecode/plate-ai/react';\nimport {\n  useEditorPlugin,\n  usePluginOption,\n} from '@udecode/plate/react';\n\nimport { cn } from '../../../libs/utils';\nimport { Button } from './button';\n\nexport const AILoadingBar = () => {\n  const chat = usePluginOption(AIChatPlugin, 'chat');\n  const mode = usePluginOption(AIChatPlugin, 'mode');\n\n  const { status } = chat;\n\n  const { api } = useEditorPlugin(AIChatPlugin);\n\n  const isLoading = status === 'streaming' || status === 'submitted';\n\n  const visible = isLoading && mode === 'insert';\n\n  if (!visible) return null;\n\n  return (\n    <div\n      className={cn(\n        'absolute bottom-4 left-1/2 z-10 flex -translate-x-1/2 items-center gap-3 rounded-md border border-border bg-muted px-3 py-1.5 text-sm text-muted-foreground shadow-md transition-all duration-300'\n      )}\n    >\n      <span className=\"h-4 w-4 animate-spin rounded-full border-2 border-muted-foreground border-t-transparent\" />\n      <span>{status === 'submitted' ? 'Thinking...' : 'Writing...'}</span>\n      <Button\n        size=\"sm\"\n        variant=\"ghost\"\n        className=\"flex items-center gap-1 text-xs\"\n        onClick={() => api.aiChat.stop()}\n      >\n        <Pause className=\"h-4 w-4\" />\n        Stop\n        <kbd className=\"ml-1 rounded bg-border px-1 font-mono text-[10px] text-muted-foreground shadow-sm\">\n          Esc\n        </kbd>\n      </Button>\n    </div>\n  );\n};\n","'use client';\n\nimport * as React from 'react';\n\nimport { Command as CommandPrimitive } from 'cmdk';\nimport { Loader2Icon } from 'lucide-react';\n\nimport {\n  isHotkey,\n  type NodeEntry,\n} from '@udecode/plate';\nimport {\n  AIChatPlugin,\n  useEditorChat,\n  useLastAssistantMessage,\n} from '@udecode/plate-ai/react';\nimport {\n  BlockSelectionPlugin,\n  useIsSelecting,\n} from '@udecode/plate-selection/react';\nimport {\n  useEditorPlugin,\n  useHotkeys,\n  usePluginOption,\n} from '@udecode/plate/react';\n\nimport { cn } from '../../../libs/utils';\nimport { useChat } from '../core/use-chat';\nimport { AIChatEditor } from './ai-chat-editor';\nimport { AIMenuItems } from './ai-menu-items';\nimport {\n  Command,\n  CommandList,\n} from './command';\nimport {\n  Popover,\n  PopoverAnchor,\n  PopoverContent,\n} from './popover';\n\nexport function AIMenu() {\n  const { api, editor } = useEditorPlugin(AIChatPlugin);\n  const open = usePluginOption(AIChatPlugin, 'open');\n  const mode = usePluginOption(AIChatPlugin, 'mode');\n  const streaming = usePluginOption(AIChatPlugin, 'streaming');\n  const isSelecting = useIsSelecting();\n\n  const [value, setValue] = React.useState('');\n\n  const chat = useChat();\n\n  const { input, messages, setInput, status } = chat;\n  const [anchorElement, setAnchorElement] = React.useState<HTMLElement | null>(\n    null\n  );\n\n  const content = useLastAssistantMessage()?.content;\n\n  React.useEffect(() => {\n    if (streaming) {\n      const anchor = api.aiChat.node({ anchor: true });\n      setTimeout(() => {\n        const anchorDom = editor.api.toDOMNode(anchor![0])!;\n        setAnchorElement(anchorDom);\n      }, 0);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [streaming]);\n\n  const setOpen = (open: boolean) => {\n    if (open) {\n      api.aiChat.show();\n    } else {\n      api.aiChat.hide();\n    }\n  };\n\n  const show = (anchorElement: HTMLElement) => {\n    setAnchorElement(anchorElement);\n    setOpen(true);\n  };\n\n  useEditorChat({\n    chat,\n    onOpenBlockSelection: (blocks: NodeEntry[]) => {\n      show(editor.api.toDOMNode(blocks.at(-1)![0])!);\n    },\n    onOpenChange: (open) => {\n      if (!open) {\n        setAnchorElement(null);\n        setInput('');\n      }\n    },\n    onOpenCursor: () => {\n      const [ancestor] = editor.api.block({ highest: true })!;\n\n      if (!editor.api.isAt({ end: true }) && !editor.api.isEmpty(ancestor)) {\n        editor\n          .getApi(BlockSelectionPlugin)\n          .blockSelection.set(ancestor.id as string);\n      }\n\n      show(editor.api.toDOMNode(ancestor)!);\n    },\n    onOpenSelection: () => {\n      show(editor.api.toDOMNode(editor.api.blocks().at(-1)![0])!);\n    },\n  });\n\n  useHotkeys(\n    'meta+j',\n    () => {\n      api.aiChat.show();\n    },\n    { enableOnContentEditable: true, enableOnFormTags: true }\n  );\n\n  useHotkeys('esc', () => {\n    api.aiChat.stop();\n\n    // remove when you implement the route /api/ai/command\n    chat._abortFakeStream();\n  });\n\n  const isLoading = status === 'streaming' || status === 'submitted';\n\n  if (isLoading && mode === 'insert') {\n    return null;\n  }\n\n  return (\n    <Popover open={open} onOpenChange={setOpen} modal={false}>\n      <PopoverAnchor virtualRef={{ current: anchorElement! }} />\n\n      <PopoverContent\n        className=\"border-none bg-transparent p-0 shadow-none\"\n        style={{\n          width: anchorElement?.offsetWidth,\n        }}\n        onEscapeKeyDown={(e) => {\n          e.preventDefault();\n\n          api.aiChat.hide();\n        }}\n        align=\"center\"\n        side=\"bottom\"\n      >\n        <Command\n          className=\"w-full rounded-lg border shadow-md\"\n          value={value}\n          onValueChange={setValue}\n        >\n          {mode === 'chat' && isSelecting && content && (\n            <AIChatEditor content={content} />\n          )}\n\n          {isLoading ? (\n            <div className=\"flex grow items-center gap-2 p-2 text-sm text-muted-foreground select-none\">\n              <Loader2Icon className=\"size-4 animate-spin\" />\n              {messages.length > 1 ? 'Editing...' : 'Thinking...'}\n            </div>\n          ) : (\n            <CommandPrimitive.Input\n              className={cn(\n                'flex h-9 w-full min-w-0 border-input bg-transparent px-3 py-1 text-base transition-[color,box-shadow] outline-none placeholder:text-muted-foreground md:text-sm dark:bg-input/30',\n                'aria-invalid:border-destructive aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40',\n                'border-b focus-visible:ring-transparent'\n              )}\n              value={input}\n              onKeyDown={(e) => {\n                if (isHotkey('backspace')(e) && input.length === 0) {\n                  e.preventDefault();\n                  api.aiChat.hide();\n                }\n                if (isHotkey('enter')(e) && !e.shiftKey && !value) {\n                  e.preventDefault();\n                  void api.aiChat.submit();\n                }\n              }}\n              onValueChange={setInput}\n              placeholder=\"Ask AI anything...\"\n              data-plate-focus\n              autoFocus\n            />\n          )}\n\n          {!isLoading && (\n            <CommandList>\n              <AIMenuItems setValue={setValue} />\n            </CommandList>\n          )}\n        </Command>\n      </PopoverContent>\n    </Popover>\n  );\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport { useChat as useBaseChat } from '@ai-sdk/react';\nimport { faker } from '@faker-js/faker';\n\nimport { CONFIGS } from '../../../configs/common';\n\nexport const useChat = () => {\n  // const { keys, model } = useSettings();\n\n  // remove when you implement the route /api/ai/command\n  const abortControllerRef = React.useRef<AbortController | null>(null);\n  const _abortFakeStream = () => {\n    if (abortControllerRef.current) {\n      abortControllerRef.current.abort();\n      abortControllerRef.current = null;\n    }\n  };\n\n  const chat = useBaseChat({\n    id: 'editor',\n    api: '/api/ai/command',\n    body: {\n      // !!! DEMO ONLY: don't use API keys client-side\n      apiKey: CONFIGS.API_KEY,\n      model: CONFIGS.MODEL,\n    },\n    \n    // Mock the API response. Remove it when you implement the route /api/ai/command\n    // fetch: async (input, init) => {\n    //   const res = await fetch(input, init);\n\n    //   if (!res.ok) {\n    //     let sample: 'markdown' | 'mdx' | null = null;\n\n    //     try {\n    //       const content = JSON.parse(init?.body as string).messages.at(\n    //         -1\n    //       ).content;\n\n    //       if (content.includes('Generate a markdown sample')) {\n    //         sample = 'markdown';\n    //       } else if (content.includes('Generate a mdx sample')) {\n    //         sample = 'mdx';\n    //       }\n    //     } catch {\n    //       sample = null;\n    //     }\n\n    //     abortControllerRef.current = new AbortController();\n    //     await new Promise((resolve) => setTimeout(resolve, 400));\n\n    //     const stream = fakeStreamText({\n    //       sample,\n    //       signal: abortControllerRef.current.signal,\n    //     });\n\n    //     return new Response(stream, {\n    //       headers: {\n    //         Connection: 'keep-alive',\n    //         'Content-Type': 'text/plain',\n    //       },\n    //     });\n    //   }\n\n    //   return res;\n    // },\n  });\n\n  return { ...chat, _abortFakeStream };\n};\n\n// Used for testing. Remove it after implementing useChat api.\nconst fakeStreamText = ({\n  chunkCount = 10,\n  sample = null,\n  signal,\n  streamProtocol = 'data',\n}: {\n  chunkCount?: number;\n  sample?: 'markdown' | 'mdx' | null;\n  signal?: AbortSignal;\n  streamProtocol?: 'data' | 'text';\n} = {}) => {\n  const blocks = (() => {\n    if (sample === 'markdown') {\n      return markdownChunks;\n    }\n\n    if (sample === 'mdx') {\n      return mdxChunks;\n    }\n\n    return [\n      Array.from({ length: chunkCount }, () => ({\n        delay: faker.number.int({ max: 100, min: 30 }),\n        texts: faker.lorem.words({ max: 3, min: 1 }) + ' ',\n      })),\n\n      Array.from({ length: chunkCount + 2 }, () => ({\n        delay: faker.number.int({ max: 100, min: 30 }),\n        texts: faker.lorem.words({ max: 3, min: 1 }) + ' ',\n      })),\n\n      Array.from({ length: chunkCount + 4 }, () => ({\n        delay: faker.number.int({ max: 100, min: 30 }),\n        texts: faker.lorem.words({ max: 3, min: 1 }) + ' ',\n      })),\n    ];\n  })();\n\n  const encoder = new TextEncoder();\n\n  return new ReadableStream({\n    async start(controller) {\n      if (signal?.aborted) {\n        controller.error(new Error('Aborted before start'));\n        return;\n      }\n\n      const abortHandler = () => {\n        controller.error(new Error('Stream aborted'));\n      };\n\n      signal?.addEventListener('abort', abortHandler);\n\n      for (let i = 0; i < blocks.length; i++) {\n        const block = blocks[i];\n\n        // Stream the block content\n        for (const chunk of block) {\n          await new Promise((resolve) => setTimeout(resolve, chunk.delay));\n\n          if (streamProtocol === 'text') {\n            controller.enqueue(encoder.encode(chunk.texts));\n          } else {\n            controller.enqueue(\n              encoder.encode(`0:${JSON.stringify(chunk.texts)}\\n`)\n            );\n          }\n        }\n\n        // Add double newline after each block except the last one\n        if (i < blocks.length - 1) {\n          if (streamProtocol === 'text') {\n            controller.enqueue(encoder.encode('\\n\\n'));\n          } else {\n            controller.enqueue(encoder.encode(`0:${JSON.stringify('\\n\\n')}\\n`));\n          }\n        }\n      }\n\n      if (streamProtocol === 'data') {\n        controller.enqueue(\n          `d:{\"finishReason\":\"stop\",\"usage\":{\"promptTokens\":0,\"completionTokens\":${blocks.reduce(\n            (sum, block) => sum + block.length,\n            0\n          )}}}\\n`\n        );\n      }\n\n      controller.close();\n    },\n  });\n};\n\nconst delay = faker.number.int({ max: 20, min: 5 });\n\nconst markdownChunks = [\n  [\n    { delay, texts: 'Make text ' },\n    { delay, texts: '**bold**' },\n    { delay, texts: ', ' },\n    { delay, texts: '*italic*' },\n    { delay, texts: ', ' },\n    { delay, texts: '__underlined__' },\n    { delay, texts: ', or apply a ' },\n    {\n      delay,\n      texts: '***combination***',\n    },\n    { delay, texts: ' ' },\n    { delay, texts: 'of ' },\n    { delay, texts: 'these ' },\n    { delay, texts: 'styles ' },\n    { delay, texts: 'for ' },\n    { delay, texts: 'a ' },\n    { delay, texts: 'visually ' },\n    { delay, texts: 'striking ' },\n    { delay, texts: 'effect.' },\n    { delay, texts: '\\n\\n' },\n    { delay, texts: 'Add ' },\n    {\n      delay,\n      texts: '~~strikethrough~~',\n    },\n    { delay, texts: ' ' },\n    { delay, texts: 'to ' },\n    { delay, texts: 'indicate ' },\n    { delay, texts: 'deleted ' },\n    { delay, texts: 'or ' },\n    { delay, texts: 'outdated ' },\n    { delay, texts: 'content.' },\n    { delay, texts: '\\n\\n' },\n    { delay, texts: 'Write ' },\n    { delay, texts: 'code ' },\n    { delay, texts: 'snippets ' },\n    { delay, texts: 'with ' },\n    { delay, texts: 'inline ' },\n    { delay, texts: '`code`' },\n    { delay, texts: ' formatting ' },\n    { delay, texts: 'for ' },\n    { delay, texts: 'easy ' },\n    { delay: faker.number.int({ max: 100, min: 30 }), texts: 'readability.' },\n    { delay, texts: '\\n\\n' },\n    { delay, texts: 'Add ' },\n    {\n      delay,\n      texts: '[links](https://example.com)',\n    },\n    { delay: faker.number.int({ max: 100, min: 30 }), texts: ' to ' },\n    { delay: faker.number.int({ max: 100, min: 30 }), texts: 'external ' },\n    { delay, texts: 'resources ' },\n    { delay, texts: 'or ' },\n    {\n      delay,\n      texts: 'references.\\n\\n',\n    },\n\n    { delay, texts: 'Use ' },\n    { delay, texts: 'inline ' },\n    { delay, texts: 'math ' },\n    { delay, texts: 'equations ' },\n    { delay, texts: 'like ' },\n    { delay, texts: '$E = mc^2$ ' },\n    { delay, texts: 'for ' },\n    { delay, texts: 'scientific ' },\n    { delay, texts: 'notation.' },\n    { delay, texts: '\\n\\n' },\n\n    { delay, texts: '# ' },\n    { delay, texts: 'Heading ' },\n    { delay, texts: '1\\n\\n' },\n    { delay, texts: '## ' },\n    { delay, texts: 'Heading ' },\n    { delay, texts: '2\\n\\n' },\n    { delay, texts: '### ' },\n    { delay, texts: 'Heading ' },\n    { delay, texts: '3\\n\\n' },\n    { delay, texts: '> ' },\n    { delay, texts: 'Blockquote\\n\\n' },\n    { delay, texts: '- ' },\n    { delay, texts: 'Unordered ' },\n    { delay, texts: 'list ' },\n    { delay, texts: 'item ' },\n    { delay, texts: '1\\n' },\n    { delay, texts: '- ' },\n    { delay, texts: 'Unordered ' },\n    { delay, texts: 'list ' },\n    { delay, texts: 'item ' },\n    { delay, texts: '2\\n\\n' },\n    { delay, texts: '1. ' },\n    { delay, texts: 'Ordered ' },\n    { delay, texts: 'list ' },\n    { delay, texts: 'item ' },\n    { delay, texts: '1\\n' },\n    { delay, texts: '2. ' },\n    { delay, texts: 'Ordered ' },\n    { delay, texts: 'list ' },\n    { delay, texts: 'item ' },\n    { delay, texts: '2\\n\\n' },\n    { delay, texts: '- ' },\n    { delay, texts: '[ ' },\n    { delay, texts: '] ' },\n    { delay, texts: 'Task ' },\n    { delay, texts: 'list ' },\n    { delay, texts: 'item ' },\n    { delay, texts: '1\\n' },\n    { delay, texts: '- ' },\n    { delay, texts: '[x] ' },\n    { delay, texts: 'Task ' },\n    { delay, texts: 'list ' },\n    { delay, texts: 'item ' },\n    { delay, texts: '2\\n\\n' },\n    { delay, texts: '![Alt ' },\n    {\n      delay,\n      texts:\n        'text](https://images.unsplash.com/photo-1712688930249-98e1963af7bd?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D)\\n\\n',\n    },\n    {\n      delay,\n      texts: '### Advantage blocks:\\n',\n    },\n    { delay, texts: '\\n' },\n    { delay, texts: '$$\\n' },\n    {\n      delay,\n      texts: 'a^2 + b^2 = c^2\\n',\n    },\n    { delay, texts: '$$\\n' },\n    { delay, texts: '\\n' },\n    { delay, texts: '```python\\n' },\n    { delay, texts: '# ' },\n    { delay, texts: 'Code ' },\n    { delay, texts: 'block\\n' },\n    { delay, texts: 'print(\"Hello, ' },\n    { delay, texts: 'World!\")\\n' },\n    { delay, texts: '```\\n\\n' },\n    { delay, texts: 'Horizontal ' },\n    { delay, texts: 'rule\\n\\n' },\n    { delay, texts: '---\\n\\n' },\n    { delay, texts: '| ' },\n    { delay, texts: 'Header ' },\n    { delay, texts: '1 ' },\n    { delay, texts: '| ' },\n    { delay, texts: 'Header ' },\n    { delay, texts: '2 ' },\n    { delay, texts: '|\\n' },\n    {\n      delay,\n      texts: '|----------|----------|\\n',\n    },\n    { delay, texts: '| ' },\n    { delay, texts: 'Row ' },\n    { delay, texts: '1   ' },\n    { delay, texts: ' | ' },\n    { delay, texts: 'Data    ' },\n    { delay, texts: ' |\\n' },\n    { delay, texts: '| ' },\n    { delay, texts: 'Row ' },\n    { delay, texts: '2   ' },\n    { delay, texts: ' | ' },\n    { delay, texts: 'Data    ' },\n    { delay, texts: ' |' },\n  ],\n];\n\nconst mdxChunks = [\n  [\n    {\n      delay,\n      texts: '## ',\n    },\n    {\n      delay,\n      texts: 'Basic ',\n    },\n    {\n      delay,\n      texts: 'Markdown\\n\\n',\n    },\n    {\n      delay,\n      texts: '> ',\n    },\n    {\n      delay,\n      texts: 'The ',\n    },\n    {\n      delay,\n      texts: 'following ',\n    },\n    {\n      delay,\n      texts: 'node ',\n    },\n    {\n      delay,\n      texts: 'and ',\n    },\n    {\n      delay,\n      texts: 'marks ',\n    },\n    {\n      delay,\n      texts: 'is ',\n    },\n    {\n      delay,\n      texts: 'supported ',\n    },\n    {\n      delay,\n      texts: 'by ',\n    },\n    {\n      delay,\n      texts: 'the ',\n    },\n    {\n      delay,\n      texts: 'Markdown ',\n    },\n    {\n      delay,\n      texts: 'standard.\\n\\n',\n    },\n    {\n      delay,\n      texts: 'Format ',\n    },\n    {\n      delay,\n      texts: 'text ',\n    },\n    {\n      delay,\n      texts: 'with **b',\n    },\n    {\n      delay,\n      texts: 'old**, _',\n    },\n    {\n      delay,\n      texts: 'italic_,',\n    },\n    {\n      delay,\n      texts: ' _**comb',\n    },\n    {\n      delay,\n      texts: 'ined sty',\n    },\n    {\n      delay,\n      texts: 'les**_, ',\n    },\n    {\n      delay,\n      texts: '~~strike',\n    },\n    {\n      delay,\n      texts: 'through~',\n    },\n    {\n      delay,\n      texts: '~, `code',\n    },\n    {\n      delay,\n      texts: '` format',\n    },\n    {\n      delay,\n      texts: 'ting, an',\n    },\n    {\n      delay,\n      texts: 'd [hyper',\n    },\n    {\n      delay,\n      texts: 'links](https://en.wikipedia.org/wiki/Hypertext).\\n\\n',\n    },\n    {\n      delay,\n      texts: '```javascript\\n',\n    },\n    {\n      delay,\n      texts: '// Use code blocks to showcase code snippets\\n',\n    },\n    {\n      delay,\n      texts: 'function greet() {\\n',\n    },\n    {\n      delay,\n      texts: '  console.info(\"Hello World!\")\\n',\n    },\n    {\n      delay,\n      texts: '}\\n',\n    },\n    {\n      delay,\n      texts: '```\\n\\n',\n    },\n    {\n      delay,\n      texts: '- Simple',\n    },\n    {\n      delay,\n      texts: ' lists f',\n    },\n    {\n      delay,\n      texts: 'or organ',\n    },\n    {\n      delay,\n      texts: 'izing co',\n    },\n    {\n      delay,\n      texts: 'ntent\\n',\n    },\n    {\n      delay,\n      texts: '1. ',\n    },\n    {\n      delay,\n      texts: 'Numbered ',\n    },\n    {\n      delay,\n      texts: 'lists ',\n    },\n    {\n      delay,\n      texts: 'for ',\n    },\n    {\n      delay,\n      texts: 'sequential ',\n    },\n    {\n      delay,\n      texts: 'steps\\n\\n',\n    },\n    {\n      delay,\n      texts: '| **Plugin**  | **Element** | **Inline** | **Void** |\\n',\n    },\n    {\n      delay,\n      texts: '| ----------- | ----------- | ---------- | -------- |\\n',\n    },\n    {\n      delay,\n      texts: '| **Heading** |             |            | No       |\\n',\n    },\n    {\n      delay,\n      texts: '| **Image**   | Yes         | No         | Yes      |\\n',\n    },\n    {\n      delay,\n      texts: '| **Ment',\n    },\n    {\n      delay,\n      texts: 'ion** | Yes         | Yes        | Yes      |\\n\\n',\n    },\n    {\n      delay,\n      texts:\n        '![](https://images.unsplash.com/photo-1712688930249-98e1963af7bd?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D)\\n\\n',\n    },\n    {\n      delay,\n      texts: '- [x] Co',\n    },\n    {\n      delay,\n      texts: 'mpleted ',\n    },\n    {\n      delay,\n      texts: 'tasks\\n',\n    },\n    {\n      delay,\n      texts: '- [ ] Pe',\n    },\n    {\n      delay,\n      texts: 'nding ta',\n    },\n    {\n      delay,\n      texts: 'sks\\n\\n',\n    },\n    {\n      delay,\n      texts: '---\\n\\n## Advan',\n    },\n    {\n      delay,\n      texts: 'ced Feat',\n    },\n    {\n      delay,\n      texts: 'ures\\n\\n',\n    },\n    {\n      delay,\n      texts: '<callout> ',\n    },\n    {\n      delay,\n      texts: 'The ',\n    },\n    {\n      delay,\n      texts: 'following ',\n    },\n    {\n      delay,\n      texts: 'node ',\n    },\n    {\n      delay,\n      texts: 'and ',\n    },\n    {\n      delay,\n      texts: 'marks ',\n    },\n    {\n      delay,\n      texts: 'are ',\n    },\n    {\n      delay,\n      texts: 'not ',\n    },\n    {\n      delay,\n      texts: 'supported ',\n    },\n    {\n      delay,\n      texts: 'in ',\n    },\n    {\n      delay,\n      texts: 'Markdown ',\n    },\n    {\n      delay,\n      texts: 'but ',\n    },\n    {\n      delay,\n      texts: 'can ',\n    },\n    {\n      delay,\n      texts: 'be ',\n    },\n    {\n      delay,\n      texts: 'serialized ',\n    },\n    {\n      delay,\n      texts: 'and ',\n    },\n    {\n      delay,\n      texts: 'deserialized ',\n    },\n    {\n      delay,\n      texts: 'using ',\n    },\n    {\n      delay,\n      texts: 'MDX ',\n    },\n    {\n      delay,\n      texts: 'or ',\n    },\n    {\n      delay,\n      texts: 'specialized ',\n    },\n    {\n      delay,\n      texts: 'UnifiedJS ',\n    },\n    {\n      delay,\n      texts: 'plugins. ',\n    },\n    {\n      delay,\n      texts: '</callout>\\n\\n',\n    },\n    {\n      delay,\n      texts: 'Advanced ',\n    },\n    {\n      delay,\n      texts: 'marks: ',\n    },\n    {\n      delay,\n      texts: '<kbd>⌘ ',\n    },\n    {\n      delay,\n      texts: '+ ',\n    },\n    {\n      delay,\n      texts: 'B</kbd>,<u>underlined</u>, ',\n    },\n    {\n      delay,\n      texts: '<mark',\n    },\n    {\n      delay,\n      texts: '>highli',\n    },\n    {\n      delay,\n      texts: 'ghted</m',\n    },\n    {\n      delay,\n      texts: 'ark',\n    },\n    {\n      delay,\n      texts: '> text, ',\n    },\n    {\n      delay,\n      texts: '<span s',\n    },\n    {\n      delay,\n      texts: 'tyle=\"co',\n    },\n    {\n      delay,\n      texts: 'lor: #93',\n    },\n    {\n      delay,\n      texts: 'C47D;\">c',\n    },\n    {\n      delay,\n      texts: 'olored t',\n    },\n    {\n      delay,\n      texts: 'ext</spa',\n    },\n    {\n      delay,\n      texts: 'n> and ',\n    },\n    {\n      delay,\n      texts: '<spa',\n    },\n    {\n      delay,\n      texts: 'n',\n    },\n    {\n      delay,\n      texts: ' style=\"',\n    },\n    {\n      delay,\n      texts: 'backgrou',\n    },\n    {\n      delay,\n      texts: 'nd-color',\n    },\n    {\n      delay,\n      texts: ': #6C9EE',\n    },\n    {\n      delay,\n      texts: 'B;\">back',\n    },\n    {\n      delay,\n      texts: 'ground h',\n    },\n    {\n      delay,\n      texts: 'ighlight',\n    },\n    {\n      delay,\n      texts: 's</spa',\n    },\n    {\n      delay,\n      texts: 'n> for ',\n    },\n    {\n      delay,\n      texts: 'visual e',\n    },\n    {\n      delay,\n      texts: 'mphasis.\\n\\n',\n    },\n    {\n      delay,\n      texts: 'Superscript ',\n    },\n    {\n      delay,\n      texts: 'like ',\n    },\n    {\n      delay,\n      texts: 'E=mc<sup>2</sup> ',\n    },\n    {\n      delay,\n      texts: 'and ',\n    },\n    {\n      delay,\n      texts: 'subscript ',\n    },\n    {\n      delay,\n      texts: 'like ',\n    },\n    {\n      delay,\n      texts: 'H<sub>2</sub>O ',\n    },\n    {\n      delay,\n      texts: 'demonstrate ',\n    },\n    {\n      delay,\n      texts: 'mathematical ',\n    },\n    {\n      delay,\n      texts: 'and ',\n    },\n    {\n      delay,\n      texts: 'chemical ',\n    },\n    {\n      delay,\n      texts: 'notation ',\n    },\n    {\n      delay,\n      texts: 'capabilities.\\n\\n',\n    },\n    {\n      delay,\n      texts: 'Add ',\n    },\n    {\n      delay,\n      texts: 'mentions ',\n    },\n    {\n      delay,\n      texts: 'like ',\n    },\n    {\n      delay,\n      texts: '@BB-8, d',\n    },\n    {\n      delay,\n      texts: 'ates (<d',\n    },\n    {\n      delay,\n      texts: 'ate>2025',\n    },\n    {\n      delay,\n      texts: '-05-08</',\n    },\n    {\n      delay,\n      texts: 'date>), ',\n    },\n    {\n      delay,\n      texts: 'and math',\n    },\n    {\n      delay,\n      texts: ' formula',\n    },\n    {\n      delay,\n      texts: 's ($E=mc',\n    },\n    {\n      delay,\n      texts: '^2$).\\n\\n',\n    },\n    {\n      delay,\n      texts: 'The ',\n    },\n    {\n      delay,\n      texts: 'table ',\n    },\n    {\n      delay,\n      texts: 'of ',\n    },\n    {\n      delay,\n      texts: 'contents ',\n    },\n    {\n      delay,\n      texts: 'feature ',\n    },\n    {\n      delay,\n      texts: 'automatically ',\n    },\n    {\n      delay,\n      texts: 'generates ',\n    },\n    {\n      delay,\n      texts: 'document ',\n    },\n    {\n      delay,\n      texts: 'structure ',\n    },\n    {\n      delay,\n      texts: 'for ',\n    },\n    {\n      delay,\n      texts: 'easy ',\n    },\n    {\n      delay,\n      texts: 'navigation.\\n\\n',\n    },\n    {\n      delay,\n      texts: '<toc ',\n    },\n    {\n      delay,\n      texts: '/>\\n\\n',\n    },\n    {\n      delay,\n      texts: 'Math ',\n    },\n    {\n      delay,\n      texts: 'formula ',\n    },\n    {\n      delay,\n      texts: 'support ',\n    },\n    {\n      delay,\n      texts: 'makes ',\n    },\n    {\n      delay,\n      texts: 'displaying ',\n    },\n    {\n      delay,\n      texts: 'complex ',\n    },\n    {\n      delay,\n      texts: 'mathematical ',\n    },\n    {\n      delay,\n      texts: 'expressions ',\n    },\n    {\n      delay,\n      texts: 'simple.\\n\\n',\n    },\n    {\n      delay,\n      texts: '$$\\n',\n    },\n    {\n      delay,\n      texts: 'a^2',\n    },\n    {\n      delay,\n      texts: '+b^2',\n    },\n    {\n      delay,\n      texts: '=c^2\\n',\n    },\n    {\n      delay,\n      texts: '$$\\n\\n',\n    },\n    {\n      delay,\n      texts: 'Multi-co',\n    },\n    {\n      delay,\n      texts: 'lumn lay',\n    },\n    {\n      delay,\n      texts: 'out feat',\n    },\n    {\n      delay,\n      texts: 'ures ena',\n    },\n    {\n      delay,\n      texts: 'ble rich',\n    },\n    {\n      delay,\n      texts: 'er page ',\n    },\n    {\n      delay,\n      texts: 'designs ',\n    },\n    {\n      delay,\n      texts: 'and cont',\n    },\n    {\n      delay,\n      texts: 'ent layo',\n    },\n    {\n      delay,\n      texts: 'uts.\\n\\n',\n    },\n    // {\n    //  delay,\n    //   texts: '<column_group layout=\"[50,50]\">\\n',\n    // },\n    // {\n    //  delay,\n    //   texts: '<column width=\"50%\">\\n',\n    // },\n    // {\n    //  delay,\n    //   texts: '  left\\n',\n    // },\n    // {\n    //  delay,\n    //   texts: '</column>\\n',\n    // },\n    // {\n    //  delay,\n    //   texts: '<column width=\"50%\">\\n',\n    // },\n    // {\n    //  delay,\n    //   texts: '  right\\n',\n    // },\n    // {\n    //  delay,\n    //   texts: '</column>\\n',\n    // },\n    // {\n    //  delay,\n    //   texts: '</column_group>\\n\\n',\n    // },\n    {\n      delay,\n      texts: 'PDF ',\n    },\n    {\n      delay,\n      texts: 'embedding ',\n    },\n    {\n      delay,\n      texts: 'makes ',\n    },\n    {\n      delay,\n      texts: 'document ',\n    },\n    {\n      delay,\n      texts: 'referencing ',\n    },\n    {\n      delay,\n      texts: 'simple ',\n    },\n    {\n      delay,\n      texts: 'and ',\n    },\n    {\n      delay,\n      texts: 'intuitive.\\n\\n',\n    },\n    {\n      delay,\n      texts: '<file ',\n    },\n    {\n      delay,\n      texts: 'name=\"sample.pdf\" ',\n    },\n    {\n      delay,\n      texts: 'align=\"center\" ',\n    },\n    {\n      delay,\n      texts:\n        'src=\"https://s26.q4cdn.com/900411403/files/doc_downloads/test.pdf\" width=\"80%\" isUpload=\"true\" />\\n\\n',\n    },\n    {\n      delay,\n      texts: 'Audio ',\n    },\n    {\n      delay,\n      texts: 'players ',\n    },\n    {\n      delay,\n      texts: 'can ',\n    },\n    {\n      delay,\n      texts: 'be ',\n    },\n    {\n      delay,\n      texts: 'embedded ',\n    },\n    {\n      delay,\n      texts: 'directly ',\n    },\n    {\n      delay,\n      texts: 'into ',\n    },\n    {\n      delay,\n      texts: 'documents, ',\n    },\n    {\n      delay,\n      texts: 'supporting ',\n    },\n    {\n      delay,\n      texts: 'online ',\n    },\n    {\n      delay,\n      texts: 'audio ',\n    },\n    {\n      delay,\n      texts: 'resources.\\n\\n',\n    },\n    {\n      delay,\n      texts: '<audio ',\n    },\n    {\n      delay,\n      texts: 'align=\"center\" ',\n    },\n    {\n      delay,\n      texts:\n        'src=\"https://samplelib.com/lib/preview/mp3/sample-3s.mp3\" width=\"80%\" />\\n\\n',\n    },\n    {\n      delay,\n      texts: 'Video ',\n    },\n    {\n      delay,\n      texts: 'playback ',\n    },\n    {\n      delay,\n      texts: 'features ',\n    },\n    {\n      delay,\n      texts: 'support ',\n    },\n    {\n      delay,\n      texts: 'embedding ',\n    },\n    {\n      delay,\n      texts: 'various ',\n    },\n    {\n      delay,\n      texts: 'online ',\n    },\n    {\n      delay,\n      texts: 'video ',\n    },\n    {\n      delay,\n      texts: 'resources, ',\n    },\n    {\n      delay,\n      texts: 'enriching ',\n    },\n    {\n      delay,\n      texts: 'document ',\n    },\n    {\n      delay,\n      texts: 'content.\\n\\n',\n    },\n    {\n      delay,\n      texts: '<video ',\n    },\n    {\n      delay,\n      texts: 'align=\"center\" ',\n    },\n    {\n      delay,\n      texts:\n        'src=\"https://videos.pexels.com/video-files/6769791/6769791-uhd_2560_1440_24fps.mp4\" width=\"80%\" isUpload=\"true\" />',\n    },\n  ],\n];\n","import { Model } from '../components/editor/core/settings';\n\nexport const models: Model[] = [\n  { label: 'gpt-4o-mini', value: 'gpt-4o-mini' },\n  { label: 'gpt-4o', value: 'gpt-4o' },\n  { label: 'gpt-4-turbo', value: 'gpt-4-turbo' },\n  { label: 'gpt-4', value: 'gpt-4' },\n  { label: 'gpt-3.5-turbo', value: 'gpt-3.5-turbo' },\n  { label: 'gpt-3.5-turbo-instruct', value: 'gpt-3.5-turbo-instruct' },\n  { label: 'openai/gpt-4o', value: 'openai/gpt-4o' },\n];\n\n\nexport const CONFIGS = {\n  API_KEY: process.env.OPENAI_API_KEY,\n  MODEL: models[4].value,\n  WEBSITE_URL: process.env.WEBSITE_URL,\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport {\n  all,\n  createLowlight,\n} from 'lowlight';\n\nimport { withProps } from '@udecode/cn';\nimport {\n  BaseParagraphPlugin,\n  SlateLeaf,\n} from '@udecode/plate';\nimport { useAIChatEditor } from '@udecode/plate-ai/react';\nimport {\n  BaseBoldPlugin,\n  BaseCodePlugin,\n  BaseItalicPlugin,\n  BaseStrikethroughPlugin,\n  BaseSubscriptPlugin,\n  BaseSuperscriptPlugin,\n  BaseUnderlinePlugin,\n} from '@udecode/plate-basic-marks';\nimport { BaseBlockquotePlugin } from '@udecode/plate-block-quote';\nimport { BaseCalloutPlugin } from '@udecode/plate-callout';\nimport {\n  BaseCodeBlockPlugin,\n  BaseCodeLinePlugin,\n  BaseCodeSyntaxPlugin,\n} from '@udecode/plate-code-block';\nimport { BaseDatePlugin } from '@udecode/plate-date';\nimport {\n  BaseFontBackgroundColorPlugin,\n  BaseFontColorPlugin,\n  BaseFontFamilyPlugin,\n  BaseFontSizePlugin,\n  BaseFontWeightPlugin,\n} from '@udecode/plate-font';\nimport {\n  BaseHeadingPlugin,\n  BaseTocPlugin,\n  HEADING_KEYS,\n} from '@udecode/plate-heading';\nimport { BaseHighlightPlugin } from '@udecode/plate-highlight';\nimport { BaseHorizontalRulePlugin } from '@udecode/plate-horizontal-rule';\nimport { BaseIndentPlugin } from '@udecode/plate-indent';\nimport { BaseIndentListPlugin } from '@udecode/plate-indent-list';\nimport { BaseKbdPlugin } from '@udecode/plate-kbd';\nimport {\n  BaseColumnItemPlugin,\n  BaseColumnPlugin,\n} from '@udecode/plate-layout';\nimport { BaseLinkPlugin } from '@udecode/plate-link';\nimport {\n  BaseEquationPlugin,\n  BaseInlineEquationPlugin,\n} from '@udecode/plate-math';\nimport {\n  BaseAudioPlugin,\n  BaseFilePlugin,\n  BaseImagePlugin,\n  BaseVideoPlugin,\n} from '@udecode/plate-media';\nimport { BaseMentionPlugin } from '@udecode/plate-mention';\nimport {\n  BaseTableCellHeaderPlugin,\n  BaseTableCellPlugin,\n  BaseTablePlugin,\n  BaseTableRowPlugin,\n} from '@udecode/plate-table';\nimport { usePlateEditor } from '@udecode/plate/react';\n\nimport { markdownPlugin } from '../plugins/markdown-plugin';\nimport {\n  TodoLiStatic,\n  TodoMarkerStatic,\n} from '../ui/indent-todo-marker-static';\nimport { BlockquoteElementStatic } from './blockquote-element-static';\nimport { CalloutElementStatic } from './callout-element-static';\nimport { CodeBlockElementStatic } from './code-block-element-static';\nimport { CodeLeafStatic } from './code-leaf-static';\nimport { CodeLineElementStatic } from './code-line-element-static';\nimport { CodeSyntaxLeafStatic } from './code-syntax-leaf-static';\nimport { ColumnElementStatic } from './column-element-static';\nimport { ColumnGroupElementStatic } from './column-group-element-static';\nimport { DateElement } from './date-element';\nimport { EditorStatic } from './editor-static';\nimport { EquationElementStatic } from './equation-element-static';\nimport { HeadingElementStatic } from './heading-element-static';\nimport { HighlightLeafStatic } from './highlight-leaf-static';\nimport { HrElementStatic } from './hr-element-static';\nimport { ImageElementStatic } from './image-element-static';\nimport { InlineEquationElementStatic } from './inline-equation-element-static';\nimport { KbdLeaf } from './kbd-leaf';\nimport { LinkElementStatic } from './link-element-static';\nimport { MediaAudioElementStatic } from './media-audio-element-static';\nimport { MediaFileElementStatic } from './media-file-element-static';\nimport { MediaVideoElementStatic } from './media-video-element-static';\nimport { MentionElementStatic } from './mention-element-static';\nimport { ParagraphElementStatic } from './paragraph-element-static';\nimport {\n  TableCellElementStatic,\n  TableCellHeaderStaticElement,\n} from './table-cell-element-static';\nimport { TableElementStatic } from './table-element-static';\nimport { TableRowElementStatic } from './table-row-element-static';\nimport { TocElementStatic } from './toc-element-static';\n\nconst components:any = {\n  [BaseAudioPlugin.key]: MediaAudioElementStatic,\n  [BaseBlockquotePlugin.key]: BlockquoteElementStatic,\n  [BaseBoldPlugin.key]: withProps(SlateLeaf, { as: 'strong' }),\n  [BaseCalloutPlugin.key]: CalloutElementStatic,\n  [BaseCodeBlockPlugin.key]: CodeBlockElementStatic,\n  [BaseCodeLinePlugin.key]: CodeLineElementStatic,\n  [BaseCodePlugin.key]: CodeLeafStatic,\n  [BaseCodeSyntaxPlugin.key]: CodeSyntaxLeafStatic,\n  [BaseColumnItemPlugin.key]: ColumnElementStatic,\n  [BaseColumnPlugin.key]: ColumnGroupElementStatic,\n  [BaseDatePlugin.key]: DateElement,\n  [BaseEquationPlugin.key]: EquationElementStatic,\n  [BaseFilePlugin.key]: MediaFileElementStatic,\n  [BaseHighlightPlugin.key]: HighlightLeafStatic,\n  [BaseHorizontalRulePlugin.key]: HrElementStatic,\n  [BaseImagePlugin.key]: ImageElementStatic,\n  [BaseInlineEquationPlugin.key]: InlineEquationElementStatic,\n  [BaseItalicPlugin.key]: withProps(SlateLeaf, { as: 'em' }),\n  [BaseKbdPlugin.key]: KbdLeaf,\n  [BaseLinkPlugin.key]: LinkElementStatic,\n  [BaseMentionPlugin.key]: MentionElementStatic,\n  [BaseParagraphPlugin.key]: ParagraphElementStatic,\n  [BaseStrikethroughPlugin.key]: withProps(SlateLeaf, { as: 's' }),\n  [BaseSubscriptPlugin.key]: withProps(SlateLeaf, { as: 'sub' }),\n  [BaseSuperscriptPlugin.key]: withProps(SlateLeaf, { as: 'sup' }),\n  [BaseTableCellHeaderPlugin.key]: TableCellHeaderStaticElement,\n  [BaseTableCellPlugin.key]: TableCellElementStatic,\n  [BaseTablePlugin.key]: TableElementStatic,\n  [BaseTableRowPlugin.key]: TableRowElementStatic,\n  [BaseTocPlugin.key]: TocElementStatic,\n  [BaseUnderlinePlugin.key]: withProps(SlateLeaf, { as: 'u' }),\n\n  [BaseVideoPlugin.key]: MediaVideoElementStatic,\n  [HEADING_KEYS.h1]: withProps(HeadingElementStatic, { variant: 'h1' }),\n\n  [HEADING_KEYS.h2]: withProps(HeadingElementStatic, { variant: 'h2' }),\n  [HEADING_KEYS.h3]: withProps(HeadingElementStatic, { variant: 'h3' }),\n\n  // [BaseCommentsPlugin.key]: CommentLeafStatic\n  // [BaseTogglePlugin.key]: ToggleElementStatic\n};\nconst lowlight:any = createLowlight(all);\n\nconst plugins:any = [\n  BaseColumnItemPlugin,\n  BaseColumnPlugin,\n  BaseBlockquotePlugin,\n  BaseSubscriptPlugin,\n  BaseSuperscriptPlugin,\n  BaseImagePlugin,\n  BaseKbdPlugin,\n  BaseBoldPlugin,\n  BaseCodeBlockPlugin.configure({ options: { lowlight } }),\n  BaseDatePlugin,\n  BaseEquationPlugin,\n  BaseInlineEquationPlugin,\n  BaseCodePlugin,\n  BaseItalicPlugin,\n  BaseStrikethroughPlugin,\n  BaseUnderlinePlugin,\n  BaseFontColorPlugin,\n  BaseFontSizePlugin,\n  BaseFontFamilyPlugin,\n  BaseFontWeightPlugin,\n  BaseFontBackgroundColorPlugin,\n  BaseHeadingPlugin,\n  BaseHorizontalRulePlugin,\n  BaseTablePlugin,\n  BaseTocPlugin,\n  BaseHighlightPlugin,\n  BaseLinkPlugin,\n  BaseMentionPlugin,\n  BaseParagraphPlugin,\n  BaseCalloutPlugin,\n  BaseIndentPlugin.extend({\n    inject: {\n      targetPlugins: [BaseParagraphPlugin.key],\n    },\n  }),\n  BaseIndentListPlugin.extend({\n    inject: {\n      targetPlugins: [BaseParagraphPlugin.key],\n    },\n    options: {\n      listStyleTypes: {\n        todo: {\n          liComponent: TodoLiStatic,\n          markerComponent: TodoMarkerStatic,\n          type: 'todo',\n        },\n      },\n    },\n  }),\n  markdownPlugin,\n];\n\nexport const AIChatEditor:any = React.memo(function AIChatEditor({\n  content,\n}: {\n  content: string;\n}) {\n  const aiEditor = usePlateEditor({\n    plugins,\n  });\n\n  useAIChatEditor(aiEditor, content);\n\n  return (\n    <EditorStatic variant=\"aiChat\" components={components} editor={aiEditor} />\n  );\n});\n","import * as React from 'react';\n\nimport { CheckIcon } from 'lucide-react';\n\nimport type { SlateRenderElementProps } from '@udecode/plate';\n\nimport { cn } from '../../../libs/utils';\n\nexport function TodoMarkerStatic(\n  props: Omit<SlateRenderElementProps, 'children'>\n) {\n  return (\n    <div contentEditable={false}>\n      <CheckboxStatic\n        className=\"pointer-events-none absolute top-1 -left-6\"\n        checked={props.element.checked as boolean}\n      />\n    </div>\n  );\n}\n\nexport function TodoLiStatic(props: SlateRenderElementProps) {\n  return (\n    <li\n      className={cn(\n        'list-none',\n        (props.element.checked as boolean) &&\n          'text-muted-foreground line-through'\n      )}\n    >\n      {props.children}\n    </li>\n  );\n}\n\ntype CheckboxStaticProps = {\n  checked: boolean;\n  className?: string;\n  style?: React.CSSProperties;\n};\n\nfunction CheckboxStatic(props: CheckboxStaticProps) {\n  return (\n    <button\n      className={cn(\n        'peer size-4 shrink-0 rounded-sm border border-primary bg-background ring-offset-background focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:outline-none data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground',\n        props.className\n      )}\n      style={props.style}\n      data-state={props.checked ? 'checked' : 'unchecked'}\n      type=\"button\"\n    >\n      <div className={cn('flex items-center justify-center text-current')}>\n        {props.checked && <CheckIcon className=\"size-4\" />}\n      </div>\n    </button>\n  );\n}\n","import * as React from 'react';\n\nimport { type SlateElementProps, SlateElement } from '@udecode/plate';\n\nexport function BlockquoteElementStatic(props: SlateElementProps) {\n  return (\n    <SlateElement\n      as=\"blockquote\"\n      className=\"my-1 border-l-2 pl-6 italic\"\n      {...props}\n    />\n  );\n}\n","import * as React from 'react';\n\nimport type { SlateElementProps } from '@udecode/plate';\n\nimport { cn } from '@udecode/cn';\nimport { SlateElement } from '@udecode/plate';\n\nexport function CalloutElementStatic({\n  children,\n  className,\n  ...props\n}: SlateElementProps) {\n  return (\n    <SlateElement\n      className={cn('my-1 flex rounded-sm bg-muted p-4 pl-3', className)}\n      style={{\n        backgroundColor: props.element.backgroundColor as any,\n      }}\n      {...props}\n    >\n      <div className=\"flex w-full gap-2 rounded-md\">\n        <div\n          className=\"size-6 text-[18px] select-none\"\n          style={{\n            fontFamily:\n              '\"Apple Color Emoji\", \"Segoe UI Emoji\", NotoColorEmoji, \"Noto Color Emoji\", \"Segoe UI Symbol\", \"Android Emoji\", EmojiSymbols',\n          }}\n        >\n          <span data-plate-prevent-deserialization>\n            {(props.element.icon as any) || '💡'}\n          </span>\n        </div>\n        <div className=\"w-full\">{children}</div>\n      </div>\n    </SlateElement>\n  );\n}\n","import * as React from 'react';\n\nimport type { TCodeBlockElement } from '@udecode/plate-code-block';\n\nimport { type SlateElementProps, SlateElement } from '@udecode/plate';\n\nexport function CodeBlockElementStatic(\n  props: SlateElementProps<TCodeBlockElement>\n) {\n  return (\n    <SlateElement\n      className=\"py-1 **:[.hljs-addition]:bg-[#f0fff4] **:[.hljs-addition]:text-[#22863a] **:[.hljs-attr,.hljs-attribute,.hljs-literal,.hljs-meta,.hljs-number,.hljs-operator,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-id,.hljs-variable]:text-[#005cc5] **:[.hljs-built_in,.hljs-symbol]:text-[#e36209] **:[.hljs-bullet]:text-[#735c0f] **:[.hljs-comment,.hljs-code,.hljs-formula]:text-[#6a737d] **:[.hljs-deletion]:bg-[#ffeef0] **:[.hljs-deletion]:text-[#b31d28] **:[.hljs-emphasis]:italic **:[.hljs-keyword,.hljs-doctag,.hljs-template-tag,.hljs-template-variable,.hljs-type,.hljs-variable.language_]:text-[#d73a49] **:[.hljs-name,.hljs-quote,.hljs-selector-tag,.hljs-selector-pseudo]:text-[#22863a] **:[.hljs-regexp,.hljs-string,.hljs-meta_.hljs-string]:text-[#032f62] **:[.hljs-section]:font-bold **:[.hljs-section]:text-[#005cc5] **:[.hljs-strong]:font-bold **:[.hljs-title,.hljs-title.class_,.hljs-title.class_.inherited__,.hljs-title.function_]:text-[#6f42c1]\"\n      {...props}\n    >\n      <div className=\"relative rounded-md bg-muted/50\">\n        <pre className=\"overflow-x-auto p-8 pr-4 font-mono text-sm leading-[normal] [tab-size:2] print:break-inside-avoid\">\n          <code>{props.children}</code>\n        </pre>\n      </div>\n    </SlateElement>\n  );\n}\n","import * as React from 'react';\n\nimport type { SlateLeafProps } from '@udecode/plate';\n\nimport { SlateLeaf } from '@udecode/plate';\n\nexport function CodeLeafStatic(props: SlateLeafProps) {\n  return (\n    <SlateLeaf\n      {...props}\n      as=\"code\"\n      className=\"rounded-md bg-muted px-[0.3em] py-[0.2em] font-mono text-sm whitespace-pre-wrap\"\n    >\n      {props.children}\n    </SlateLeaf>\n  );\n}\n","import * as React from 'react';\n\nimport { type SlateElementProps, SlateElement } from '@udecode/plate';\n\nexport function CodeLineElementStatic(props: SlateElementProps) {\n  return <SlateElement {...props} />;\n}\n","import * as React from 'react';\n\nimport { type SlateLeafProps, SlateLeaf } from '@udecode/plate';\n\nexport function CodeSyntaxLeafStatic(props: SlateLeafProps) {\n  const tokenClassName = props.leaf.className as string;\n\n  return <SlateLeaf className={tokenClassName} {...props} />;\n}\n","import * as React from 'react';\n\nimport type { TColumnElement } from '@udecode/plate-layout';\n\nimport { type SlateElementProps, SlateElement } from '@udecode/plate';\n\nexport function ColumnElementStatic(props: SlateElementProps<TColumnElement>) {\n  const { width } = props.element;\n\n  return (\n    <div className=\"group/column relative\" style={{ width: width ?? '100%' }}>\n      <SlateElement\n        className=\"h-full px-2 pt-2 group-first/column:pl-0 group-last/column:pr-0\"\n        {...props}\n      >\n        <div className=\"relative h-full border border-transparent p-1.5\">\n          {props.children}\n        </div>\n      </SlateElement>\n    </div>\n  );\n}\n","import * as React from 'react';\n\nimport type { SlateElementProps } from '@udecode/plate';\n\nimport { SlateElement } from '@udecode/plate';\n\nexport function ColumnGroupElementStatic(props: SlateElementProps) {\n  return (\n    <SlateElement className=\"mb-2\" {...props}>\n      <div className=\"flex size-full rounded\">{props.children}</div>\n    </SlateElement>\n  );\n}\n","'use client';\n\nimport type { TDateElement } from '@udecode/plate-date';\nimport type { PlateElementProps } from '@udecode/plate/react';\nimport {\n  PlateElement,\n  useReadOnly,\n} from '@udecode/plate/react';\n\nimport { cn } from '../../../libs/utils';\nimport { BlockWithPlus } from '../core/element-wrapper';\nimport { Calendar } from './calendar';\nimport {\n  Popover,\n  PopoverContent,\n  PopoverTrigger,\n} from './popover';\n\nexport function DateElement(props: PlateElementProps<TDateElement>) {\n  const { editor, element } = props;\n\n  const readOnly = useReadOnly();\n\n  const trigger = (\n    <span\n      className={cn(\n        'w-fit cursor-pointer rounded-sm bg-muted px-1 text-muted-foreground'\n      )}\n      contentEditable={false}\n      draggable\n    >\n      {element.date ? (\n        (() => {\n          const today = new Date();\n          const elementDate = new Date(element.date);\n          const isToday =\n            elementDate.getDate() === today.getDate() &&\n            elementDate.getMonth() === today.getMonth() &&\n            elementDate.getFullYear() === today.getFullYear();\n\n          const isYesterday =\n            new Date(today.setDate(today.getDate() - 1)).toDateString() ===\n            elementDate.toDateString();\n          const isTomorrow =\n            new Date(today.setDate(today.getDate() + 2)).toDateString() ===\n            elementDate.toDateString();\n\n          if (isToday) return 'Today';\n          if (isYesterday) return 'Yesterday';\n          if (isTomorrow) return 'Tomorrow';\n\n          return elementDate.toLocaleDateString(undefined, {\n            day: 'numeric',\n            month: 'long',\n            year: 'numeric',\n          });\n        })()\n      ) : (\n        <span>Pick a date</span>\n      )}\n    </span>\n  );\n\n  if (readOnly) {\n    return trigger;\n  }\n\n  return (\n    <BlockWithPlus element={element}>\n      <PlateElement\n        {...props}\n        className=\"inline-block\"\n        attributes={{\n          ...props.attributes,\n          contentEditable: false,\n        }}\n      >\n        <Popover>\n          <PopoverTrigger asChild>{trigger}</PopoverTrigger>\n          <PopoverContent className=\"w-auto p-0\">\n            <Calendar\n              selected={new Date(element.date as string)}\n              onSelect={(date) => {\n                if (!date) return;\n  \n                editor.tf.setNodes(\n                  { date: date.toDateString() },\n                  { at: element }\n                );\n              }}\n              mode=\"single\"\n              initialFocus\n            />\n          </PopoverContent>\n        </Popover>\n        {props.children}\n      </PlateElement>\n    </BlockWithPlus>\n  );\n}\n","import * as React from 'react';\n\nimport {\n  ChevronLeft,\n  ChevronRight,\n} from 'lucide-react';\nimport { DayPicker } from 'react-day-picker';\n\nimport { cn } from '../../../libs/utils';\nimport { buttonVariants } from './button';\n\nfunction Calendar({\n  className,\n  classNames,\n  showOutsideDays = true,\n  ...props\n}: React.ComponentProps<typeof DayPicker>) {\n  return (\n    <DayPicker\n      showOutsideDays={showOutsideDays}\n      className={cn(\"p-3\", className)}\n      classNames={{\n        months: \"flex flex-col sm:flex-row gap-2\",\n        month: \"flex flex-col gap-4\",\n        caption: \"flex justify-center pt-1 relative items-center w-full\",\n        caption_label: \"text-sm font-medium\",\n        nav: \"flex items-center gap-1\",\n        nav_button: cn(\n          buttonVariants({ variant: \"outline\" }),\n          \"size-7 bg-transparent p-0 opacity-50 hover:opacity-100\"\n        ),\n        nav_button_previous: \"absolute left-1\",\n        nav_button_next: \"absolute right-1\",\n        table: \"w-full border-collapse space-x-1\",\n        head_row: \"flex\",\n        head_cell:\n          \"text-muted-foreground rounded-md w-8 font-normal text-[0.8rem]\",\n        row: \"flex w-full mt-2\",\n        cell: cn(\n          \"relative p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([aria-selected])]:bg-accent [&:has([aria-selected].day-range-end)]:rounded-r-md\",\n          props.mode === \"range\"\n            ? \"[&:has(>.day-range-end)]:rounded-r-md [&:has(>.day-range-start)]:rounded-l-md first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md\"\n            : \"[&:has([aria-selected])]:rounded-md\"\n        ),\n        day: cn(\n          buttonVariants({ variant: \"ghost\" }),\n          \"size-8 p-0 font-normal aria-selected:opacity-100\"\n        ),\n        day_range_start:\n          \"day-range-start aria-selected:bg-primary aria-selected:text-primary-foreground\",\n        day_range_end:\n          \"day-range-end aria-selected:bg-primary aria-selected:text-primary-foreground\",\n        day_selected:\n          \"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground\",\n        day_today: \"bg-accent text-accent-foreground\",\n        day_outside:\n          \"day-outside text-muted-foreground aria-selected:text-muted-foreground\",\n        day_disabled: \"text-muted-foreground opacity-50\",\n        day_range_middle:\n          \"aria-selected:bg-accent aria-selected:text-accent-foreground\",\n        day_hidden: \"invisible\",\n        ...classNames,\n      }}\n      components={{\n        IconLeft: ({ className, ...props }) => (\n          <ChevronLeft className={cn(\"size-4\", className)} {...props} />\n        ),\n        IconRight: ({ className, ...props }) => (\n          <ChevronRight className={cn(\"size-4\", className)} {...props} />\n        ),\n      }}\n      {...props}\n    />\n  )\n}\n\nexport { Calendar };\n","import * as React from 'react';\n\nimport type { VariantProps } from 'class-variance-authority';\nimport { cva } from 'class-variance-authority';\n\nimport {\n  PlateStatic,\n  type PlateStaticProps,\n} from '@udecode/plate';\n\nimport { cn } from '../../../libs/utils';\n\nexport const editorVariants = cva(\n  cn(\n    'group/editor',\n    'relative w-full cursor-text overflow-x-hidden break-words whitespace-pre-wrap select-text',\n    'rounded-md ring-offset-background focus-visible:outline-none',\n    'placeholder:text-muted-foreground/80 **:data-slate-placeholder:top-[auto_!important] **:data-slate-placeholder:text-muted-foreground/80 **:data-slate-placeholder:opacity-100!',\n    '[&_strong]:font-bold'\n  ),\n  {\n    defaultVariants: {\n      variant: 'none',\n    },\n    variants: {\n      disabled: {\n        true: 'cursor-not-allowed opacity-50',\n      },\n      focused: {\n        true: 'ring-2 ring-ring ring-offset-2',\n      },\n      variant: {\n        ai: 'w-full px-0 text-base md:text-sm',\n        aiChat:\n          'max-h-[min(70vh,320px)] w-full max-w-[700px] overflow-y-auto px-5 py-3 text-base md:text-sm',\n        default:\n          'size-full px-16 pt-4 pb-72 text-base sm:px-[max(64px,calc(50%-350px))]',\n        demo: 'size-full px-16 pt-4 pb-72 text-base sm:px-[max(64px,calc(50%-350px))]',\n        fullWidth: 'size-full px-16 pt-4 pb-72 text-base sm:px-24',\n        none: '',\n        select: 'px-3 py-2 text-base data-readonly:w-fit',\n      },\n    },\n  }\n);\n\nexport function EditorStatic({\n  className,\n  variant,\n  ...props\n}: PlateStaticProps & VariantProps<typeof editorVariants>) {\n  return (\n    <PlateStatic\n      className={cn(editorVariants({ variant }), className)}\n      {...props}\n    />\n  );\n}\n","import * as React from 'react';\n\nimport { RadicalIcon } from 'lucide-react';\n\nimport {\n  SlateElement,\n  type SlateElementProps,\n} from '@udecode/plate';\nimport {\n  getEquationHtml,\n  type TEquationElement,\n} from '@udecode/plate-math';\n\nimport { cn } from '../../../libs/utils';\n\nexport function EquationElementStatic(\n  props: SlateElementProps<TEquationElement>\n) {\n  const { element } = props;\n\n  const html = getEquationHtml({\n    element,\n    options: {\n      displayMode: true,\n      errorColor: '#cc0000',\n      fleqn: false,\n      leqno: false,\n      macros: { '\\\\f': '#1f(#2)' },\n      output: 'htmlAndMathml',\n      strict: 'warn',\n      throwOnError: false,\n      trust: false,\n    },\n  });\n\n  return (\n    <SlateElement className=\"my-1\" {...props}>\n      <div\n        className={cn(\n          'group flex items-center justify-center rounded-sm select-none hover:bg-primary/10 data-[selected=true]:bg-primary/10',\n          element.texExpression.length === 0 ? 'bg-muted p-3 pr-9' : 'px-2 py-1'\n        )}\n      >\n        {element.texExpression.length > 0 ? (\n          <span\n            dangerouslySetInnerHTML={{\n              __html: html,\n            }}\n          />\n        ) : (\n          <div className=\"flex h-7 w-full items-center gap-2 text-sm whitespace-nowrap text-muted-foreground\">\n            <RadicalIcon className=\"size-6 text-muted-foreground/80\" />\n            <div>Add a Tex equation</div>\n          </div>\n        )}\n      </div>\n      {props.children}\n    </SlateElement>\n  );\n}\n","import * as React from 'react';\n\nimport type { SlateElementProps } from '@udecode/plate';\n\nimport { SlateElement } from '@udecode/plate';\nimport { type VariantProps, cva } from 'class-variance-authority';\n\nconst headingVariants = cva('relative mb-1', {\n  variants: {\n    variant: {\n      h1: 'mt-[1.6em] pb-1 font-heading text-4xl font-bold',\n      h2: 'mt-[1.4em] pb-px font-heading text-2xl font-semibold tracking-tight',\n      h3: 'mt-[1em] pb-px font-heading text-xl font-semibold tracking-tight',\n      h4: 'mt-[0.75em] font-heading text-lg font-semibold tracking-tight',\n      h5: 'mt-[0.75em] text-lg font-semibold tracking-tight',\n      h6: 'mt-[0.75em] text-base font-semibold tracking-tight',\n    },\n  },\n});\n\nexport function HeadingElementStatic({\n  variant = 'h1',\n  ...props\n}: SlateElementProps & VariantProps<typeof headingVariants>) {\n  return (\n    <SlateElement\n      as={variant!}\n      className={headingVariants({ variant })}\n      {...props}\n    >\n      {props.children}\n    </SlateElement>\n  );\n}\n","import * as React from 'react';\n\nimport type { SlateLeafProps } from '@udecode/plate';\n\nimport { SlateLeaf } from '@udecode/plate';\n\nexport function HighlightLeafStatic(props: SlateLeafProps) {\n  return (\n    <SlateLeaf {...props} as=\"mark\" className=\"bg-highlight/30 text-inherit\">\n      {props.children}\n    </SlateLeaf>\n  );\n}\n","import * as React from 'react';\n\nimport type { SlateElementProps } from '@udecode/plate';\nimport { SlateElement } from '@udecode/plate';\n\nimport { cn } from '../../../libs/utils';\n\nexport function HrElementStatic(props: SlateElementProps) {\n  return (\n    <SlateElement {...props}>\n      <div className=\"cursor-text py-6\" contentEditable={false}>\n        <hr\n          className={cn(\n            'h-0.5 rounded-sm border-none bg-muted bg-clip-content'\n          )}\n        />\n      </div>\n      {props.children}\n    </SlateElement>\n  );\n}\n","import * as React from 'react';\n\nimport type { SlateElementProps } from '@udecode/plate';\nimport {\n  NodeApi,\n  SlateElement,\n} from '@udecode/plate';\nimport type { TCaptionElement } from '@udecode/plate-caption';\nimport type { TImageElement } from '@udecode/plate-media';\n\nimport { cn } from '../../../libs/utils';\n\nexport function ImageElementStatic(\n  props: SlateElementProps<TImageElement & TCaptionElement & { width: number }>\n) {\n  const { align = 'center', caption, url, width } = props.element;\n\n  return (\n    <SlateElement {...props} className=\"py-2.5\">\n      <figure className=\"group relative m-0 inline-block\" style={{ width }}>\n        <div\n          className=\"relative max-w-full min-w-[92px]\"\n          style={{ textAlign: align }}\n        >\n          <img\n            className={cn(\n              'w-full max-w-full cursor-default object-cover px-0',\n              'rounded-sm'\n            )}\n            alt={(props.attributes as any).alt}\n            src={url}\n          />\n          {caption && (\n            <figcaption className=\"mx-auto mt-2 h-[24px] max-w-full\">\n              {NodeApi.string(caption[0])}\n            </figcaption>\n          )}\n        </div>\n      </figure>\n      {props.children}\n    </SlateElement>\n  );\n}\n","import * as React from 'react';\n\nimport type { SlateElementProps } from '@udecode/plate';\nimport { SlateElement } from '@udecode/plate';\nimport type { TEquationElement } from '@udecode/plate-math';\nimport { getEquationHtml } from '@udecode/plate-math';\n\nimport { cn } from '../../../libs/utils';\n\nexport function InlineEquationElementStatic(\n  props: SlateElementProps<TEquationElement>\n) {\n  const html = getEquationHtml({\n    element: props.element,\n    options: {\n      displayMode: true,\n      errorColor: '#cc0000',\n      fleqn: false,\n      leqno: false,\n      macros: { '\\\\f': '#1f(#2)' },\n      output: 'htmlAndMathml',\n      strict: 'warn',\n      throwOnError: false,\n      trust: false,\n    },\n  });\n\n  return (\n    <SlateElement\n      {...props}\n      className=\"inline-block rounded-sm select-none [&_.katex-display]:my-0\"\n    >\n      <div\n        className={cn(\n          'after:absolute after:inset-0 after:-top-0.5 after:-left-1 after:z-1 after:h-[calc(100%)+4px] after:w-[calc(100%+8px)] after:rounded-sm after:content-[\"\"]',\n          'h-6',\n          props.element.texExpression.length === 0 &&\n            'text-muted-foreground after:bg-neutral-500/10'\n        )}\n      >\n        <span\n          className={cn(\n            props.element.texExpression.length === 0 && 'hidden',\n            'font-mono leading-none'\n          )}\n          dangerouslySetInnerHTML={{ __html: html }}\n        />\n      </div>\n      {props.children}\n    </SlateElement>\n  );\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport type { PlateLeafProps } from '@udecode/plate/react';\n\nimport { PlateLeaf } from '@udecode/plate/react';\n\nexport function KbdLeaf(props: PlateLeafProps) {\n  return (\n    <PlateLeaf\n      {...props}\n      as=\"kbd\"\n      className=\"rounded border border-border bg-muted px-1.5 py-0.5 font-mono text-sm shadow-[rgba(255,_255,_255,_0.1)_0px_0.5px_0px_0px_inset,_rgb(248,_249,_250)_0px_1px_5px_0px_inset,_rgb(193,_200,_205)_0px_0px_0px_0.5px,_rgb(193,_200,_205)_0px_2px_1px_-1px,_rgb(193,_200,_205)_0px_1px_0px_0px] dark:shadow-[rgba(255,_255,_255,_0.1)_0px_0.5px_0px_0px_inset,_rgb(26,_29,_30)_0px_1px_5px_0px_inset,_rgb(76,_81,_85)_0px_0px_0px_0.5px,_rgb(76,_81,_85)_0px_2px_1px_-1px,_rgb(76,_81,_85)_0px_1px_0px_0px]\"\n    >\n      {props.children}\n    </PlateLeaf>\n  );\n}\n","import * as React from 'react';\n\nimport type { SlateElementProps } from '@udecode/plate';\nimport type { TLinkElement } from '@udecode/plate-link';\n\nimport { SlateElement } from '@udecode/plate';\n\nexport function LinkElementStatic(props: SlateElementProps<TLinkElement>) {\n  return (\n    <SlateElement\n      {...props}\n      as=\"a\"\n      className=\"font-medium text-primary underline decoration-primary underline-offset-4\"\n    >\n      {props.children}\n    </SlateElement>\n  );\n}\n","import * as React from 'react';\n\nimport type { SlateElementProps } from '@udecode/plate';\nimport type { TAudioElement } from '@udecode/plate-media';\n\nimport { SlateElement } from '@udecode/plate';\n\nexport function MediaAudioElementStatic(\n  props: SlateElementProps<TAudioElement>\n) {\n  return (\n    <SlateElement {...props} className=\"mb-1\">\n      <figure className=\"group relative cursor-default\">\n        <div className=\"h-16\">\n          <audio className=\"size-full\" src={props.element.url} controls />\n        </div>\n      </figure>\n      {props.children}\n    </SlateElement>\n  );\n}\n","import * as React from 'react';\n\nimport type { SlateElementProps } from '@udecode/plate';\nimport type { TFileElement } from '@udecode/plate-media';\n\nimport { SlateElement } from '@udecode/plate';\nimport { FileUp } from 'lucide-react';\n\nexport function MediaFileElementStatic(props: SlateElementProps<TFileElement>) {\n  const { name, url } = props.element;\n\n  return (\n    <SlateElement className=\"my-px rounded-sm\" {...props}>\n      <a\n        className=\"group relative m-0 flex cursor-pointer items-center rounded px-0.5 py-[3px] hover:bg-muted\"\n        contentEditable={false}\n        download={name}\n        href={url}\n        rel=\"noopener noreferrer\"\n        role=\"button\"\n        target=\"_blank\"\n      >\n        <div className=\"flex items-center gap-1 p-1\">\n          <FileUp className=\"size-5\" />\n          <div>{name}</div>\n        </div>\n      </a>\n      {props.children}\n    </SlateElement>\n  );\n}\n","import * as React from 'react';\n\nimport type { SlateElementProps } from '@udecode/plate';\nimport type { TCaptionElement } from '@udecode/plate-caption';\nimport type { TVideoElement } from '@udecode/plate-media';\n\nimport { NodeApi, SlateElement } from '@udecode/plate';\n\nexport function MediaVideoElementStatic(\n  props: SlateElementProps<TVideoElement & TCaptionElement & { width: number }>\n) {\n  const { align = 'center', caption, url, width } = props.element;\n\n  return (\n    <SlateElement className=\"py-2.5\" {...props}>\n      <div style={{ textAlign: align }}>\n        <figure\n          className=\"group relative m-0 inline-block cursor-default\"\n          style={{ width }}\n        >\n          <video\n            className=\"w-full max-w-full rounded-sm object-cover px-0\"\n            src={url}\n            controls\n          />\n          {caption && <figcaption>{NodeApi.string(caption[0])}</figcaption>}\n        </figure>\n      </div>\n      {props.children}\n    </SlateElement>\n  );\n}\n","import * as React from 'react';\n\nimport type { SlateElementProps } from '@udecode/plate';\nimport {\n  IS_APPLE,\n  SlateElement,\n} from '@udecode/plate';\nimport type { TMentionElement } from '@udecode/plate-mention';\n\nimport { cn } from '../../../libs/utils';\n\nexport function MentionElementStatic(\n  props: SlateElementProps<TMentionElement> & {\n    prefix?: string;\n  }\n) {\n  const { prefix } = props;\n  const element = props.element;\n\n  return (\n    <SlateElement\n      className={cn(\n        'inline-block rounded-md bg-muted px-1.5 py-0.5 align-baseline text-sm font-medium',\n        element.children[0].bold === true && 'font-bold',\n        element.children[0].italic === true && 'italic',\n        element.children[0].underline === true && 'underline'\n      )}\n      data-slate-value={element.value}\n      {...props}\n    >\n      {IS_APPLE ? (\n        // Mac OS IME https://github.com/ianstormtaylor/slate/issues/3490\n        <React.Fragment>\n          {props.children}\n          {prefix}\n          {element.value}\n        </React.Fragment>\n      ) : (\n        // Others like Android https://github.com/ianstormtaylor/slate/pull/5360\n        <React.Fragment>\n          {prefix}\n          {element.value}\n          {props.children}\n        </React.Fragment>\n      )}\n    </SlateElement>\n  );\n}\n","import * as React from 'react';\n\nimport type { SlateElementProps } from '@udecode/plate';\nimport { SlateElement } from '@udecode/plate';\n\nimport { cn } from '../../../libs/utils';\n\nexport function ParagraphElementStatic(props: SlateElementProps) {\n  return (\n    <SlateElement {...props} className={cn('m-0 px-0 py-1')}>\n      {props.children}\n    </SlateElement>\n  );\n}\n","import * as React from 'react';\n\nimport type { SlateElementProps } from '@udecode/plate';\nimport { SlateElement } from '@udecode/plate';\nimport type { TTableCellElement } from '@udecode/plate-table';\nimport { BaseTablePlugin } from '@udecode/plate-table';\n\nimport { cn } from '../../../libs/utils';\n\nexport function TableCellElementStatic({\n  isHeader,\n  ...props\n}: SlateElementProps<TTableCellElement> & {\n  isHeader?: boolean;\n}) {\n  const { editor, element } = props;\n  const { api } = editor.getPlugin(BaseTablePlugin);\n\n  const { minHeight, width } = api.table.getCellSize({ element });\n  const borders = api.table.getCellBorders({ element });\n\n  return (\n    <SlateElement\n      {...props}\n      as={isHeader ? 'th' : 'td'}\n      className={cn(\n        'h-full overflow-visible border-none bg-background p-0',\n        element.background ? 'bg-(--cellBackground)' : 'bg-background',\n        isHeader && 'text-left font-normal *:m-0',\n        'before:size-full',\n        \"before:absolute before:box-border before:content-[''] before:select-none\",\n        borders &&\n          cn(\n            borders.bottom?.size && `before:border-b before:border-b-border`,\n            borders.right?.size && `before:border-r before:border-r-border`,\n            borders.left?.size && `before:border-l before:border-l-border`,\n            borders.top?.size && `before:border-t before:border-t-border`\n          )\n      )}\n      style={\n        {\n          '--cellBackground': element.background,\n          maxWidth: width || 240,\n          minWidth: width || 120,\n        } as React.CSSProperties\n      }\n      attributes={{\n        ...props.attributes,\n        colSpan: api.table.getColSpan(element),\n        rowSpan: api.table.getRowSpan(element),\n      }}\n    >\n      <div\n        className=\"relative z-20 box-border h-full px-4 py-2\"\n        style={{ minHeight }}\n      >\n        {props.children}\n      </div>\n    </SlateElement>\n  );\n}\n\nexport function TableCellHeaderStaticElement(\n  props: SlateElementProps<TTableCellElement>\n) {\n  return <TableCellElementStatic {...props} isHeader />;\n}\n","import * as React from 'react';\n\nimport type { SlateElementProps } from '@udecode/plate';\nimport type { TTableElement } from '@udecode/plate-table';\n\nimport { SlateElement } from '@udecode/plate';\nimport { BaseTablePlugin } from '@udecode/plate-table';\n\nexport function TableElementStatic({\n  children,\n  ...props\n}: SlateElementProps<TTableElement>) {\n  const { disableMarginLeft } = props.editor.getOptions(BaseTablePlugin);\n  const marginLeft = disableMarginLeft ? 0 : props.element.marginLeft;\n\n  return (\n    <SlateElement\n      {...props}\n      className=\"overflow-x-auto py-5\"\n      style={{ paddingLeft: marginLeft }}\n    >\n      <div className=\"group/table relative w-fit\">\n        <table className=\"mr-0 ml-px table h-px table-fixed border-collapse\">\n          <tbody className=\"min-w-full\">{children}</tbody>\n        </table>\n      </div>\n    </SlateElement>\n  );\n}\n","import * as React from 'react';\n\nimport type { SlateElementProps } from '@udecode/plate';\n\nimport { SlateElement } from '@udecode/plate';\n\nexport function TableRowElementStatic(props: SlateElementProps) {\n  return (\n    <SlateElement {...props} as=\"tr\" className=\"h-full\">\n      {props.children}\n    </SlateElement>\n  );\n}\n","import * as React from 'react';\n\nimport { cva } from 'class-variance-authority';\n\nimport type {\n  SlateEditor,\n  SlateElementProps,\n  TElement,\n} from '@udecode/plate';\nimport {\n  NodeApi,\n  SlateElement,\n} from '@udecode/plate';\nimport {\n  BaseTocPlugin,\n  type Heading,\n  HEADING_KEYS,\n  isHeading,\n} from '@udecode/plate-heading';\n\nimport { Button } from './button';\n\nconst headingItemVariants = cva(\n  'block h-auto w-full cursor-pointer truncate rounded-none px-0.5 py-1.5 text-left font-medium text-muted-foreground underline decoration-[0.5px] underline-offset-4 hover:bg-accent hover:text-muted-foreground',\n  {\n    variants: {\n      depth: {\n        1: 'pl-0.5',\n        2: 'pl-[26px]',\n        3: 'pl-[50px]',\n      },\n    },\n  }\n);\n\nexport function TocElementStatic(props: SlateElementProps) {\n  const { editor } = props;\n  const headingList = getHeadingList(editor);\n\n  return (\n    <SlateElement {...props} className=\"mb-1 p-0\">\n      <div>\n        {headingList.length > 0 ? (\n          headingList.map((item) => (\n            <Button\n              key={item.title}\n              variant=\"ghost\"\n              className={headingItemVariants({\n                depth: item.depth as 1 | 2 | 3,\n              })}\n            >\n              {item.title}\n            </Button>\n          ))\n        ) : (\n          <div className=\"text-sm text-gray-500\">\n            Create a heading to display the table of contents.\n          </div>\n        )}\n      </div>\n      {props.children}\n    </SlateElement>\n  );\n}\n\nconst headingDepth: Record<string, number> = {\n  [HEADING_KEYS.h1]: 1,\n  [HEADING_KEYS.h2]: 2,\n  [HEADING_KEYS.h3]: 3,\n  [HEADING_KEYS.h4]: 4,\n  [HEADING_KEYS.h5]: 5,\n  [HEADING_KEYS.h6]: 6,\n};\n\nconst getHeadingList = (editor?: SlateEditor) => {\n  if (!editor) return [];\n\n  const options = editor.getOptions(BaseTocPlugin);\n\n  if (options.queryHeading) {\n    return options.queryHeading(editor);\n  }\n\n  const headingList: Heading[] = [];\n\n  const values = editor.api.nodes<TElement>({\n    at: [],\n    match: (n) => isHeading(n),\n  });\n\n  if (!values) return [];\n\n  Array.from(values, ([node, path]) => {\n    const { type } = node;\n    const title = NodeApi.string(node);\n    const depth = headingDepth[type];\n    const id = node.id as string;\n\n    if (title) {\n      headingList.push({ id, depth, path, title, type });\n    }\n  });\n\n  return headingList;\n};\n","'use client';\n\nimport * as React from 'react';\n\nimport {\n  Album,\n  BadgeHelp,\n  BookOpenCheck,\n  Check,\n  CornerUpLeft,\n  FeatherIcon,\n  ListEnd,\n  ListMinus,\n  ListPlus,\n  PenLine,\n  SmileIcon,\n  Wand,\n  X,\n} from 'lucide-react';\n\nimport {\n  NodeApi,\n  type SlateEditor,\n} from '@udecode/plate';\nimport {\n  AIChatPlugin,\n  AIPlugin,\n} from '@udecode/plate-ai/react';\nimport { useIsSelecting } from '@udecode/plate-selection/react';\nimport {\n  type PlateEditor,\n  useEditorRef,\n  usePluginOption,\n} from '@udecode/plate/react';\n\nimport {\n  CommandGroup,\n  CommandItem,\n} from './command';\n\nexport type EditorChatState =\n  | 'cursorCommand'\n  | 'cursorSuggestion'\n  | 'selectionCommand'\n  | 'selectionSuggestion';\n\nexport const aiChatItems:any = {\n  accept: {\n    icon: <Check />,\n    label: 'Accept',\n    value: 'accept',\n    onSelect: ({ editor }) => {\n      editor.getTransforms(AIChatPlugin).aiChat.accept();\n      editor.tf.focus({ edge: 'end' });\n    },\n  },\n  continueWrite: {\n    icon: <PenLine />,\n    label: 'Continue writing',\n    value: 'continueWrite',\n    onSelect: ({ editor }) => {\n      const ancestorNode = editor.api.block({ highest: true });\n\n      if (!ancestorNode) return;\n\n      const isEmpty = NodeApi.string(ancestorNode[0]).trim().length === 0;\n\n      void editor.getApi(AIChatPlugin).aiChat.submit({\n        mode: 'insert',\n        prompt: isEmpty\n          ? `<Document>\n{editor}\n</Document>\nStart writing a new paragraph AFTER <Document> ONLY ONE SENTENCE`\n          : 'Continue writing AFTER <Block> ONLY ONE SENTENCE. DONT REPEAT THE TEXT.',\n      });\n    },\n  },\n  discard: {\n    icon: <X />,\n    label: 'Discard',\n    shortcut: 'Escape',\n    value: 'discard',\n    onSelect: ({ editor }) => {\n      editor.getTransforms(AIPlugin).ai.undo();\n      editor.getApi(AIChatPlugin).aiChat.hide();\n    },\n  },\n  emojify: {\n    icon: <SmileIcon />,\n    label: 'Emojify',\n    value: 'emojify',\n    onSelect: ({ editor }) => {\n      void editor.getApi(AIChatPlugin).aiChat.submit({\n        prompt: 'Emojify',\n      });\n    },\n  },\n  explain: {\n    icon: <BadgeHelp />,\n    label: 'Explain',\n    value: 'explain',\n    onSelect: ({ editor }) => {\n      void editor.getApi(AIChatPlugin).aiChat.submit({\n        prompt: {\n          default: 'Explain {editor}',\n          selecting: 'Explain',\n        },\n      });\n    },\n  },\n  fixSpelling: {\n    icon: <Check />,\n    label: 'Fix spelling & grammar',\n    value: 'fixSpelling',\n    onSelect: ({ editor }) => {\n      void editor.getApi(AIChatPlugin).aiChat.submit({\n        prompt: 'Fix spelling and grammar',\n      });\n    },\n  },\n  generateMarkdownSample: {\n    icon: <BookOpenCheck />,\n    label: 'Generate Markdown sample',\n    value: 'generateMarkdownSample',\n    onSelect: ({ editor }) => {\n      void editor.getApi(AIChatPlugin).aiChat.submit({\n        prompt: 'Generate a markdown sample',\n      });\n    },\n  },\n  generateMdxSample: {\n    icon: <BookOpenCheck />,\n    label: 'Generate MDX sample',\n    value: 'generateMdxSample',\n    onSelect: ({ editor }) => {\n      void editor.getApi(AIChatPlugin).aiChat.submit({\n        prompt: 'Generate a mdx sample',\n      });\n    },\n  },\n  improveWriting: {\n    icon: <Wand />,\n    label: 'Improve writing',\n    value: 'improveWriting',\n    onSelect: ({ editor }) => {\n      void editor.getApi(AIChatPlugin).aiChat.submit({\n        prompt: 'Improve the writing',\n      });\n    },\n  },\n  insertBelow: {\n    icon: <ListEnd />,\n    label: 'Insert below',\n    value: 'insertBelow',\n    onSelect: ({ aiEditor, editor }) => {\n      void editor.getTransforms(AIChatPlugin).aiChat.insertBelow(aiEditor);\n    },\n  },\n  makeLonger: {\n    icon: <ListPlus />,\n    label: 'Make longer',\n    value: 'makeLonger',\n    onSelect: ({ editor }) => {\n      void editor.getApi(AIChatPlugin).aiChat.submit({\n        prompt: 'Make longer',\n      });\n    },\n  },\n  makeShorter: {\n    icon: <ListMinus />,\n    label: 'Make shorter',\n    value: 'makeShorter',\n    onSelect: ({ editor }) => {\n      void editor.getApi(AIChatPlugin).aiChat.submit({\n        prompt: 'Make shorter',\n      });\n    },\n  },\n  replace: {\n    icon: <Check />,\n    label: 'Replace selection',\n    value: 'replace',\n    onSelect: ({ aiEditor, editor }) => {\n      void editor.getTransforms(AIChatPlugin).aiChat.replaceSelection(aiEditor);\n    },\n  },\n  simplifyLanguage: {\n    icon: <FeatherIcon />,\n    label: 'Simplify language',\n    value: 'simplifyLanguage',\n    onSelect: ({ editor }) => {\n      void editor.getApi(AIChatPlugin).aiChat.submit({\n        prompt: 'Simplify the language',\n      });\n    },\n  },\n  summarize: {\n    icon: <Album />,\n    label: 'Add a summary',\n    value: 'summarize',\n    onSelect: ({ editor }) => {\n      void editor.getApi(AIChatPlugin).aiChat.submit({\n        mode: 'insert',\n        prompt: {\n          default: 'Summarize {editor}',\n          selecting: 'Summarize',\n        },\n      });\n    },\n  },\n  tryAgain: {\n    icon: <CornerUpLeft />,\n    label: 'Try again',\n    value: 'tryAgain',\n    onSelect: ({ editor }) => {\n      void editor.getApi(AIChatPlugin).aiChat.reload();\n    },\n  },\n} satisfies Record<\n  string,\n  {\n    icon: React.ReactNode;\n    label: string;\n    value: string;\n    component?: React.ComponentType<{ menuState: EditorChatState }>;\n    filterItems?: boolean;\n    items?: { label: string; value: string }[];\n    shortcut?: string;\n    onSelect?: ({\n      aiEditor,\n      editor,\n    }: {\n      aiEditor: SlateEditor;\n      editor: PlateEditor;\n    }) => void;\n  }\n>;\n\nexport const menuStateItems: Record<\n  EditorChatState,\n  {\n    items: (typeof aiChatItems)[keyof typeof aiChatItems][];\n    heading?: string;\n  }[]\n> = {\n  cursorCommand: [\n    {\n      items: [\n        aiChatItems.generateMdxSample,\n        aiChatItems.generateMarkdownSample,\n        aiChatItems.continueWrite,\n        aiChatItems.summarize,\n        aiChatItems.explain,\n      ],\n    },\n  ],\n  cursorSuggestion: [\n    {\n      items: [aiChatItems.accept, aiChatItems.discard, aiChatItems.tryAgain],\n    },\n  ],\n  selectionCommand: [\n    {\n      items: [\n        aiChatItems.improveWriting,\n        aiChatItems.emojify,\n        aiChatItems.makeLonger,\n        aiChatItems.makeShorter,\n        aiChatItems.fixSpelling,\n        aiChatItems.simplifyLanguage,\n      ],\n    },\n  ],\n  selectionSuggestion: [\n    {\n      items: [\n        aiChatItems.replace,\n        aiChatItems.insertBelow,\n        aiChatItems.discard,\n        aiChatItems.tryAgain,\n      ],\n    },\n  ],\n};\n\nexport const AIMenuItems:any = ({\n  setValue,\n}: {\n  setValue: (value: string) => void;\n}) => {\n  const editor = useEditorRef();\n  const { messages } = usePluginOption(AIChatPlugin, 'chat');\n  const aiEditor = usePluginOption(AIChatPlugin, 'aiEditor')!;\n  const isSelecting = useIsSelecting();\n\n  const menuState = React.useMemo(() => {\n    if (messages && messages.length > 0) {\n      return isSelecting ? 'selectionSuggestion' : 'cursorSuggestion';\n    }\n\n    return isSelecting ? 'selectionCommand' : 'cursorCommand';\n  }, [isSelecting, messages]);\n\n  const menuGroups = React.useMemo(() => {\n    const items = menuStateItems[menuState];\n\n    return items;\n  }, [menuState]);\n\n  React.useEffect(() => {\n    if (menuGroups.length > 0 && menuGroups[0].items.length > 0) {\n      setValue(menuGroups[0].items[0].value);\n    }\n  }, [menuGroups, setValue]);\n\n  return (\n    <>\n      {menuGroups.map((group, index) => (\n        <CommandGroup key={index} heading={group.heading}>\n          {group.items.map((menuItem) => (\n            <CommandItem\n              key={menuItem.value}\n              className=\"[&_svg]:text-muted-foreground\"\n              value={menuItem.value}\n              onSelect={() => {\n                menuItem.onSelect?.({\n                  aiEditor,\n                  editor: editor,\n                });\n              }}\n            >\n              {menuItem.icon}\n              <span>{menuItem.label}</span>\n            </CommandItem>\n          ))}\n        </CommandGroup>\n      ))}\n    </>\n  );\n};\n","'use client';\n\nimport { CursorOverlayPlugin } from '@udecode/plate-selection/react';\n\nimport { CursorOverlay } from '../ui/cursor-overlay';\n\nexport const cursorOverlayPlugin:any = CursorOverlayPlugin.configure({\n  render: {\n    afterEditable: () => <CursorOverlay />,\n  },\n});\n","'use client';\n\nimport * as React from 'react';\n\nimport { RangeApi } from '@udecode/plate';\nimport { AIChatPlugin } from '@udecode/plate-ai/react';\nimport {\n  type CursorData,\n  type CursorOverlayState,\n  useCursorOverlay,\n} from '@udecode/plate-selection/react';\nimport { usePluginOption } from '@udecode/plate/react';\n\nimport { cn } from '../../../libs/utils';\n\nexport function Cursor({\n  id,\n  caretPosition,\n  data,\n  selection,\n  selectionRects,\n}: CursorOverlayState<CursorData>) {\n  const streaming = usePluginOption(AIChatPlugin, 'streaming');\n  const { style, selectionStyle = style } = data ?? ({} as CursorData);\n  const isCursor = RangeApi.isCollapsed(selection);\n\n  if (streaming) return null;\n\n  return (\n    <>\n      {selectionRects.map((position, i) => {\n        return (\n          <div\n            key={i}\n            className={cn(\n              'pointer-events-none absolute z-10',\n              id === 'selection' && 'bg-brand/25',\n              id === 'selection' && isCursor && 'bg-primary'\n            )}\n            style={{\n              ...selectionStyle,\n              ...position,\n            }}\n          />\n        );\n      })}\n      {caretPosition && (\n        <div\n          className={cn(\n            'pointer-events-none absolute z-10 w-0.5',\n            id === 'drag' && 'w-px bg-brand'\n          )}\n          style={{ ...caretPosition, ...style }}\n        />\n      )}\n    </>\n  );\n}\n\nexport function CursorOverlay() {\n  const { cursors } = useCursorOverlay();\n\n  return (\n    <>\n      {cursors.map((cursor) => (\n        <Cursor key={cursor.id} {...cursor} />\n      ))}\n    </>\n  );\n}\n","'use client';\n\nimport { AlignPlugin } from '@udecode/plate-alignment/react';\nimport { HEADING_LEVELS } from '@udecode/plate-heading';\nimport {\n  ImagePlugin,\n  MediaEmbedPlugin,\n} from '@udecode/plate-media/react';\nimport { ParagraphPlugin } from '@udecode/plate/react';\n\nexport const alignPlugin:any = AlignPlugin.extend({\n  inject: {\n    targetPlugins: [\n      ParagraphPlugin.key,\n      ...HEADING_LEVELS,\n      MediaEmbedPlugin.key,\n      ImagePlugin.key,\n    ],\n  },\n});\n","'use client';\n\nimport type { AutoformatRule } from '@udecode/plate-autoformat';\nimport {\n  autoformatArrow,\n  autoformatLegal,\n  autoformatLegalHtml,\n  autoformatMath,\n  autoformatPunctuation,\n  autoformatSmartQuotes,\n} from '@udecode/plate-autoformat';\nimport { AutoformatPlugin } from '@udecode/plate-autoformat/react';\nimport {\n  BoldPlugin,\n  CodePlugin,\n  ItalicPlugin,\n  StrikethroughPlugin,\n  SubscriptPlugin,\n  SuperscriptPlugin,\n  UnderlinePlugin,\n} from '@udecode/plate-basic-marks/react';\nimport { BlockquotePlugin } from '@udecode/plate-block-quote/react';\nimport { insertEmptyCodeBlock } from '@udecode/plate-code-block';\nimport { CodeBlockPlugin } from '@udecode/plate-code-block/react';\nimport { HEADING_KEYS } from '@udecode/plate-heading';\nimport { HighlightPlugin } from '@udecode/plate-highlight/react';\nimport { HorizontalRulePlugin } from '@udecode/plate-horizontal-rule/react';\nimport {\n  INDENT_LIST_KEYS,\n  ListStyleType,\n  toggleIndentList,\n} from '@udecode/plate-indent-list';\nimport {\n  openNextToggles,\n  TogglePlugin,\n} from '@udecode/plate-toggle/react';\nimport { ParagraphPlugin } from '@udecode/plate/react';\n\nconst autoformatMarks: AutoformatRule[] = [\n  {\n    match: '***',\n    mode: 'mark',\n    type: [BoldPlugin.key, ItalicPlugin.key],\n  },\n  {\n    match: '__*',\n    mode: 'mark',\n    type: [UnderlinePlugin.key, ItalicPlugin.key],\n  },\n  {\n    match: '__**',\n    mode: 'mark',\n    type: [UnderlinePlugin.key, BoldPlugin.key],\n  },\n  {\n    match: '___***',\n    mode: 'mark',\n    type: [UnderlinePlugin.key, BoldPlugin.key, ItalicPlugin.key],\n  },\n  {\n    match: '**',\n    mode: 'mark',\n    type: BoldPlugin.key,\n  },\n  {\n    match: '__',\n    mode: 'mark',\n    type: UnderlinePlugin.key,\n  },\n  {\n    match: '*',\n    mode: 'mark',\n    type: ItalicPlugin.key,\n  },\n  {\n    match: '_',\n    mode: 'mark',\n    type: ItalicPlugin.key,\n  },\n  {\n    match: '~~',\n    mode: 'mark',\n    type: StrikethroughPlugin.key,\n  },\n  {\n    match: '^',\n    mode: 'mark',\n    type: SuperscriptPlugin.key,\n  },\n  {\n    match: '~',\n    mode: 'mark',\n    type: SubscriptPlugin.key,\n  },\n  {\n    match: '==',\n    mode: 'mark',\n    type: HighlightPlugin.key,\n  },\n  {\n    match: '≡',\n    mode: 'mark',\n    type: HighlightPlugin.key,\n  },\n  {\n    match: '`',\n    mode: 'mark',\n    type: CodePlugin.key,\n  },\n];\n\nconst autoformatBlocks: AutoformatRule[] = [\n  {\n    match: '# ',\n    mode: 'block',\n    type: HEADING_KEYS.h1,\n  },\n  {\n    match: '## ',\n    mode: 'block',\n    type: HEADING_KEYS.h2,\n  },\n  {\n    match: '### ',\n    mode: 'block',\n    type: HEADING_KEYS.h3,\n  },\n  {\n    match: '#### ',\n    mode: 'block',\n    type: HEADING_KEYS.h4,\n  },\n  {\n    match: '##### ',\n    mode: 'block',\n    type: HEADING_KEYS.h5,\n  },\n  {\n    match: '###### ',\n    mode: 'block',\n    type: HEADING_KEYS.h6,\n  },\n  {\n    match: '> ',\n    mode: 'block',\n    type: BlockquotePlugin.key,\n  },\n  {\n    match: '```',\n    mode: 'block',\n    type: CodeBlockPlugin.key,\n    format: (editor) => {\n      insertEmptyCodeBlock(editor, {\n        defaultType: ParagraphPlugin.key,\n        insertNodesOptions: { select: true },\n      });\n    },\n  },\n  {\n    match: '+ ',\n    mode: 'block',\n    preFormat: openNextToggles,\n    type: TogglePlugin.key,\n  },\n  {\n    match: ['---', '—-', '___ '],\n    mode: 'block',\n    type: HorizontalRulePlugin.key,\n    format: (editor) => {\n      editor.tf.setNodes({ type: HorizontalRulePlugin.key });\n      editor.tf.insertNodes({\n        children: [{ text: '' }],\n        type: ParagraphPlugin.key,\n      });\n    },\n  },\n];\n\nconst autoformatIndentLists: AutoformatRule[] = [\n  {\n    match: ['* ', '- '],\n    mode: 'block',\n    type: 'list',\n    format: (editor) => {\n      toggleIndentList(editor, {\n        listStyleType: ListStyleType.Disc,\n      });\n    },\n  },\n  {\n    match: [String.raw`^\\d+\\.$ `, String.raw`^\\d+\\)$ `],\n    matchByRegex: true,\n    mode: 'block',\n    type: 'list',\n    format: (editor, { matchString }) => {\n      toggleIndentList(editor, {\n        listRestartPolite: Number(matchString) || 1,\n        listStyleType: ListStyleType.Decimal,\n      });\n    },\n  },\n  {\n    match: ['[] '],\n    mode: 'block',\n    type: 'list',\n    format: (editor) => {\n      toggleIndentList(editor, {\n        listStyleType: INDENT_LIST_KEYS.todo,\n      });\n      editor.tf.setNodes({\n        checked: false,\n        listStyleType: INDENT_LIST_KEYS.todo,\n      });\n    },\n  },\n  {\n    match: ['[x] '],\n    mode: 'block',\n    type: 'list',\n    format: (editor) => {\n      toggleIndentList(editor, {\n        listStyleType: INDENT_LIST_KEYS.todo,\n      });\n      editor.tf.setNodes({\n        checked: true,\n        listStyleType: INDENT_LIST_KEYS.todo,\n      });\n    },\n  },\n];\n\nexport const autoformatPlugin:any = AutoformatPlugin.configure({\n  options: {\n    enableUndoOnDelete: true,\n    rules: [\n      ...autoformatBlocks,\n      ...autoformatMarks,\n      ...autoformatSmartQuotes,\n      ...autoformatPunctuation,\n      ...autoformatLegal,\n      ...autoformatLegalHtml,\n      ...autoformatArrow,\n      ...autoformatMath,\n      ...autoformatIndentLists,\n    ].map(\n      (rule): AutoformatRule => ({\n        ...rule,\n        query: (editor) =>\n          !editor.api.some({\n            match: { type: editor.getType(CodeBlockPlugin) },\n          }),\n      })\n    ),\n  },\n});\n","'use client';\n\nimport {\n  all,\n  createLowlight,\n} from 'lowlight';\n\nimport { BasicMarksPlugin } from '@udecode/plate-basic-marks/react';\nimport { BlockquotePlugin } from '@udecode/plate-block-quote/react';\nimport { CodeBlockPlugin } from '@udecode/plate-code-block/react';\nimport { HeadingPlugin } from '@udecode/plate-heading/react';\n\nconst lowlight = createLowlight(all);\n\nexport const basicNodesPlugins:any[] = [\n  HeadingPlugin.configure({ options: { levels: 3 } }),\n  BlockquotePlugin,\n  CodeBlockPlugin.configure({ options: { lowlight } }),\n  BasicMarksPlugin,\n] as const;\n","'use client';\n\nimport { BlockMenuPlugin } from '@udecode/plate-selection/react';\n\nimport { BlockContextMenu } from '../ui/block-context-menu';\nimport { blockSelectionPlugins } from './block-selection-plugins';\n\nexport const blockMenuPlugins:any[] = [\n  ...blockSelectionPlugins,\n  BlockMenuPlugin.configure({\n    render: { aboveEditable: BlockContextMenu },\n  }),\n] as any;\n","'use client';\n\nimport * as React from 'react';\n\nimport { AIChatPlugin } from '@udecode/plate-ai/react';\nimport { BlockquotePlugin } from '@udecode/plate-block-quote/react';\nimport { HEADING_KEYS } from '@udecode/plate-heading';\nimport { IndentListPlugin } from '@udecode/plate-indent-list/react';\nimport {\n  BLOCK_CONTEXT_MENU_ID,\n  BlockMenuPlugin,\n  BlockSelectionPlugin,\n} from '@udecode/plate-selection/react';\nimport {\n  ParagraphPlugin,\n  useEditorPlugin,\n  usePlateState,\n} from '@udecode/plate/react';\n\nimport { useIsTouchDevice } from '../../../hooks/use-is-touch-device';\nimport {\n  ContextMenu,\n  ContextMenuContent,\n  ContextMenuGroup,\n  ContextMenuItem,\n  ContextMenuSub,\n  ContextMenuSubContent,\n  ContextMenuSubTrigger,\n  ContextMenuTrigger,\n} from './context-menu';\n\nexport type Value = 'askAI' | null;\n\nexport function BlockContextMenu({ children }: { children: React.ReactNode }) {\n  const { api, editor } = useEditorPlugin(BlockMenuPlugin);\n  const [value, setValue] = React.useState<Value>(null);\n  const isTouch = useIsTouchDevice();\n  const [readOnly] = usePlateState('readOnly');\n\n  const handleTurnInto = React.useCallback(\n    (type: string) => {\n      editor\n        .getApi(BlockSelectionPlugin)\n        .blockSelection.getNodes()\n        .forEach(([node, path]) => {\n          if (node[IndentListPlugin.key]) {\n            editor.tf.unsetNodes([IndentListPlugin.key, 'indent'], {\n              at: path,\n            });\n          }\n\n          editor.tf.toggleBlock(type, { at: path });\n        });\n    },\n    [editor]\n  );\n\n  const handleAlign = React.useCallback(\n    (align: 'center' | 'left' | 'right') => {\n      editor\n        .getTransforms(BlockSelectionPlugin)\n        .blockSelection.setNodes({ align });\n    },\n    [editor]\n  );\n\n  if (isTouch) {\n    return children;\n  }\n\n  return (\n    <ContextMenu\n      onOpenChange={(open) => {\n        if (!open) {\n          // prevent unselect the block selection\n          setTimeout(() => {\n            api.blockMenu.hide();\n          }, 0);\n        }\n      }}\n      modal={false}\n    >\n      <ContextMenuTrigger\n        asChild\n        onContextMenu={(event) => {\n          const dataset = (event.target as HTMLElement).dataset;\n\n          const disabled = dataset?.slateEditor === 'true' || readOnly;\n\n          if (disabled) return event.preventDefault();\n\n          api.blockMenu.show(BLOCK_CONTEXT_MENU_ID, {\n            x: event.clientX,\n            y: event.clientY,\n          });\n        }}\n      >\n        <div className=\"w-full\">{children}</div>\n      </ContextMenuTrigger>\n      <ContextMenuContent\n        className=\"w-64\"\n        onCloseAutoFocus={(e) => {\n          e.preventDefault();\n          editor.getApi(BlockSelectionPlugin).blockSelection.focus();\n\n          if (value === 'askAI') {\n            editor.getApi(AIChatPlugin).aiChat.show();\n          }\n\n          setValue(null);\n        }}\n      >\n        <ContextMenuGroup>\n          <ContextMenuItem\n            onClick={() => {\n              setValue('askAI');\n            }}\n          >\n            Ask AI\n          </ContextMenuItem>\n          <ContextMenuItem\n            onClick={() => {\n              editor\n                .getTransforms(BlockSelectionPlugin)\n                .blockSelection.removeNodes();\n              editor.tf.focus();\n            }}\n          >\n            Delete\n          </ContextMenuItem>\n          <ContextMenuItem\n            onClick={() => {\n              editor\n                .getTransforms(BlockSelectionPlugin)\n                .blockSelection.duplicate();\n            }}\n          >\n            Duplicate\n            {/* <ContextMenuShortcut>⌘ + D</ContextMenuShortcut> */}\n          </ContextMenuItem>\n          <ContextMenuSub>\n            <ContextMenuSubTrigger>Turn into</ContextMenuSubTrigger>\n            <ContextMenuSubContent className=\"w-48\">\n              <ContextMenuItem\n                onClick={() => handleTurnInto(ParagraphPlugin.key)}\n              >\n                Paragraph\n              </ContextMenuItem>\n\n              <ContextMenuItem onClick={() => handleTurnInto(HEADING_KEYS.h1)}>\n                Heading 1\n              </ContextMenuItem>\n              <ContextMenuItem onClick={() => handleTurnInto(HEADING_KEYS.h2)}>\n                Heading 2\n              </ContextMenuItem>\n              <ContextMenuItem onClick={() => handleTurnInto(HEADING_KEYS.h3)}>\n                Heading 3\n              </ContextMenuItem>\n              <ContextMenuItem\n                onClick={() => handleTurnInto(BlockquotePlugin.key)}\n              >\n                Blockquote\n              </ContextMenuItem>\n            </ContextMenuSubContent>\n          </ContextMenuSub>\n        </ContextMenuGroup>\n\n        <ContextMenuGroup>\n          <ContextMenuItem\n            onClick={() =>\n              editor\n                .getTransforms(BlockSelectionPlugin)\n                .blockSelection.setIndent(1)\n            }\n          >\n            Indent\n          </ContextMenuItem>\n          <ContextMenuItem\n            onClick={() =>\n              editor\n                .getTransforms(BlockSelectionPlugin)\n                .blockSelection.setIndent(-1)\n            }\n          >\n            Outdent\n          </ContextMenuItem>\n          <ContextMenuSub>\n            <ContextMenuSubTrigger>Align</ContextMenuSubTrigger>\n            <ContextMenuSubContent className=\"w-48\">\n              <ContextMenuItem onClick={() => handleAlign('left')}>\n                Left\n              </ContextMenuItem>\n              <ContextMenuItem onClick={() => handleAlign('center')}>\n                Center\n              </ContextMenuItem>\n              <ContextMenuItem onClick={() => handleAlign('right')}>\n                Right\n              </ContextMenuItem>\n            </ContextMenuSubContent>\n          </ContextMenuSub>\n        </ContextMenuGroup>\n      </ContextMenuContent>\n    </ContextMenu>\n  );\n}\n","'use client';\n\nimport * as React from 'react';\n\nexport function useIsTouchDevice() {\n  const [isTouchDevice, setIsTouchDevice] = React.useState(false);\n\n  React.useEffect(() => {\n    function onResize() {\n      setIsTouchDevice(\n        'ontouchstart' in window ||\n          navigator.maxTouchPoints > 0 ||\n          navigator.maxTouchPoints > 0\n      );\n    }\n\n    window.addEventListener('resize', onResize);\n    onResize();\n\n    return () => {\n      window.removeEventListener('resize', onResize);\n    };\n  }, []);\n\n  return isTouchDevice;\n}\n","import * as React from 'react';\n\nimport {\n  CheckIcon,\n  ChevronRightIcon,\n  CircleIcon,\n} from 'lucide-react';\n\nimport * as ContextMenuPrimitive from '@radix-ui/react-context-menu';\n\nimport { cn } from '../../../libs/utils';\n\nfunction ContextMenu({\n  ...props\n}: React.ComponentProps<typeof ContextMenuPrimitive.Root>) {\n  return <ContextMenuPrimitive.Root data-slot=\"context-menu\" {...props} />\n}\n\nfunction ContextMenuTrigger({\n  ...props\n}: React.ComponentProps<typeof ContextMenuPrimitive.Trigger>) {\n  return (\n    <ContextMenuPrimitive.Trigger data-slot=\"context-menu-trigger\" {...props} />\n  )\n}\n\nfunction ContextMenuGroup({\n  ...props\n}: React.ComponentProps<typeof ContextMenuPrimitive.Group>) {\n  return (\n    <ContextMenuPrimitive.Group data-slot=\"context-menu-group\" {...props} />\n  )\n}\n\nfunction ContextMenuPortal({\n  ...props\n}: React.ComponentProps<typeof ContextMenuPrimitive.Portal>) {\n  return (\n    <ContextMenuPrimitive.Portal data-slot=\"context-menu-portal\" {...props} />\n  )\n}\n\nfunction ContextMenuSub({\n  ...props\n}: React.ComponentProps<typeof ContextMenuPrimitive.Sub>) {\n  return <ContextMenuPrimitive.Sub data-slot=\"context-menu-sub\" {...props} />\n}\n\nfunction ContextMenuRadioGroup({\n  ...props\n}: React.ComponentProps<typeof ContextMenuPrimitive.RadioGroup>) {\n  return (\n    <ContextMenuPrimitive.RadioGroup\n      data-slot=\"context-menu-radio-group\"\n      {...props}\n    />\n  )\n}\n\nfunction ContextMenuSubTrigger({\n  className,\n  inset,\n  children,\n  ...props\n}: React.ComponentProps<typeof ContextMenuPrimitive.SubTrigger> & {\n  inset?: boolean\n}) {\n  return (\n    <ContextMenuPrimitive.SubTrigger\n      data-slot=\"context-menu-sub-trigger\"\n      data-inset={inset}\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground flex cursor-default items-center rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <ChevronRightIcon className=\"ml-auto\" />\n    </ContextMenuPrimitive.SubTrigger>\n  )\n}\n\nfunction ContextMenuSubContent({\n  className,\n  ...props\n}: React.ComponentProps<typeof ContextMenuPrimitive.SubContent>) {\n  return (\n    <ContextMenuPrimitive.SubContent\n      data-slot=\"context-menu-sub-content\"\n      className={cn(\n        \"bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[8rem] origin-(--radix-context-menu-content-transform-origin) overflow-hidden rounded-md border p-1 shadow-lg\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction ContextMenuContent({\n  className,\n  ...props\n}: React.ComponentProps<typeof ContextMenuPrimitive.Content>) {\n  return (\n    <ContextMenuPrimitive.Portal>\n      <ContextMenuPrimitive.Content\n        data-slot=\"context-menu-content\"\n        className={cn(\n          \"bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-context-menu-content-available-height) min-w-[8rem] origin-(--radix-context-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md\",\n          className\n        )}\n        {...props}\n      />\n    </ContextMenuPrimitive.Portal>\n  )\n}\n\nfunction ContextMenuItem({\n  className,\n  inset,\n  variant = \"default\",\n  ...props\n}: React.ComponentProps<typeof ContextMenuPrimitive.Item> & {\n  inset?: boolean\n  variant?: \"default\" | \"destructive\"\n}) {\n  return (\n    <ContextMenuPrimitive.Item\n      data-slot=\"context-menu-item\"\n      data-inset={inset}\n      data-variant={variant}\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction ContextMenuCheckboxItem({\n  className,\n  children,\n  checked,\n  ...props\n}: React.ComponentProps<typeof ContextMenuPrimitive.CheckboxItem>) {\n  return (\n    <ContextMenuPrimitive.CheckboxItem\n      data-slot=\"context-menu-checkbox-item\"\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      checked={checked}\n      {...props}\n    >\n      <span className=\"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center\">\n        <ContextMenuPrimitive.ItemIndicator>\n          <CheckIcon className=\"size-4\" />\n        </ContextMenuPrimitive.ItemIndicator>\n      </span>\n      {children}\n    </ContextMenuPrimitive.CheckboxItem>\n  )\n}\n\nfunction ContextMenuRadioItem({\n  className,\n  children,\n  ...props\n}: React.ComponentProps<typeof ContextMenuPrimitive.RadioItem>) {\n  return (\n    <ContextMenuPrimitive.RadioItem\n      data-slot=\"context-menu-radio-item\"\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      {...props}\n    >\n      <span className=\"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center\">\n        <ContextMenuPrimitive.ItemIndicator>\n          <CircleIcon className=\"size-2 fill-current\" />\n        </ContextMenuPrimitive.ItemIndicator>\n      </span>\n      {children}\n    </ContextMenuPrimitive.RadioItem>\n  )\n}\n\nfunction ContextMenuLabel({\n  className,\n  inset,\n  ...props\n}: React.ComponentProps<typeof ContextMenuPrimitive.Label> & {\n  inset?: boolean\n}) {\n  return (\n    <ContextMenuPrimitive.Label\n      data-slot=\"context-menu-label\"\n      data-inset={inset}\n      className={cn(\n        \"text-foreground px-2 py-1.5 text-sm font-medium data-[inset]:pl-8\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction ContextMenuSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof ContextMenuPrimitive.Separator>) {\n  return (\n    <ContextMenuPrimitive.Separator\n      data-slot=\"context-menu-separator\"\n      className={cn(\"bg-border -mx-1 my-1 h-px\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction ContextMenuShortcut({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) {\n  return (\n    <span\n      data-slot=\"context-menu-shortcut\"\n      className={cn(\n        \"text-muted-foreground ml-auto text-xs tracking-widest\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport {\n  ContextMenu,\n  ContextMenuCheckboxItem,\n  ContextMenuContent,\n  ContextMenuGroup,\n  ContextMenuItem,\n  ContextMenuLabel,\n  ContextMenuPortal,\n  ContextMenuRadioGroup,\n  ContextMenuRadioItem,\n  ContextMenuSeparator,\n  ContextMenuShortcut,\n  ContextMenuSub,\n  ContextMenuSubContent,\n  ContextMenuSubTrigger,\n  ContextMenuTrigger,\n};\n","'use client';\n\nimport { BlockSelectionPlugin } from '@udecode/plate-selection/react';\n\nimport { BlockSelection } from '../ui/block-selection';\n\nexport const blockSelectionPlugins:any[] = [\n  BlockSelectionPlugin.configure(({ editor }) => ({\n    options: {\n      enableContextMenu: true,\n      isSelectable: (element, path) => {\n        return (\n          !['code_line', 'column', 'td'].includes(element.type) &&\n          !editor.api.block({ above: true, at: path, match: { type: 'tr' } })\n        );\n      },\n    },\n    render: {\n      belowRootNodes: (props) => {\n        if (!props.attributes.className?.includes('slate-selectable'))\n          return null;\n\n        return <BlockSelection />;\n      },\n    },\n  })),\n] as any;\n\nexport const blockSelectionReadOnlyPlugin:any = BlockSelectionPlugin.configure({\n  api: {},\n  extendEditor: null,\n  handlers: {},\n  options: {},\n  render: {},\n  useHooks: null,\n}) as any;\n","'use client';\n\nimport * as React from 'react';\n\nimport {\n  cva,\n  type VariantProps,\n} from 'class-variance-authority';\n\nimport { DndPlugin } from '@udecode/plate-dnd';\nimport { useBlockSelected } from '@udecode/plate-selection/react';\nimport { usePluginOption } from '@udecode/plate/react';\n\nimport { cn } from '../../../libs/utils';\n\nexport const blockSelectionVariants = cva(\n  'pointer-events-none absolute inset-0 z-1 bg-brand/[.13] transition-opacity',\n  {\n    defaultVariants: {\n      active: true,\n    },\n    variants: {\n      active: {\n        false: 'opacity-0',\n        true: 'opacity-100',\n      },\n    },\n  }\n);\n\nexport function BlockSelection({\n  className,\n  ...props\n}: React.ComponentProps<'div'> & VariantProps<typeof blockSelectionVariants>) {\n  const isBlockSelected = useBlockSelected();\n  const isDragging = usePluginOption(DndPlugin, 'isDragging');\n\n  if (!isBlockSelected) return null;\n\n  return (\n    <div\n      className={cn(\n        blockSelectionVariants({\n          active: isBlockSelected && !isDragging,\n        }),\n        className\n      )}\n      data-slot=\"block-selection\"\n      {...props}\n    />\n  );\n}\n","'use client';\n\nimport type {\n  ExtendConfig,\n  Path,\n} from '@udecode/plate';\nimport { isSlateString } from '@udecode/plate';\nimport {\n  type BaseCommentsConfig,\n  BaseCommentsPlugin,\n} from '@udecode/plate-comments';\nimport {\n  toTPlatePlugin,\n  useHotkeys,\n} from '@udecode/plate/react';\n\nexport type CommentsConfig = ExtendConfig<\n  BaseCommentsConfig,\n  {\n    activeId: string | null;\n    commentingBlock: Path | null;\n    hotkey: string[];\n    hoverId: string | null;\n    uniquePathMap: Map<string, Path>;\n  }\n>;\n\nexport const commentsPlugin:any = toTPlatePlugin<CommentsConfig>(\n  BaseCommentsPlugin,\n  {\n    handlers: {\n      onClick: ({ api, event, setOption, type }) => {\n        let leaf = event.target as HTMLElement;\n        let isSet = false;\n\n        const unsetActiveSuggestion = () => {\n          setOption('activeId', null);\n          isSet = true;\n        };\n\n        if (!isSlateString(leaf)) unsetActiveSuggestion();\n\n        while (leaf.parentElement) {\n          if (leaf.classList.contains(`slate-${type}`)) {\n            const commentsEntry = api.comment!.node();\n\n            if (!commentsEntry) {\n              unsetActiveSuggestion();\n\n              break;\n            }\n\n            const id = api.comment!.nodeId(commentsEntry[0]);\n\n            setOption('activeId', id ?? null);\n            isSet = true;\n\n            break;\n          }\n\n          leaf = leaf.parentElement;\n        }\n\n        if (!isSet) unsetActiveSuggestion();\n      },\n    },\n    options: {\n      activeId: null,\n      commentingBlock: null,\n      hotkey: ['meta+shift+m', 'ctrl+shift+m'],\n      hoverId: null,\n      uniquePathMap: new Map(),\n    },\n    useHooks: ({ editor, getOptions }) => {\n      const { hotkey } = getOptions();\n      useHotkeys(\n        hotkey!,\n        (e) => {\n          if (!editor.selection) return;\n\n          e.preventDefault();\n\n          if (!editor.api.isExpanded()) return;\n        },\n        {\n          enableOnContentEditable: true,\n        }\n      );\n    },\n  }\n);\n","'use client';\n\nimport { HorizontalRulePlugin } from '@udecode/plate-horizontal-rule/react';\nimport {\n  AudioPlugin,\n  FilePlugin,\n  ImagePlugin,\n  MediaEmbedPlugin,\n  VideoPlugin,\n} from '@udecode/plate-media/react';\nimport {\n  DeletePlugin,\n  SelectOnBackspacePlugin,\n} from '@udecode/plate-select';\n\nexport const deletePlugins:any = [\n  SelectOnBackspacePlugin.configure({\n    options: {\n      query: {\n        allow: [\n          ImagePlugin.key,\n          VideoPlugin.key,\n          AudioPlugin.key,\n          FilePlugin.key,\n          MediaEmbedPlugin.key,\n          HorizontalRulePlugin.key,\n        ],\n      },\n    },\n  }),\n  DeletePlugin,\n] as const;\n","'use client';\n\nimport { createPlatePlugin } from '@udecode/plate/react';\n\nimport { BlockDiscussion } from '../ui/block-discussion';\nimport type { TComment } from '../ui/comment';\n\nexport interface TDiscussion {\n  id: string;\n  comments: TComment[];\n  createdAt: Date;\n  isResolved: boolean;\n  userId: string;\n  documentContent?: string;\n}\n\nexport const discussionsData: TDiscussion[] = [\n  {\n    id: 'discussion1',\n    comments: [\n      {\n        id: 'comment1',\n        contentRich: [\n          {\n            children: [\n              {\n                text: 'This is a comment',\n              },\n            ],\n            type: 'p',\n          },\n        ],\n        createdAt: new Date(Date.now() - 900_000),\n        discussionId: 'discussion1',\n        isEdited: false,\n        userId: 'alice',\n      },\n    ],\n    createdAt: new Date(),\n    documentContent: 'comments to your content',\n    isResolved: false,\n    userId: 'alice',\n  },\n  {\n    id: 'discussion2',\n    comments: [\n      {\n        id: 'comment1',\n        contentRich: [\n          {\n            children: [\n              {\n                text: 'Hey, what do you think about this approach?',\n              },\n            ],\n            type: 'p',\n          },\n        ],\n        createdAt: new Date(Date.now() - 900_000),\n        discussionId: 'discussion1',\n        isEdited: false,\n        userId: 'alice',\n      },\n      {\n        id: 'comment2',\n        contentRich: [\n          {\n            children: [\n              {\n                text: 'Looks good!',\n              },\n            ],\n            type: 'p',\n          },\n        ],\n        createdAt: new Date(Date.now() - 800_000),\n        discussionId: 'discussion1',\n        isEdited: false,\n        userId: 'bob',\n      },\n      {\n        id: 'comment3',\n        contentRich: [\n          {\n            children: [\n              {\n                text: 'Thanks for the feedback!',\n              },\n            ],\n            type: 'p',\n          },\n        ],\n        createdAt: new Date(Date.now() - 700_000),\n        discussionId: 'discussion1',\n        isEdited: false,\n        userId: 'alice',\n      },\n    ],\n    createdAt: new Date(),\n    documentContent: 'collaborate',\n    isResolved: false,\n    userId: 'bob',\n  },\n  {\n    id: 'discussion4',\n    comments: [\n      {\n        id: 'comment1',\n        contentRich: [\n          {\n            children: [\n              {\n                text: 'Comments are a great way to provide feedback and discuss changes.',\n              },\n            ],\n            type: 'p',\n          },\n        ],\n        createdAt: new Date(Date.now() - 600_000),\n        discussionId: 'discussion4',\n        isEdited: false,\n        userId: 'charlie',\n      },\n      {\n        id: 'comment2',\n        contentRich: [\n          {\n            children: [\n              {\n                text: 'Agreed! The link to the docs makes it easy to learn more.',\n              },\n            ],\n            type: 'p',\n          },\n        ],\n        createdAt: new Date(Date.now() - 500_000),\n        discussionId: 'discussion4',\n        isEdited: false,\n        userId: 'bob',\n      },\n    ],\n    createdAt: new Date(),\n    documentContent: 'comments',\n    isResolved: false,\n    userId: 'charlie',\n  },\n  {\n    id: 'discussion5',\n    comments: [\n      {\n        id: 'comment1',\n        contentRich: [\n          {\n            children: [\n              {\n                text: 'This is a good example of how to use comments.',\n              },\n            ],\n            type: 'p',\n          },\n        ],\n        createdAt: new Date(Date.now() - 400_000),\n        discussionId: 'discussion5',\n        isEdited: false,\n        userId: 'alice',\n      },\n    ],\n    createdAt: new Date(),\n    documentContent: 'comments on many text segments',\n    isResolved: false,\n    userId: 'alice',\n  },\n  {\n    id: 'discussion6',\n    comments: [\n      {\n        id: 'comment1',\n        contentRich: [\n          {\n            children: [\n              {\n                text: 'Nice demonstration of overlapping annotations with both comments and suggestions!',\n              },\n            ],\n            type: 'p',\n          },\n        ],\n        createdAt: new Date(Date.now() - 300_000),\n        discussionId: 'discussion6',\n        isEdited: false,\n        userId: 'bob',\n      },\n      {\n        id: 'comment2',\n        contentRich: [\n          {\n            children: [\n              {\n                text: 'This helps users understand how powerful the editor can be.',\n              },\n            ],\n            type: 'p',\n          },\n        ],\n        createdAt: new Date(Date.now() - 200_000),\n        discussionId: 'discussion6',\n        isEdited: false,\n        userId: 'charlie',\n      },\n    ],\n    createdAt: new Date(),\n    documentContent: 'overlapping',\n    isResolved: false,\n    userId: 'bob',\n  },\n];\n\nexport const avatarUrl:any = (seed: string) =>\n  `https://api.dicebear.com/9.x/glass/svg?seed=${seed}`;\n\nconst usersData: Record<\n  string,\n  { id: string; avatarUrl: string; name: string; hue?: number }\n> = {\n  alice: {\n    id: 'alice',\n    avatarUrl: avatarUrl('alice6'),\n    name: 'Alice',\n  },\n  bob: {\n    id: 'bob',\n    avatarUrl: avatarUrl('bob4'),\n    name: 'Bob',\n  },\n  charlie: {\n    id: 'charlie',\n    avatarUrl: avatarUrl('charlie2'),\n    name: 'Charlie',\n  },\n};\n\n// This plugin is purely UI. It's only used to store the discussions and users data\nexport const discussionPlugin:any = createPlatePlugin({\n  key: 'discussion',\n  options: {\n    currentUserId: 'alice',\n    discussions: discussionsData,\n    users: usersData,\n  },\n})\n  .configure({\n    render: { aboveNodes: BlockDiscussion },\n  })\n  .extendSelectors(({ getOption }) => ({\n    currentUser: () => getOption('users')[getOption('currentUserId')],\n    user: (id: string) => getOption('users')[id],\n  }));\n","'use client';\n\nimport * as React from 'react';\n\nimport {\n  MessageSquareTextIcon,\n  MessagesSquareIcon,\n  PencilLineIcon,\n} from 'lucide-react';\n\nimport {\n  type AnyPluginConfig,\n  type NodeEntry,\n  type Path,\n  PathApi,\n  type TElement,\n  TextApi,\n} from '@udecode/plate';\nimport {\n  getDraftCommentKey,\n  type TCommentText,\n} from '@udecode/plate-comments';\nimport { CommentsPlugin } from '@udecode/plate-comments/react';\nimport type { TSuggestionText } from '@udecode/plate-suggestion';\nimport { SuggestionPlugin } from '@udecode/plate-suggestion/react';\nimport type {\n  PlateElementProps,\n  RenderNodeWrapper,\n} from '@udecode/plate/react';\nimport {\n  useEditorPlugin,\n  useEditorRef,\n  usePluginOption,\n} from '@udecode/plate/react';\n\nimport { commentsPlugin } from '../plugins/comments-plugin';\nimport {\n  discussionPlugin,\n  type TDiscussion,\n} from '../plugins/discussion-plugin';\nimport { suggestionPlugin } from '../plugins/suggestion-plugin';\nimport {\n  BlockSuggestionCard,\n  isResolvedSuggestion,\n  useResolveSuggestion,\n} from './block-suggestion';\nimport { Button } from './button';\nimport { Comment } from './comment';\nimport { CommentCreateForm } from './comment-create-form';\nimport {\n  Popover,\n  PopoverAnchor,\n  PopoverContent,\n  PopoverTrigger,\n} from './popover';\n\nexport const BlockDiscussion: RenderNodeWrapper<AnyPluginConfig> = (props) => {\n  const { editor, element } = props;\n\n  const commentsApi = editor.getApi(CommentsPlugin).comment;\n  const blockPath = editor.api.findPath(element);\n\n  // avoid duplicate in table or column\n  if (!blockPath || blockPath.length > 1) return;\n\n  const draftCommentNode = commentsApi.node({ at: blockPath, isDraft: true });\n\n  const commentNodes = [...commentsApi.nodes({ at: blockPath })];\n\n  const suggestionNodes = [\n    ...editor.getApi(SuggestionPlugin).suggestion.nodes({ at: blockPath }),\n  ];\n\n  if (\n    commentNodes.length === 0 &&\n    suggestionNodes.length === 0 &&\n    !draftCommentNode\n  ) {\n    return;\n  }\n\n  return (props) => (\n    <BlockCommentsContent\n      blockPath={blockPath}\n      commentNodes={commentNodes}\n      draftCommentNode={draftCommentNode}\n      suggestionNodes={suggestionNodes}\n      {...props}\n    />\n  );\n};\n\nconst BlockCommentsContent:any = ({\n  blockPath,\n  children,\n  commentNodes,\n  draftCommentNode,\n  suggestionNodes,\n}: PlateElementProps & {\n  blockPath: Path;\n  commentNodes: NodeEntry<TCommentText>[];\n  draftCommentNode: NodeEntry<TCommentText> | undefined;\n  suggestionNodes: NodeEntry<TElement | TSuggestionText>[];\n}) => {\n  const editor = useEditorRef();\n\n  const resolvedSuggestions = useResolveSuggestion(suggestionNodes, blockPath);\n  const resolvedDiscussions = useResolvedDiscussion(commentNodes, blockPath);\n\n  const suggestionsCount = resolvedSuggestions.length;\n  const discussionsCount = resolvedDiscussions.length;\n  const totalCount = suggestionsCount + discussionsCount;\n\n  const activeSuggestionId = usePluginOption(suggestionPlugin, 'activeId');\n  const activeSuggestion =\n    activeSuggestionId &&\n    resolvedSuggestions.find((s:any) => s.suggestionId === activeSuggestionId);\n\n  const commentingBlock = usePluginOption(commentsPlugin, 'commentingBlock');\n  const activeCommentId = usePluginOption(commentsPlugin, 'activeId');\n  const isCommenting = activeCommentId === getDraftCommentKey();\n  const activeDiscussion =\n    activeCommentId &&\n    resolvedDiscussions.find((d:any) => d.id === activeCommentId);\n\n  const noneActive = !activeSuggestion && !activeDiscussion;\n\n  const sortedMergedData = [\n    ...resolvedDiscussions,\n    ...resolvedSuggestions,\n  ].sort((a, b) => a.createdAt.getTime() - b.createdAt.getTime());\n\n  const selected =\n    resolvedDiscussions.some((d:any) => d.id === activeCommentId) ||\n    resolvedSuggestions.some((s:any) => s.suggestionId === activeSuggestionId);\n\n  const [_open, setOpen] = React.useState(selected);\n\n  // in some cases, we may comment the multiple blocks\n  const commentingCurrent =\n    !!commentingBlock && PathApi.equals(blockPath, commentingBlock);\n\n  const open =\n    _open ||\n    selected ||\n    (isCommenting && !!draftCommentNode && commentingCurrent);\n\n  const anchorElement = React.useMemo(() => {\n    let activeNode: NodeEntry | undefined;\n\n    if (activeSuggestion) {\n      activeNode = suggestionNodes.find(\n        ([node]) =>\n          TextApi.isText(node) &&\n          editor.getApi(SuggestionPlugin).suggestion.nodeId(node) ===\n            activeSuggestion.suggestionId\n      );\n    }\n\n    if (activeCommentId) {\n      if (activeCommentId === getDraftCommentKey()) {\n        activeNode = draftCommentNode;\n      } else {\n        activeNode = commentNodes.find(\n          ([node]) =>\n            editor.getApi(CommentsPlugin).comment.nodeId(node) ===\n            activeCommentId\n        );\n      }\n    }\n\n    if (!activeNode) return null;\n\n    return editor.api.toDOMNode(activeNode[0])!;\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [\n    open,\n    activeSuggestion,\n    activeCommentId,\n    editor.api,\n    suggestionNodes,\n    draftCommentNode,\n    commentNodes,\n  ]);\n\n  if (suggestionsCount + resolvedDiscussions.length === 0 && !draftCommentNode)\n    return <div className=\"w-full\">{children}</div>;\n\n  return (\n    <div className=\"flex w-full justify-between\">\n      <Popover\n        open={open}\n        onOpenChange={(_open_) => {\n          if (!_open_ && isCommenting && draftCommentNode) {\n            editor.tf.unsetNodes(getDraftCommentKey(), {\n              at: [],\n              mode: 'lowest',\n              match: (n) => n[getDraftCommentKey()],\n            });\n          }\n          setOpen(_open_);\n        }}\n      >\n        <div className=\"w-full\">{children}</div>\n        {anchorElement && (\n          <PopoverAnchor\n            asChild\n            className=\"w-full\"\n            virtualRef={{ current: anchorElement }}\n          />\n        )}\n\n        <PopoverContent\n          className=\"max-h-[min(50dvh,calc(-24px+var(--radix-popper-available-height)))] w-[380px] max-w-[calc(100vw-24px)] min-w-[130px] overflow-y-auto p-0 data-[state=closed]:opacity-0\"\n          onCloseAutoFocus={(e) => e.preventDefault()}\n          onOpenAutoFocus={(e) => e.preventDefault()}\n          align=\"center\"\n          side=\"bottom\"\n        >\n          {isCommenting ? (\n            <CommentCreateForm className=\"p-4\" focusOnMount />\n          ) : (\n            <React.Fragment>\n              {noneActive ? (\n                sortedMergedData.map((item, index) =>\n                  isResolvedSuggestion(item) ? (\n                    <BlockSuggestionCard\n                      key={item.suggestionId}\n                      idx={index}\n                      isLast={index === sortedMergedData.length - 1}\n                      suggestion={item}\n                    />\n                  ) : (\n                    <BlockComment\n                      key={item.id}\n                      discussion={item}\n                      isLast={index === sortedMergedData.length - 1}\n                    />\n                  )\n                )\n              ) : (\n                <React.Fragment>\n                  {activeSuggestion && (\n                    <BlockSuggestionCard\n                      key={activeSuggestion.suggestionId}\n                      idx={0}\n                      isLast={true}\n                      suggestion={activeSuggestion}\n                    />\n                  )}\n\n                  {activeDiscussion && (\n                    <BlockComment discussion={activeDiscussion} isLast={true} />\n                  )}\n                </React.Fragment>\n              )}\n            </React.Fragment>\n          )}\n        </PopoverContent>\n\n        {totalCount > 0 && (\n          <div className=\"relative left-0 size-0 select-none\">\n            <PopoverTrigger asChild>\n              <Button\n                variant=\"ghost\"\n                className=\"mt-1 ml-1 flex h-6 gap-1 px-1.5 py-0 text-muted-foreground/80 hover:text-muted-foreground/80 data-[active=true]:bg-muted\"\n                data-active={open}\n                contentEditable={false}\n              >\n                {suggestionsCount > 0 && discussionsCount === 0 && (\n                  <PencilLineIcon className=\"size-4 shrink-0\" />\n                )}\n\n                {suggestionsCount === 0 && discussionsCount > 0 && (\n                  <MessageSquareTextIcon className=\"size-4 shrink-0\" />\n                )}\n\n                {suggestionsCount > 0 && discussionsCount > 0 && (\n                  <MessagesSquareIcon className=\"size-4 shrink-0\" />\n                )}\n\n                <span className=\"text-xs font-semibold\">{totalCount}</span>\n              </Button>\n            </PopoverTrigger>\n          </div>\n        )}\n      </Popover>\n    </div>\n  );\n};\n\nexport const BlockComment:any = ({\n  discussion,\n  isLast,\n}: {\n  discussion: TDiscussion;\n  isLast: boolean;\n}) => {\n  const [editingId, setEditingId] = React.useState<string | null>(null);\n\n  return (\n    <React.Fragment key={discussion.id}>\n      <div className=\"p-4\">\n        {discussion.comments.map((comment, index) => (\n          <Comment\n            key={comment.id ?? index}\n            comment={comment}\n            discussionLength={discussion.comments.length}\n            documentContent={discussion?.documentContent}\n            editingId={editingId}\n            index={index}\n            setEditingId={setEditingId}\n            showDocumentContent\n          />\n        ))}\n        <CommentCreateForm discussionId={discussion.id} />\n      </div>\n\n      {!isLast && <div className=\"h-px w-full bg-muted\" />}\n    </React.Fragment>\n  );\n};\n\nexport const useResolvedDiscussion = (\n  commentNodes: NodeEntry<TCommentText>[],\n  blockPath: Path\n) => {\n  const { api, getOption, setOption } = useEditorPlugin(commentsPlugin);\n\n  const discussions = usePluginOption(discussionPlugin, 'discussions');\n\n  commentNodes.forEach(([node]) => {\n    const id = api.comment.nodeId(node);\n    const map = getOption('uniquePathMap');\n\n    if (!id) return;\n\n    const previousPath = map.get(id);\n\n    // If there are no comment nodes in the corresponding path in the map, then update it.\n    if (PathApi.isPath(previousPath)) {\n      const nodes = api.comment.node({ id, at: previousPath });\n\n      if (!nodes) {\n        setOption('uniquePathMap', new Map(map).set(id, blockPath));\n        return;\n      }\n\n      return;\n    }\n    // TODO: fix throw error\n    setOption('uniquePathMap', new Map(map).set(id, blockPath));\n  });\n\n  const commentsIds = new Set(\n    commentNodes.map(([node]) => api.comment.nodeId(node)).filter(Boolean)\n  );\n\n  const resolvedDiscussions = discussions\n    .map((d: TDiscussion) => ({\n      ...d,\n      createdAt: new Date(d.createdAt),\n    }))\n    .filter((item: TDiscussion) => {\n      /** If comment cross blocks just show it in the first block */\n      const commentsPathMap = getOption('uniquePathMap');\n      const firstBlockPath = commentsPathMap.get(item.id);\n\n      if (!firstBlockPath) return false;\n      if (!PathApi.equals(firstBlockPath, blockPath)) return false;\n\n      return (\n        api.comment.has({ id: item.id }) &&\n        commentsIds.has(item.id) &&\n        !item.isResolved\n      );\n    });\n\n  return resolvedDiscussions;\n};\n","'use client';\n\nimport {\n  type ExtendConfig,\n  isSlateEditor,\n  isSlateElement,\n  isSlateString,\n  type Path,\n} from '@udecode/plate';\nimport {\n  type BaseSuggestionConfig,\n  BaseSuggestionPlugin,\n} from '@udecode/plate-suggestion';\nimport { toTPlatePlugin } from '@udecode/plate/react';\n\nimport { discussionPlugin } from '../plugins/discussion-plugin';\nimport { BlockSuggestion } from '../ui/block-suggestion';\n\nexport type SuggestionConfig = ExtendConfig<\n  BaseSuggestionConfig,\n  {\n    activeId: string | null;\n    hoverId: string | null;\n    uniquePathMap: Map<string, Path>;\n  }\n>;\n\nexport const suggestionPlugin:any = toTPlatePlugin<SuggestionConfig>(\n  BaseSuggestionPlugin,\n  ({ editor }) => ({\n    handlers: {\n      // unset active suggestion when clicking outside of suggestion\n      onClick: ({ api, event, setOption, type }) => {\n        let leaf = event.target as HTMLElement;\n        let isSet = false;\n\n        const unsetActiveSuggestion = () => {\n          setOption('activeId', null);\n          isSet = true;\n        };\n\n        if (!isSlateString(leaf)) unsetActiveSuggestion();\n\n        while (\n          leaf.parentElement &&\n          !isSlateElement(leaf.parentElement) &&\n          !isSlateEditor(leaf.parentElement)\n        ) {\n          if (leaf.classList.contains(`slate-${type}`)) {\n            const suggestionEntry = api.suggestion!.node({ isText: true });\n\n            if (!suggestionEntry) {\n              unsetActiveSuggestion();\n\n              break;\n            }\n\n            const id = api.suggestion!.nodeId(suggestionEntry[0]);\n\n            setOption('activeId', id ?? null);\n            isSet = true;\n\n            break;\n          }\n\n          leaf = leaf.parentElement;\n        }\n\n        if (!isSet) unsetActiveSuggestion();\n      },\n    },\n    options: {\n      activeId: null,\n      currentUserId: editor.getOption(discussionPlugin, 'currentUserId'),\n      hoverId: null,\n      uniquePathMap: new Map(),\n    },\n    render: {\n      belowRootNodes: ({ api, element }) => {\n        if (!api.suggestion!.isBlockSuggestion(element)) {\n          return null;\n        }\n\n        return <BlockSuggestion element={element} />;\n      },\n    },\n  })\n);\n","'use client';\n\nimport * as React from 'react';\n\nimport {\n  CheckIcon,\n  XIcon,\n} from 'lucide-react';\n\nimport {\n  ElementApi,\n  type NodeEntry,\n  type Path,\n  PathApi,\n  type TElement,\n  TextApi,\n} from '@udecode/plate';\nimport { BlockquotePlugin } from '@udecode/plate-block-quote/react';\nimport { CalloutPlugin } from '@udecode/plate-callout/react';\nimport { CodeBlockPlugin } from '@udecode/plate-code-block/react';\nimport { HEADING_KEYS } from '@udecode/plate-heading';\nimport { TocPlugin } from '@udecode/plate-heading/react';\nimport { HorizontalRulePlugin } from '@udecode/plate-horizontal-rule/react';\nimport {\n  INDENT_LIST_KEYS,\n  ListStyleType,\n} from '@udecode/plate-indent-list';\nimport { IndentListPlugin } from '@udecode/plate-indent-list/react';\nimport { ColumnPlugin } from '@udecode/plate-layout/react';\nimport { EquationPlugin } from '@udecode/plate-math/react';\nimport {\n  AudioPlugin,\n  FilePlugin,\n  ImagePlugin,\n  MediaEmbedPlugin,\n  VideoPlugin,\n} from '@udecode/plate-media/react';\nimport type {\n  TResolvedSuggestion,\n  TSuggestionElement,\n  TSuggestionText,\n} from '@udecode/plate-suggestion';\nimport {\n  acceptSuggestion,\n  getSuggestionKey,\n  keyId2SuggestionId,\n  rejectSuggestion,\n} from '@udecode/plate-suggestion';\nimport { SuggestionPlugin } from '@udecode/plate-suggestion/react';\nimport { TablePlugin } from '@udecode/plate-table/react';\nimport { TogglePlugin } from '@udecode/plate-toggle/react';\nimport {\n  ParagraphPlugin,\n  useEditorPlugin,\n  usePluginOption,\n} from '@udecode/plate/react';\n\nimport { cn } from '../../../libs/utils';\nimport {\n  discussionPlugin,\n  type TDiscussion,\n} from '../plugins/discussion-plugin';\nimport { suggestionPlugin } from '../plugins/suggestion-plugin';\nimport {\n  Avatar,\n  AvatarFallback,\n  AvatarImage,\n} from './avatar';\nimport { Button } from './button';\nimport {\n  Comment,\n  formatCommentDate,\n  type TComment,\n} from './comment';\nimport { CommentCreateForm } from './comment-create-form';\n\nexport interface ResolvedSuggestion extends TResolvedSuggestion {\n  comments: TComment[];\n}\n\nexport const BLOCK_SUGGESTION:any = '__block__';\n\nexport const TYPE_TEXT_MAP: Record<string, (node?: TElement) => string> = {\n  [AudioPlugin.key]: () => 'Audio',\n  [BlockquotePlugin.key]: () => 'Blockquote',\n  [CalloutPlugin.key]: () => 'Callout',\n  [CodeBlockPlugin.key]: () => 'Code Block',\n  [ColumnPlugin.key]: () => 'Column',\n  [EquationPlugin.key]: () => 'Equation',\n  [FilePlugin.key]: () => 'File',\n  [HEADING_KEYS.h1]: () => `Heading 1`,\n  [HEADING_KEYS.h2]: () => `Heading 2`,\n  [HEADING_KEYS.h3]: () => `Heading 3`,\n  [HEADING_KEYS.h4]: () => `Heading 4`,\n  [HEADING_KEYS.h5]: () => `Heading 5`,\n  [HEADING_KEYS.h6]: () => `Heading 6`,\n  [HorizontalRulePlugin.key]: () => 'Horizontal Rule',\n  [ImagePlugin.key]: () => 'Image',\n  [MediaEmbedPlugin.key]: () => 'Media',\n  [ParagraphPlugin.key]: (node) => {\n    if (node?.[IndentListPlugin.key] === INDENT_LIST_KEYS.todo)\n      return 'Todo List';\n    if (node?.[IndentListPlugin.key] === ListStyleType.Decimal)\n      return 'Ordered List';\n    if (node?.[IndentListPlugin.key] === ListStyleType.Disc) return 'List';\n\n    return 'Paragraph';\n  },\n  [TablePlugin.key]: () => 'Table',\n  [TocPlugin.key]: () => 'Table of Contents',\n  [TogglePlugin.key]: () => 'Toggle',\n  [VideoPlugin.key]: () => 'Video',\n};\n\nexport const BlockSuggestionCard:any = ({\n  idx,\n  isLast,\n  suggestion,\n}: {\n  idx: number;\n  isLast: boolean;\n  suggestion: ResolvedSuggestion;\n}) => {\n  const { api, editor } = useEditorPlugin(SuggestionPlugin);\n\n  const userInfo = usePluginOption(discussionPlugin, 'user', suggestion.userId);\n\n  const accept = (suggestion: ResolvedSuggestion) => {\n    api.suggestion.withoutSuggestions(() => {\n      acceptSuggestion(editor, suggestion);\n    });\n  };\n\n  const reject = (suggestion: ResolvedSuggestion) => {\n    api.suggestion.withoutSuggestions(() => {\n      rejectSuggestion(editor, suggestion);\n    });\n  };\n\n  const [hovering, setHovering] = React.useState(false);\n\n  const suggestionText2Array = (text: string) => {\n    if (text === BLOCK_SUGGESTION) return ['line breaks'];\n\n    return text.split(BLOCK_SUGGESTION).filter(Boolean);\n  };\n\n  const [editingId, setEditingId] = React.useState<string | null>(null);\n\n  return (\n    <div\n      key={`${suggestion.suggestionId}-${idx}`}\n      className=\"relative\"\n      onMouseEnter={() => setHovering(true)}\n      onMouseLeave={() => setHovering(false)}\n    >\n      <div className=\"flex flex-col p-4\">\n        <div className=\"relative flex items-center\">\n          {/* Replace to your own backend or refer to potion */}\n          <Avatar className=\"size-5\">\n            <AvatarImage alt={userInfo?.name} src={userInfo?.avatarUrl} />\n            <AvatarFallback>{userInfo?.name?.[0]}</AvatarFallback>\n          </Avatar>\n          <h4 className=\"mx-2 text-sm leading-none font-semibold\">\n            {userInfo?.name}\n          </h4>\n          <div className=\"text-xs leading-none text-muted-foreground/80\">\n            <span className=\"mr-1\">\n              {formatCommentDate(new Date(suggestion.createdAt))}\n            </span>\n          </div>\n        </div>\n\n        <div className=\"relative mt-1 mb-4 pl-[32px]\">\n          <div className=\"flex flex-col gap-2\">\n            {suggestion.type === 'remove' && (\n              <React.Fragment>\n                {suggestionText2Array(suggestion.text!).map((text, index) => (\n                  <div key={index} className=\"flex items-center gap-2\">\n                    <span className=\"text-sm text-muted-foreground\">\n                      Delete:\n                    </span>\n\n                    <span key={index} className=\"text-sm\">\n                      {text}\n                    </span>\n                  </div>\n                ))}\n              </React.Fragment>\n            )}\n\n            {suggestion.type === 'insert' && (\n              <React.Fragment>\n                {suggestionText2Array(suggestion.newText!).map(\n                  (text, index) => (\n                    <div key={index} className=\"flex items-center gap-2\">\n                      <span className=\"text-sm text-muted-foreground\">\n                        Add:\n                      </span>\n\n                      <span key={index} className=\"text-sm\">\n                        {text || 'line breaks'}\n                      </span>\n                    </div>\n                  )\n                )}\n              </React.Fragment>\n            )}\n\n            {suggestion.type === 'replace' && (\n              <div className=\"flex flex-col gap-2\">\n                {suggestionText2Array(suggestion.newText!).map(\n                  (text, index) => (\n                    <React.Fragment key={index}>\n                      <div\n                        key={index}\n                        className=\"flex items-start gap-2 text-brand/80\"\n                      >\n                        <span className=\"text-sm\">with:</span>\n                        <span className=\"text-sm\">{text || 'line breaks'}</span>\n                      </div>\n                    </React.Fragment>\n                  )\n                )}\n\n                {suggestionText2Array(suggestion.text!).map((text, index) => (\n                  <React.Fragment key={index}>\n                    <div key={index} className=\"flex items-start gap-2\">\n                      <span className=\"text-sm text-muted-foreground\">\n                        {index === 0 ? 'Replace:' : 'Delete:'}\n                      </span>\n                      <span className=\"text-sm\">{text || 'line breaks'}</span>\n                    </div>\n                  </React.Fragment>\n                ))}\n              </div>\n            )}\n\n            {suggestion.type === 'update' && (\n              <div className=\"flex items-center gap-2\">\n                <span className=\"text-sm text-muted-foreground\">\n                  {Object.keys(suggestion.properties).map((key) => (\n                    <span key={key}>Un{key}</span>\n                  ))}\n\n                  {Object.keys(suggestion.newProperties).map((key) => (\n                    <span key={key}>\n                      {key.charAt(0).toUpperCase() + key.slice(1)}\n                    </span>\n                  ))}\n                </span>\n                <span className=\"text-sm\">{suggestion.newText}</span>\n              </div>\n            )}\n          </div>\n        </div>\n\n        {suggestion.comments.map((comment, index) => (\n          <Comment\n            key={comment.id ?? index}\n            comment={comment}\n            discussionLength={suggestion.comments.length}\n            documentContent=\"__suggestion__\"\n            editingId={editingId}\n            index={index}\n            setEditingId={setEditingId}\n          />\n        ))}\n\n        {hovering && (\n          <div className=\"absolute top-4 right-4 flex gap-2\">\n            <Button\n              variant=\"ghost\"\n              className=\"h-6 p-1 text-muted-foreground\"\n              onClick={() => accept(suggestion)}\n            >\n              <CheckIcon className=\"size-4\" />\n            </Button>\n\n            <Button\n              variant=\"ghost\"\n              className=\"h-6 p-1 text-muted-foreground\"\n              onClick={() => reject(suggestion)}\n            >\n              <XIcon className=\"size-4\" />\n            </Button>\n          </div>\n        )}\n\n        <CommentCreateForm discussionId={suggestion.suggestionId} />\n      </div>\n\n      {!isLast && <div className=\"h-px w-full bg-muted\" />}\n    </div>\n  );\n};\n\nexport const useResolveSuggestion:any = (\n  suggestionNodes: NodeEntry<TElement | TSuggestionText>[],\n  blockPath: Path\n) => {\n  const discussions = usePluginOption(discussionPlugin, 'discussions');\n\n  const { api, editor, getOption, setOption } =\n    useEditorPlugin(suggestionPlugin);\n\n  suggestionNodes.forEach(([node]) => {\n    const id = api.suggestion.nodeId(node);\n    const map = getOption('uniquePathMap');\n\n    if (!id) return;\n\n    const previousPath = map.get(id);\n\n    // If there are no suggestion nodes in the corresponding path in the map, then update it.\n    if (PathApi.isPath(previousPath)) {\n      const nodes = api.suggestion.node({ id, at: previousPath, isText: true });\n      const parentNode = api.node(previousPath);\n      let lineBreakId: string | null = null;\n\n      if (parentNode && ElementApi.isElement(parentNode[0])) {\n        lineBreakId = api.suggestion.nodeId(parentNode[0]) ?? null;\n      }\n\n      if (!nodes && lineBreakId !== id) {\n        return setOption('uniquePathMap', new Map(map).set(id, blockPath));\n      }\n\n      return;\n    }\n    setOption('uniquePathMap', new Map(map).set(id, blockPath));\n  });\n\n  const resolvedSuggestion: ResolvedSuggestion[] = React.useMemo(() => {\n    const map = getOption('uniquePathMap');\n\n    if (suggestionNodes.length === 0) return [];\n\n    const suggestionIds = new Set(\n      suggestionNodes\n        .flatMap(([node]) => {\n          if (TextApi.isText(node)) {\n            const dataList = api.suggestion.dataList(node);\n            const includeUpdate = dataList.some(\n              (data:any) => data.type === 'update'\n            );\n\n            if (!includeUpdate) return api.suggestion.nodeId(node);\n\n            return dataList\n              .filter((data:any) => data.type === 'update')\n              .map((d:any) => d.id);\n          }\n          if (ElementApi.isElement(node)) {\n            return api.suggestion.nodeId(node);\n          }\n        })\n        .filter(Boolean)\n    );\n\n    const res: ResolvedSuggestion[] = [];\n\n    suggestionIds.forEach((id) => {\n      if (!id) return;\n\n      const path = map.get(id);\n\n      if (!path || !PathApi.isPath(path)) return;\n      if (!PathApi.equals(path, blockPath)) return;\n\n      const entries = [\n        ...editor.api.nodes<TElement | TSuggestionText>({\n          at: [],\n          mode: 'all',\n          match: (n) =>\n            (n[SuggestionPlugin.key] && n[getSuggestionKey(id)]) ||\n            api.suggestion.nodeId(n as TElement) === id,\n        }),\n      ];\n\n      // move line break to the end\n      entries.sort(([, path1], [, path2]) => {\n        return PathApi.isChild(path1, path2) ? -1 : 1;\n      });\n\n      let newText = '';\n      let text = '';\n      let properties: any = {};\n      let newProperties: any = {};\n\n      // overlapping suggestion\n      entries.forEach(([node]) => {\n        if (TextApi.isText(node)) {\n          const dataList = api.suggestion.dataList(node);\n\n          dataList.forEach((data:any) => {\n            if (data.id !== id) return;\n\n            switch (data.type) {\n              case 'insert': {\n                newText += node.text;\n\n                break;\n              }\n              case 'remove': {\n                text += node.text;\n\n                break;\n              }\n              case 'update': {\n                properties = {\n                  ...properties,\n                  ...data.properties,\n                };\n\n                newProperties = {\n                  ...newProperties,\n                  ...data.newProperties,\n                };\n\n                newText += node.text;\n\n                break;\n              }\n              // No default\n            }\n          });\n        } else {\n          const lineBreakData:any = api.suggestion.isBlockSuggestion(node)\n            ? node.suggestion\n            : undefined;\n\n          if (lineBreakData?.id !== keyId2SuggestionId(id)) return;\n          if (lineBreakData.type === 'insert') {\n            newText += lineBreakData.isLineBreak\n              ? BLOCK_SUGGESTION\n              : BLOCK_SUGGESTION + TYPE_TEXT_MAP[node.type](node);\n          } else if (lineBreakData.type === 'remove') {\n            text += lineBreakData.isLineBreak\n              ? BLOCK_SUGGESTION\n              : BLOCK_SUGGESTION + TYPE_TEXT_MAP[node.type](node);\n          }\n        }\n      });\n\n      if (entries.length === 0) return;\n\n      const nodeData = api.suggestion.suggestionData(entries[0][0]);\n\n      if (!nodeData) return;\n\n      // const comments = data?.discussions.find((d) => d.id === id)?.comments;\n      const comments =\n        discussions.find((s: TDiscussion) => s.id === id)?.comments || [];\n      const createdAt = new Date(nodeData.createdAt);\n\n      const keyId = getSuggestionKey(id);\n\n      if (nodeData.type === 'update') {\n        return res.push({\n          comments,\n          createdAt,\n          keyId,\n          newProperties,\n          newText,\n          properties,\n          suggestionId: keyId2SuggestionId(id),\n          type: 'update',\n          userId: nodeData.userId,\n        });\n      }\n      if (newText.length > 0 && text.length > 0) {\n        return res.push({\n          comments,\n          createdAt,\n          keyId,\n          newText,\n          suggestionId: keyId2SuggestionId(id),\n          text,\n          type: 'replace',\n          userId: nodeData.userId,\n        });\n      }\n      if (newText.length > 0) {\n        return res.push({\n          comments,\n          createdAt,\n          keyId,\n          newText,\n          suggestionId: keyId2SuggestionId(id),\n          type: 'insert',\n          userId: nodeData.userId,\n        });\n      }\n      if (text.length > 0) {\n        return res.push({\n          comments,\n          createdAt,\n          keyId,\n          suggestionId: keyId2SuggestionId(id),\n          text,\n          type: 'remove',\n          userId: nodeData.userId,\n        });\n      }\n    });\n\n    return res;\n  }, [\n    api.suggestion,\n    blockPath,\n    discussions,\n    editor.api,\n    getOption,\n    suggestionNodes,\n  ]);\n\n  return resolvedSuggestion;\n};\n\nexport const isResolvedSuggestion:any = (\n  suggestion: ResolvedSuggestion | TDiscussion\n): suggestion is ResolvedSuggestion => {\n  return 'suggestionId' in suggestion;\n};\n\nexport function BlockSuggestion({ element }: { element: TSuggestionElement }) {\n  const suggestionData = element.suggestion;\n\n  if (suggestionData?.isLineBreak) return null;\n\n  const isRemove = suggestionData?.type === 'remove';\n\n  return (\n    <div\n      className={cn(\n        'pointer-events-none absolute inset-0 z-1 border-2 border-brand/[0.8] transition-opacity',\n        isRemove && 'border-gray-300'\n      )}\n      contentEditable={false}\n    />\n  );\n}\n","import * as React from 'react';\n\nimport * as AvatarPrimitive from '@radix-ui/react-avatar';\n\nimport { cn } from '../../../libs/utils';\n\nfunction Avatar({\n  className,\n  ...props\n}: React.ComponentProps<typeof AvatarPrimitive.Root>) {\n  return (\n    <AvatarPrimitive.Root\n      data-slot=\"avatar\"\n      className={cn(\n        \"relative flex size-8 shrink-0 overflow-hidden rounded-full\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction AvatarImage({\n  className,\n  ...props\n}: React.ComponentProps<typeof AvatarPrimitive.Image>) {\n  return (\n    <AvatarPrimitive.Image\n      data-slot=\"avatar-image\"\n      className={cn(\"aspect-square size-full\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction AvatarFallback({\n  className,\n  ...props\n}: React.ComponentProps<typeof AvatarPrimitive.Fallback>) {\n  return (\n    <AvatarPrimitive.Fallback\n      data-slot=\"avatar-fallback\"\n      className={cn(\n        \"bg-muted flex size-full items-center justify-center rounded-full\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Avatar, AvatarFallback, AvatarImage };\n","'use client';\n\nimport * as React from 'react';\n\nimport {\n  differenceInDays,\n  differenceInHours,\n  differenceInMinutes,\n  format,\n} from 'date-fns';\nimport {\n  CheckIcon,\n  MoreHorizontalIcon,\n  PencilIcon,\n  TrashIcon,\n  XIcon,\n} from 'lucide-react';\n\nimport type { Value } from '@udecode/plate';\nimport { CommentsPlugin } from '@udecode/plate-comments/react';\nimport {\n  Plate,\n  useEditorPlugin,\n  useEditorRef,\n  usePluginOption,\n} from '@udecode/plate/react';\n\nimport { cn } from '../../../libs/utils';\nimport { discussionPlugin } from '../plugins/discussion-plugin';\nimport {\n  Avatar,\n  AvatarFallback,\n  AvatarImage,\n} from './avatar';\nimport { Button } from './button';\nimport { useCommentEditor } from './comment-create-form';\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuGroup,\n  DropdownMenuItem,\n  DropdownMenuTrigger,\n} from './dropdown-menu';\nimport {\n  Editor,\n  EditorContainer,\n} from './editor';\n\nexport const formatCommentDate:any = (date: Date) => {\n  const now = new Date();\n  const diffMinutes = differenceInMinutes(now, date);\n  const diffHours = differenceInHours(now, date);\n  const diffDays = differenceInDays(now, date);\n\n  if (diffMinutes < 60) {\n    return `${diffMinutes}m`;\n  }\n  if (diffHours < 24) {\n    return `${diffHours}h`;\n  }\n  if (diffDays < 2) {\n    return `${diffDays}d`;\n  }\n\n  return format(date, 'MM/dd/yyyy');\n};\n\nexport interface TComment {\n  id: string;\n  contentRich: Value;\n  createdAt: Date;\n  discussionId: string;\n  isEdited: boolean;\n  userId: string;\n}\n\nexport function Comment(props: {\n  comment: TComment;\n  discussionLength: number;\n  editingId: string | null;\n  index: number;\n  setEditingId: React.Dispatch<React.SetStateAction<string | null>>;\n  documentContent?: string;\n  showDocumentContent?: boolean;\n  onEditorClick?: () => void;\n}) {\n  const {\n    comment,\n    discussionLength,\n    documentContent,\n    editingId,\n    index,\n    setEditingId,\n    showDocumentContent = false,\n    onEditorClick,\n  } = props;\n\n  const editor = useEditorRef();\n  const userInfo = usePluginOption(discussionPlugin, 'user', comment.userId);\n  const currentUserId = usePluginOption(discussionPlugin, 'currentUserId');\n\n  const resolveDiscussion = async (id: string) => {\n    const updatedDiscussions = editor\n      .getOption(discussionPlugin, 'discussions')\n      .map((discussion:any) => {\n        if (discussion.id === id) {\n          return { ...discussion, isResolved: true };\n        }\n        return discussion;\n      });\n    editor.setOption(discussionPlugin, 'discussions', updatedDiscussions);\n  };\n\n  const removeDiscussion = async (id: string) => {\n    const updatedDiscussions = editor\n      .getOption(discussionPlugin, 'discussions')\n      .filter((discussion:any) => discussion.id !== id);\n    editor.setOption(discussionPlugin, 'discussions', updatedDiscussions);\n  };\n\n  const updateComment = async (input: {\n    id: string;\n    contentRich: Value;\n    discussionId: string;\n    isEdited: boolean;\n  }) => {\n    const updatedDiscussions = editor\n      .getOption(discussionPlugin, 'discussions')\n      .map((discussion:any) => {\n        if (discussion.id === input.discussionId) {\n          const updatedComments = discussion.comments.map((comment:any) => {\n            if (comment.id === input.id) {\n              return {\n                ...comment,\n                contentRich: input.contentRich,\n                isEdited: true,\n                updatedAt: new Date(),\n              };\n            }\n            return comment;\n          });\n          return { ...discussion, comments: updatedComments };\n        }\n        return discussion;\n      });\n    editor.setOption(discussionPlugin, 'discussions', updatedDiscussions);\n  };\n\n  const { tf } = useEditorPlugin(CommentsPlugin);\n\n  // Replace to your own backend or refer to potion\n  const isMyComment = currentUserId === comment.userId;\n\n  const initialValue = comment.contentRich;\n\n  const commentEditor = useCommentEditor(\n    {\n      id: comment.id,\n      value: initialValue,\n    },\n    [initialValue]\n  );\n\n  const onCancel = () => {\n    setEditingId(null);\n    commentEditor.tf.replaceNodes(initialValue, {\n      at: [],\n      children: true,\n    });\n  };\n\n  const onSave = () => {\n    void updateComment({\n      id: comment.id,\n      contentRich: commentEditor.children,\n      discussionId: comment.discussionId,\n      isEdited: true,\n    });\n    setEditingId(null);\n  };\n\n  const onResolveComment = () => {\n    void resolveDiscussion(comment.discussionId);\n    tf.comment.unsetMark({ id: comment.discussionId });\n  };\n\n  const isFirst = index === 0;\n  const isLast = index === discussionLength - 1;\n  const isEditing = editingId && editingId === comment.id;\n\n  const [hovering, setHovering] = React.useState(false);\n  const [dropdownOpen, setDropdownOpen] = React.useState(false);\n\n  return (\n    <div\n      onMouseEnter={() => setHovering(true)}\n      onMouseLeave={() => setHovering(false)}\n    >\n      <div className=\"relative flex items-center\">\n        <Avatar className=\"size-5\">\n          <AvatarImage alt={userInfo?.name} src={userInfo?.avatarUrl} />\n          <AvatarFallback>{userInfo?.name?.[0]}</AvatarFallback>\n        </Avatar>\n        <h4 className=\"mx-2 text-sm leading-none font-semibold\">\n          {/* Replace to your own backend or refer to potion */}\n          {userInfo?.name}\n        </h4>\n\n        <div className=\"text-xs leading-none text-muted-foreground/80\">\n          <span className=\"mr-1\">\n            {formatCommentDate(new Date(comment.createdAt))}\n          </span>\n          {comment.isEdited && <span>(edited)</span>}\n        </div>\n\n        {isMyComment && (hovering || dropdownOpen) && (\n          <div className=\"absolute top-0 right-0 flex space-x-1\">\n            {index === 0 && (\n              <Button\n                variant=\"ghost\"\n                className=\"h-6 p-1 text-muted-foreground\"\n                onClick={onResolveComment}\n                type=\"button\"\n              >\n                <CheckIcon className=\"size-4\" />\n              </Button>\n            )}\n\n            <CommentMoreDropdown\n              onCloseAutoFocus={() => {\n                setTimeout(() => {\n                  commentEditor.tf.focus({ edge: 'endEditor' });\n                }, 0);\n              }}\n              onRemoveComment={() => {\n                if (discussionLength === 1) {\n                  tf.comment.unsetMark({ id: comment.discussionId });\n                  void removeDiscussion(comment.discussionId);\n                }\n              }}\n              comment={comment}\n              dropdownOpen={dropdownOpen}\n              setDropdownOpen={setDropdownOpen}\n              setEditingId={setEditingId}\n            />\n          </div>\n        )}\n      </div>\n\n      {isFirst && showDocumentContent && (\n        <div className=\"text-subtle-foreground relative mt-1 flex pl-[32px] text-sm\">\n          {discussionLength > 1 && (\n            <div className=\"absolute top-[5px] left-3 h-full w-0.5 shrink-0 bg-muted\" />\n          )}\n          <div className=\"my-px w-0.5 shrink-0 bg-highlight\" />\n          {documentContent && <div className=\"ml-2\">{documentContent}</div>}\n        </div>\n      )}\n\n      <div className=\"relative my-1 pl-[26px]\">\n        {!isLast && (\n          <div className=\"absolute top-0 left-3 h-full w-0.5 shrink-0 bg-muted\" />\n        )}\n        <Plate readOnly={!isEditing} editor={commentEditor}>\n          <EditorContainer variant=\"comment\">\n            <Editor\n              variant=\"comment\"\n              className=\"w-auto grow\"\n              onClick={() => onEditorClick?.()}\n            />\n\n            {isEditing && (\n              <div className=\"ml-auto flex shrink-0 gap-1\">\n                <Button\n                  size=\"icon\"\n                  variant=\"ghost\"\n                  className=\"size-[28px]\"\n                  onClick={(e: React.MouseEvent<HTMLButtonElement>) => {\n                    e.stopPropagation();\n                    void onCancel();\n                  }}\n                >\n                  <div className=\"flex size-5 shrink-0 items-center justify-center rounded-[50%] bg-primary/40\">\n                    <XIcon className=\"size-3 stroke-[3px] text-background\" />\n                  </div>\n                </Button>\n\n                <Button\n                  size=\"icon\"\n                  variant=\"ghost\"\n                  onClick={(e: React.MouseEvent<HTMLButtonElement>) => {\n                    e.stopPropagation();\n                    void onSave();\n                  }}\n                >\n                  <div className=\"flex size-5 shrink-0 items-center justify-center rounded-[50%] bg-brand\">\n                    <CheckIcon className=\"size-3 stroke-[3px] text-background\" />\n                  </div>\n                </Button>\n              </div>\n            )}\n          </EditorContainer>\n        </Plate>\n      </div>\n    </div>\n  );\n}\ninterface CommentMoreDropdownProps {\n  comment: TComment;\n  dropdownOpen: boolean;\n  setDropdownOpen: React.Dispatch<React.SetStateAction<boolean>>;\n  setEditingId: React.Dispatch<React.SetStateAction<string | null>>;\n  onCloseAutoFocus?: () => void;\n  onRemoveComment?: () => void;\n}\n\nexport function CommentMoreDropdown(props: CommentMoreDropdownProps) {\n  const {\n    comment,\n    dropdownOpen,\n    setDropdownOpen,\n    setEditingId,\n    onCloseAutoFocus,\n    onRemoveComment,\n  } = props;\n\n  const editor = useEditorRef();\n\n  const selectedEditCommentRef = React.useRef<boolean>(false);\n\n  const onDeleteComment = React.useCallback(() => {\n    if (!comment.id)\n      return alert('You are operating too quickly, please try again later.');\n\n    // Find and update the discussion\n    const updatedDiscussions = editor\n      .getOption(discussionPlugin, 'discussions')\n      .map((discussion:any) => {\n        if (discussion.id !== comment.discussionId) {\n          return discussion;\n        }\n\n        const commentIndex = discussion.comments.findIndex(\n          (c:any) => c.id === comment.id\n        );\n        if (commentIndex === -1) {\n          return discussion;\n        }\n\n        return {\n          ...discussion,\n          comments: [\n            ...discussion.comments.slice(0, commentIndex),\n            ...discussion.comments.slice(commentIndex + 1),\n          ],\n        };\n      });\n\n    // Save back to session storage\n    editor.setOption(discussionPlugin, 'discussions', updatedDiscussions);\n    onRemoveComment?.();\n  }, [comment.discussionId, comment.id, editor, onRemoveComment]);\n\n  const onEditComment = React.useCallback(() => {\n    selectedEditCommentRef.current = true;\n\n    if (!comment.id)\n      return alert('You are operating too quickly, please try again later.');\n\n    setEditingId(comment.id);\n  }, [comment.id, setEditingId]);\n\n  return (\n    <DropdownMenu\n      open={dropdownOpen}\n      onOpenChange={setDropdownOpen}\n      modal={false}\n    >\n      <DropdownMenuTrigger asChild onClick={(e) => e.stopPropagation()}>\n        <Button variant=\"ghost\" className={cn('h-6 p-1 text-muted-foreground')}>\n          <MoreHorizontalIcon className=\"size-4\" />\n        </Button>\n      </DropdownMenuTrigger>\n      <DropdownMenuContent\n        className=\"w-48\"\n        onCloseAutoFocus={(e) => {\n          if (selectedEditCommentRef.current) {\n            onCloseAutoFocus?.();\n            selectedEditCommentRef.current = false;\n          }\n\n          return e.preventDefault();\n        }}\n      >\n        <DropdownMenuGroup>\n          <DropdownMenuItem onClick={onEditComment}>\n            <PencilIcon className=\"size-4\" />\n            Edit comment\n          </DropdownMenuItem>\n          <DropdownMenuItem onClick={onDeleteComment}>\n            <TrashIcon className=\"size-4\" />\n            Delete comment\n          </DropdownMenuItem>\n        </DropdownMenuGroup>\n      </DropdownMenuContent>\n    </DropdownMenu>\n  );\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport { ArrowUpIcon } from 'lucide-react';\n\nimport { withProps } from '@udecode/cn';\nimport {\n  nanoid,\n  NodeApi,\n  type Value,\n} from '@udecode/plate';\nimport { AIPlugin } from '@udecode/plate-ai/react';\nimport {\n  BasicMarksPlugin,\n  BoldPlugin,\n  ItalicPlugin,\n  StrikethroughPlugin,\n  UnderlinePlugin,\n} from '@udecode/plate-basic-marks/react';\nimport {\n  getCommentKey,\n  getDraftCommentKey,\n} from '@udecode/plate-comments';\nimport {\n  CommentsPlugin,\n  useCommentId,\n} from '@udecode/plate-comments/react';\nimport { DatePlugin } from '@udecode/plate-date/react';\nimport { EmojiInputPlugin } from '@udecode/plate-emoji/react';\nimport { LinkPlugin } from '@udecode/plate-link/react';\nimport { InlineEquationPlugin } from '@udecode/plate-math/react';\nimport {\n  MentionInputPlugin,\n  MentionPlugin,\n} from '@udecode/plate-mention/react';\nimport {\n  type CreatePlateEditorOptions,\n  Plate,\n  PlateLeaf,\n  useEditorRef,\n  usePluginOption,\n} from '@udecode/plate/react';\n\nimport { cn } from '../../../libs/utils';\nimport { useCreateEditor } from '../core/use-create-editor';\nimport {\n  discussionPlugin,\n  type TDiscussion,\n} from '../plugins/discussion-plugin';\nimport { AILeaf } from './ai-leaf';\nimport {\n  Avatar,\n  AvatarFallback,\n  AvatarImage,\n} from './avatar';\nimport { Button } from './button';\nimport type { TComment } from './comment';\nimport { DateElement } from './date-element';\nimport {\n  Editor,\n  EditorContainer,\n} from './editor';\nimport { EmojiInputElement } from './emoji-input-element';\nimport { InlineEquationElement } from './inline-equation-element';\nimport { LinkElement } from './link-element';\nimport { MentionElement } from './mention-element';\nimport { MentionInputElement } from './mention-input-element';\n\nexport const useCommentEditor:any = (\n  options: Omit<CreatePlateEditorOptions, 'plugins'> = {},\n  deps: any[] = []\n) => {\n  const commentEditor = useCreateEditor(\n    {\n      id: 'comment',\n      components: {\n        [AIPlugin.key]: AILeaf,\n        [BoldPlugin.key]: withProps(PlateLeaf, { as: 'strong' }),\n        [DatePlugin.key]: DateElement,\n        [EmojiInputPlugin.key]: EmojiInputElement,\n        [InlineEquationPlugin.key]: InlineEquationElement,\n        [ItalicPlugin.key]: withProps(PlateLeaf, { as: 'em' }),\n        [LinkPlugin.key]: LinkElement,\n        [MentionInputPlugin.key]: MentionInputElement,\n        [MentionPlugin.key]: MentionElement,\n        [StrikethroughPlugin.key]: withProps(PlateLeaf, { as: 's' }),\n        [UnderlinePlugin.key]: withProps(PlateLeaf, { as: 'u' }),\n        // [SlashInputPlugin.key]: SlashInputElement,\n      },\n      placeholders: false,\n      plugins: [BasicMarksPlugin],\n      value: [],\n      ...options,\n    },\n    deps\n  );\n\n  return commentEditor;\n};\n\nexport function CommentCreateForm({\n  autoFocus = false,\n  className,\n  discussionId: discussionIdProp,\n  focusOnMount = false,\n}: {\n  autoFocus?: boolean;\n  className?: string;\n  discussionId?: string;\n  focusOnMount?: boolean;\n}) {\n  const discussions = usePluginOption(discussionPlugin, 'discussions');\n\n  const editor = useEditorRef();\n  const commentId = useCommentId();\n  const discussionId = discussionIdProp ?? commentId;\n\n  const userInfo = usePluginOption(discussionPlugin, 'currentUser');\n  const [commentValue, setCommentValue] = React.useState<Value | undefined>();\n  const commentContent = React.useMemo(\n    () =>\n      commentValue ? NodeApi.string({ children: commentValue, type: 'p' }) : '',\n    [commentValue]\n  );\n  const commentEditor = useCommentEditor({}, []);\n\n  React.useEffect(() => {\n    if (commentEditor && focusOnMount) {\n      commentEditor.tf.focus();\n    }\n  }, [commentEditor, focusOnMount]);\n\n  const onAddComment = React.useCallback(async () => {\n    if (!commentValue) return;\n\n    commentEditor.tf.reset();\n\n    if (discussionId) {\n      // Get existing discussion\n      const discussion = discussions.find((d:any) => d.id === discussionId);\n      if (!discussion) {\n        // Mock creating suggestion\n        const newDiscussion: TDiscussion = {\n          id: discussionId,\n          comments: [\n            {\n              id: nanoid(),\n              contentRich: commentValue,\n              createdAt: new Date(),\n              discussionId,\n              isEdited: false,\n              userId: editor.getOption(discussionPlugin, 'currentUserId'),\n            },\n          ],\n          createdAt: new Date(),\n          isResolved: false,\n          userId: editor.getOption(discussionPlugin, 'currentUserId'),\n        };\n\n        editor.setOption(discussionPlugin, 'discussions', [\n          ...discussions,\n          newDiscussion,\n        ]);\n        return;\n      }\n\n      // Create reply comment\n      const comment: TComment = {\n        id: nanoid(),\n        contentRich: commentValue,\n        createdAt: new Date(),\n        discussionId,\n        isEdited: false,\n        userId: editor.getOption(discussionPlugin, 'currentUserId'),\n      };\n\n      // Add reply to discussion comments\n      const updatedDiscussion = {\n        ...discussion,\n        comments: [...discussion.comments, comment],\n      };\n\n      // Filter out old discussion and add updated one\n      const updatedDiscussions = discussions\n        .filter((d:any) => d.id !== discussionId)\n        .concat(updatedDiscussion);\n\n      editor.setOption(discussionPlugin, 'discussions', updatedDiscussions);\n\n      return;\n    }\n\n    const commentsNodeEntry = editor\n      .getApi(CommentsPlugin)\n      .comment.nodes({ at: [], isDraft: true });\n\n    if (commentsNodeEntry.length === 0) return;\n\n    const documentContent = commentsNodeEntry\n      .map(([node]) => node.text)\n      .join('');\n\n    const _discussionId = nanoid();\n    // Mock creating new discussion\n    const newDiscussion: TDiscussion = {\n      id: _discussionId,\n      comments: [\n        {\n          id: nanoid(),\n          contentRich: commentValue,\n          createdAt: new Date(),\n          discussionId: _discussionId,\n          isEdited: false,\n          userId: editor.getOption(discussionPlugin, 'currentUserId'),\n        },\n      ],\n      createdAt: new Date(),\n      documentContent,\n      isResolved: false,\n      userId: editor.getOption(discussionPlugin, 'currentUserId'),\n    };\n\n    editor.setOption(discussionPlugin, 'discussions', [\n      ...discussions,\n      newDiscussion,\n    ]);\n\n    const id = newDiscussion.id;\n\n    commentsNodeEntry.forEach(([, path]) => {\n      editor.tf.setNodes(\n        {\n          [getCommentKey(id)]: true,\n        },\n        { at: path, split: true }\n      );\n      editor.tf.unsetNodes([getDraftCommentKey()], { at: path });\n    });\n  }, [commentValue, commentEditor.tf, discussionId, editor, discussions]);\n\n  return (\n    <div className={cn('flex w-full', className)}>\n      <div className=\"mt-2 mr-1 shrink-0\">\n        {/* Replace to your own backend or refer to potion */}\n        <Avatar className=\"size-5\">\n          <AvatarImage alt={userInfo?.name} src={userInfo?.avatarUrl} />\n          <AvatarFallback>{userInfo?.name?.[0]}</AvatarFallback>\n        </Avatar>\n      </div>\n\n      <div className=\"relative flex grow gap-2\">\n        <Plate\n          onChange={({ value }) => {\n            setCommentValue(value);\n          }}\n          editor={commentEditor}\n        >\n          <EditorContainer variant=\"comment\">\n            <Editor\n              variant=\"comment\"\n              className=\"min-h-[25px] grow pt-0.5 pr-8\"\n              onKeyDown={(e:any) => {\n                if (e.key === 'Enter' && !e.shiftKey) {\n                  e.preventDefault();\n                  onAddComment();\n                }\n              }}\n              placeholder=\"Reply...\"\n              autoComplete=\"off\"\n              autoFocus={autoFocus}\n            />\n\n            <Button\n              size=\"icon\"\n              variant=\"ghost\"\n              className=\"absolute right-0.5 bottom-0.5 ml-auto shrink-0\"\n              disabled={commentContent.trim().length === 0}\n              onClick={(e) => {\n                e.stopPropagation();\n                onAddComment();\n              }}\n            >\n              <div className=\"flex size-6 items-center justify-center rounded-full\">\n                <ArrowUpIcon />\n              </div>\n            </Button>\n          </EditorContainer>\n        </Plate>\n      </div>\n    </div>\n  );\n}\n","'use client';\n\nimport { cva } from 'class-variance-authority';\n\nimport { AIChatPlugin } from '@udecode/plate-ai/react';\nimport {\n  PlateText,\n  type PlateTextProps,\n} from '@udecode/plate/react';\n\nimport { cn } from '../../../libs/utils';\n\nconst aiIndicatorVariants = cva(\n  'after:ml-1.5 after:inline-block after:h-3 after:w-3 after:animate-pulse after:rounded-full after:bg-primary after:align-middle after:content-[\"\"]'\n);\n\nexport function AILeaf(props: PlateTextProps) {\n  const streamingLeaf = props.editor\n    .getApi(AIChatPlugin)\n    .aiChat.node({ streaming: true });\n\n  const isLast = streamingLeaf?.[0] === props.text;\n\n  return (\n    <PlateText\n      className={cn(\n        'border-b-2 border-b-purple-100 bg-purple-50 text-purple-800',\n        'transition-all duration-200 ease-in-out',\n        isLast && aiIndicatorVariants()\n      )}\n      {...props}\n    />\n  );\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport {\n  EmojiInlineIndexSearch,\n  insertEmoji,\n} from '@udecode/plate-emoji';\nimport { EmojiPlugin } from '@udecode/plate-emoji/react';\nimport type { PlateElementProps } from '@udecode/plate/react';\nimport {\n  PlateElement,\n  usePluginOption,\n} from '@udecode/plate/react';\n\nimport { useDebounce } from '../../../hooks/use-debounce';\nimport { BlockWithPlus } from '../core/element-wrapper';\nimport {\n  InlineCombobox,\n  InlineComboboxContent,\n  InlineComboboxEmpty,\n  InlineComboboxGroup,\n  InlineComboboxInput,\n  InlineComboboxItem,\n} from './inline-combobox';\n\nexport function EmojiInputElement(props: PlateElementProps) {\n  const { children, editor, element } = props;\n  const data = usePluginOption(EmojiPlugin, 'data')!;\n  const [value, setValue] = React.useState('');\n  const debouncedValue = useDebounce(value, 100);\n  const isPending = value !== debouncedValue;\n\n  const filteredEmojis = React.useMemo(() => {\n    if (debouncedValue.trim().length === 0) return [];\n\n    return EmojiInlineIndexSearch.getInstance(data)\n      .search(debouncedValue.replace(/:$/, ''))\n      .get();\n  }, [data, debouncedValue]);\n\n  return (\n <BlockWithPlus element={element}>\n      <PlateElement as=\"span\" data-slate-value={element.value} {...props}>\n        <InlineCombobox\n          value={value}\n          element={element}\n          filter={false}\n          setValue={setValue}\n          trigger=\":\"\n          hideWhenNoValue\n        >\n          <InlineComboboxInput />\n  \n          <InlineComboboxContent>\n            {!isPending && <InlineComboboxEmpty>No results</InlineComboboxEmpty>}\n  \n            <InlineComboboxGroup>\n              {filteredEmojis.map((emoji) => (\n                <InlineComboboxItem\n                  key={emoji.id}\n                  value={emoji.name}\n                  onClick={() => insertEmoji(editor, emoji)}\n                >\n                  {emoji.skins[0].native} {emoji.name}\n                </InlineComboboxItem>\n              ))}\n            </InlineComboboxGroup>\n          </InlineComboboxContent>\n        </InlineCombobox>\n  \n        {children}\n      </PlateElement>\n </BlockWithPlus>\n  );\n}\n","import * as React from 'react';\n\nexport const useDebounce = <T>(value: T, delay = 500) => {\n  const [debouncedValue, setDebouncedValue] = React.useState(value);\n\n  React.useEffect(() => {\n    const handler: NodeJS.Timeout = setTimeout(() => {\n      setDebouncedValue(value);\n    }, delay);\n\n    // Cancel the timeout if value changes (also on delay change or unmount)\n    return () => {\n      clearTimeout(handler);\n    };\n  }, [value, delay]);\n\n  return debouncedValue;\n};\n","'use client';\n\nimport * as React from 'react';\n\nimport { cva } from 'class-variance-authority';\n\nimport {\n  Combobox,\n  ComboboxGroup,\n  ComboboxGroupLabel,\n  ComboboxItem,\n  type ComboboxItemProps,\n  ComboboxPopover,\n  ComboboxProvider,\n  ComboboxRow,\n  Portal,\n  useComboboxContext,\n  useComboboxStore,\n} from '@ariakit/react';\nimport type {\n  PointRef,\n  TElement,\n} from '@udecode/plate';\nimport { filterWords } from '@udecode/plate-combobox';\nimport {\n  useComboboxInput,\n  type UseComboboxInputResult,\n  useHTMLInputCursorState,\n} from '@udecode/plate-combobox/react';\nimport {\n  useComposedRef,\n  useEditorRef,\n} from '@udecode/plate/react';\n\nimport { cn } from '../../../libs/utils';\n\nexport type FilterFn = (\n  item: { value: string; group?: string; keywords?: string[]; label?: string },\n  search: string\n) => boolean;\n\nexport interface InlineComboboxContextValue {\n  filter: FilterFn | false;\n  inputProps: UseComboboxInputResult['props'];\n  inputRef: React.RefObject<HTMLInputElement | null>;\n  removeInput: UseComboboxInputResult['removeInput'];\n  showTrigger: boolean;\n  trigger: string;\n  setHasEmpty: (hasEmpty: boolean) => void;\n}\n\nexport const InlineComboboxContext = React.createContext<InlineComboboxContextValue>(\n  null as unknown as InlineComboboxContextValue\n);\n\nexport const defaultFilter: FilterFn = (\n  { group, keywords = [], label, value },\n  search\n) => {\n  const uniqueTerms = new Set(\n    [value, ...keywords, group, label].filter(Boolean)\n  );\n\n  return Array.from(uniqueTerms).some((keyword) =>\n    filterWords(keyword!, search)\n  );\n};\n\ninterface InlineComboboxProps {\n  children: React.ReactNode;\n  element: TElement;\n  trigger: string;\n  filter?: FilterFn | false;\n  hideWhenNoValue?: boolean;\n  showTrigger?: boolean;\n  value?: string;\n  setValue?: (value: string) => void;\n}\n\nconst InlineCombobox:any = ({\n  children,\n  element,\n  filter = defaultFilter,\n  hideWhenNoValue = false,\n  setValue: setValueProp,\n  showTrigger = true,\n  trigger,\n  value: valueProp,\n}: InlineComboboxProps) => {\n  const editor = useEditorRef();\n  const inputRef = React.useRef<HTMLInputElement>(null);\n  const cursorState = useHTMLInputCursorState(inputRef);\n\n  const [valueState, setValueState] = React.useState('');\n  const hasValueProp = valueProp !== undefined;\n  const value = hasValueProp ? valueProp : valueState;\n\n  const setValue = React.useCallback(\n    (newValue: string) => {\n      setValueProp?.(newValue);\n\n      if (!hasValueProp) {\n        setValueState(newValue);\n      }\n    },\n    [setValueProp, hasValueProp]\n  );\n\n  /**\n   * Track the point just before the input element so we know where to\n   * insertText if the combobox closes due to a selection change.\n   */\n  const [insertPoint, setInsertPoint] = React.useState<PointRef | null>(null);\n\n  React.useEffect(() => {\n    const path = editor.api.findPath(element);\n\n    if (!path) return;\n\n    const point = editor.api.before(path);\n\n    if (!point) return;\n\n    const pointRef = editor.api.pointRef(point);\n    setInsertPoint(pointRef);\n\n    return () => {\n      pointRef.unref();\n    };\n  }, [editor, element]);\n\n  const { props: inputProps, removeInput } = useComboboxInput({\n    cancelInputOnBlur: false,\n    cursorState,\n    ref: inputRef,\n    onCancelInput: (cause) => {\n      if (cause !== 'backspace') {\n        editor.tf.insertText(trigger + value, {\n          at: insertPoint?.current ?? undefined,\n        });\n      }\n      if (cause === 'arrowLeft' || cause === 'arrowRight') {\n        editor.tf.move({\n          distance: 1,\n          reverse: cause === 'arrowLeft',\n        });\n      }\n    },\n  });\n\n  const [hasEmpty, setHasEmpty] = React.useState(false);\n\n  const contextValue: InlineComboboxContextValue = React.useMemo(\n    () => ({\n      filter,\n      inputProps,\n      inputRef,\n      removeInput,\n      setHasEmpty,\n      showTrigger,\n      trigger,\n    }),\n    [\n      trigger,\n      showTrigger,\n      filter,\n      inputRef,\n      inputProps,\n      removeInput,\n      setHasEmpty,\n    ]\n  );\n\n  const store = useComboboxStore({\n    // open: ,\n    setValue: (newValue) => React.startTransition(() => setValue(newValue)),\n  });\n\n  const items = store.useState('items');\n\n  /**\n   * If there is no active ID and the list of items changes, select the first\n   * item.\n   */\n  React.useEffect(() => {\n    if (!store.getState().activeId) {\n      store.setActiveId(store.first());\n    }\n  }, [items, store]);\n\n  return (\n    <span contentEditable={false}>\n      <ComboboxProvider\n        open={\n          (items.length > 0 || hasEmpty) &&\n          (!hideWhenNoValue || value.length > 0)\n        }\n        store={store}\n      >\n        <InlineComboboxContext.Provider value={contextValue}>\n          {children}\n        </InlineComboboxContext.Provider>\n      </ComboboxProvider>\n    </span>\n  );\n};\n\nconst InlineComboboxInput:any = React.forwardRef<\n  HTMLInputElement,\n  React.HTMLAttributes<HTMLInputElement>\n>(({ className, ...props }, propRef) => {\n  const {\n    inputProps,\n    inputRef: contextRef,\n    showTrigger,\n    trigger,\n  } = React.useContext(InlineComboboxContext);\n\n  const store = useComboboxContext()!;\n  const value = store.useState('value');\n\n  const ref = useComposedRef(propRef, contextRef);\n\n  /**\n   * To create an auto-resizing input, we render a visually hidden span\n   * containing the input value and position the input element on top of it.\n   * This works well for all cases except when input exceeds the width of the\n   * container.\n   */\n\n  return (\n    <>\n      {showTrigger && trigger}\n\n      <span className=\"relative min-h-[1lh]\">\n        <span\n          className=\"invisible overflow-hidden text-nowrap\"\n          aria-hidden=\"true\"\n        >\n          {value || '\\u200B'}\n        </span>\n\n        <Combobox\n          ref={ref}\n          className={cn(\n            'absolute top-0 left-0 size-full bg-transparent outline-none',\n            className\n          )}\n          value={value}\n          autoSelect\n          {...inputProps}\n          {...props}\n        />\n      </span>\n    </>\n  );\n});\n\nInlineComboboxInput.displayName = 'InlineComboboxInput';\n\nconst InlineComboboxContent: typeof ComboboxPopover = ({\n  className,\n  ...props\n}) => {\n  // Portal prevents CSS from leaking into popover\n  return (\n    <Portal>\n      <ComboboxPopover\n        className={cn(\n          'z-500 max-h-[288px] w-[300px] overflow-y-auto rounded-md bg-popover shadow-md',\n          className\n        )}\n        {...props}\n      />\n    </Portal>\n  );\n};\n\nconst comboboxItemVariants = cva(\n  'relative mx-1 flex h-[28px] items-center rounded-sm px-2 text-sm text-foreground outline-none select-none [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0',\n  {\n    defaultVariants: {\n      interactive: true,\n    },\n    variants: {\n      interactive: {\n        false: '',\n        true: 'cursor-pointer transition-colors hover:bg-accent hover:text-accent-foreground data-[active-item=true]:bg-accent data-[active-item=true]:text-accent-foreground',\n      },\n    },\n  }\n);\n\nexport type InlineComboboxItemProps = {\n  focusEditor?: boolean;\n  group?: string;\n  keywords?: string[];\n  label?: string;\n} & ComboboxItemProps &\n  Required<Pick<ComboboxItemProps, 'value'>>;\n\nconst InlineComboboxItem:any = ({\n  className,\n  focusEditor = true,\n  group,\n  keywords,\n  label,\n  onClick,\n  ...props\n}: InlineComboboxItemProps) => {\n  const { value } = props;\n\n  const { filter, removeInput } = React.useContext(InlineComboboxContext);\n\n  const store = useComboboxContext()!;\n\n  // Optimization: Do not subscribe to value if filter is false\n  const search = filter && store.useState('value');\n\n  const visible = React.useMemo(\n    () =>\n      !filter || filter({ group, keywords, label, value }, search as string),\n    [filter, group, keywords, label, value, search]\n  );\n\n  if (!visible) return null;\n\n  return (\n    <ComboboxItem\n      className={cn(comboboxItemVariants(), className)}\n      onClick={(event) => {\n        removeInput(focusEditor);\n        onClick?.(event);\n      }}\n      {...props}\n    />\n  );\n};\n\nconst InlineComboboxEmpty:any = ({\n  children,\n  className,\n}: React.HTMLAttributes<HTMLDivElement>) => {\n  const { setHasEmpty } = React.useContext(InlineComboboxContext);\n  const store = useComboboxContext()!;\n  const items = store.useState('items');\n\n  React.useEffect(() => {\n    setHasEmpty(true);\n\n    return () => {\n      setHasEmpty(false);\n    };\n  }, [setHasEmpty]);\n\n  if (items.length > 0) return null;\n\n  return (\n    <div\n      className={cn(comboboxItemVariants({ interactive: false }), className)}\n    >\n      {children}\n    </div>\n  );\n};\n\nconst InlineComboboxRow = ComboboxRow;\n\nfunction InlineComboboxGroup({\n  className,\n  ...props\n}: React.ComponentProps<typeof ComboboxGroup>) {\n  return (\n    <ComboboxGroup\n      {...props}\n      className={cn(\n        'hidden py-1.5 not-last:border-b [&:has([role=option])]:block',\n        className\n      )}\n    />\n  );\n}\n\nfunction InlineComboboxGroupLabel({\n  className,\n  ...props\n}: React.ComponentProps<typeof ComboboxGroupLabel>) {\n  return (\n    <ComboboxGroupLabel\n      {...props}\n      className={cn(\n        'mt-1.5 mb-2 px-3 text-xs font-medium text-muted-foreground',\n        className\n      )}\n    />\n  );\n}\n\nexport {\n  InlineCombobox,\n  InlineComboboxContent,\n  InlineComboboxEmpty,\n  InlineComboboxGroup,\n  InlineComboboxGroupLabel,\n  InlineComboboxInput,\n  InlineComboboxItem,\n  InlineComboboxRow,\n};\n","'use client';\n\nimport * as React from 'react';\n\nimport { RadicalIcon } from 'lucide-react';\n\nimport type { TEquationElement } from '@udecode/plate-math';\nimport { useEquationElement } from '@udecode/plate-math/react';\nimport type { PlateElementProps } from '@udecode/plate/react';\nimport {\n  PlateElement,\n  useEditorSelector,\n  useSelected,\n} from '@udecode/plate/react';\n\nimport { cn } from '../../../libs/utils';\nimport { BlockWithPlus } from '../core/element-wrapper';\nimport { EquationPopoverContent } from './equation-popover';\nimport {\n  Popover,\n  PopoverTrigger,\n} from './popover';\n\nexport function InlineEquationElement(\n  props: PlateElementProps<TEquationElement>\n) {\n  const element = props.element;\n  const katexRef = React.useRef<HTMLDivElement | null>(null);\n  const selected = useSelected();\n  const isCollapsed = useEditorSelector(\n    (editor) => editor.api.isCollapsed(),\n    []\n  );\n  const [open, setOpen] = React.useState(selected && isCollapsed);\n\n  useEquationElement({\n    element,\n    katexRef: katexRef,\n    options: {\n      displayMode: true,\n      errorColor: '#cc0000',\n      fleqn: false,\n      leqno: false,\n      macros: { '\\\\f': '#1f(#2)' },\n      output: 'htmlAndMathml',\n      strict: 'warn',\n      throwOnError: false,\n      trust: false,\n    },\n  });\n\n  return (\n   <BlockWithPlus element={element}>\n      <PlateElement\n        {...props}\n        className={cn(\n          'inline-block rounded-sm select-none [&_.katex-display]:my-0'\n        )}\n      >\n        <Popover open={open} onOpenChange={setOpen} modal={false}>\n          <PopoverTrigger asChild>\n            <div\n              className={cn(\n                'after:absolute after:inset-0 after:-top-0.5 after:-left-1 after:z-1 after:h-[calc(100%)+4px] after:w-[calc(100%+8px)] after:rounded-sm after:content-[\"\"]',\n                'h-6',\n                element.texExpression.length > 0 && open && 'after:bg-brand/15',\n                element.texExpression.length === 0 &&\n                  'text-muted-foreground after:bg-neutral-500/10'\n              )}\n              contentEditable={false}\n            >\n              <span\n                ref={katexRef}\n                className={cn(\n                  element.texExpression.length === 0 && 'hidden',\n                  'font-mono leading-none'\n                )}\n              />\n              {element.texExpression.length === 0 && (\n                <span>\n                  <RadicalIcon className=\"mr-1 inline-block h-[19px] w-4 py-[1.5px] align-text-bottom\" />\n                  New equation\n                </span>\n              )}\n            </div>\n          </PopoverTrigger>\n  \n          <EquationPopoverContent\n            className=\"my-auto\"\n            open={open}\n            placeholder=\"E = mc^2\"\n            setOpen={setOpen}\n            isInline\n          />\n        </Popover>\n  \n        {props.children}\n      </PlateElement>\n   </BlockWithPlus>\n  );\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport { CornerDownLeftIcon } from 'lucide-react';\nimport TextareaAutosize, {\n  type TextareaAutosizeProps,\n} from 'react-textarea-autosize';\n\nimport type { TEquationElement } from '@udecode/plate-math';\nimport { useEquationInput } from '@udecode/plate-math/react';\nimport { BlockSelectionPlugin } from '@udecode/plate-selection/react';\nimport {\n  createPrimitiveComponent,\n  useEditorRef,\n  useElement,\n  useReadOnly,\n} from '@udecode/plate/react';\n\nimport { cn } from '../../../libs/utils';\nimport { Button } from './button';\nimport { PopoverContent } from './popover';\n\nexport const EquationInput:any = createPrimitiveComponent(TextareaAutosize)({\n  propsHook: useEquationInput,\n});\n\nconst EquationPopoverContent:any = ({\n  className,\n  isInline,\n  open,\n  setOpen,\n  ...props\n}: {\n  isInline: boolean;\n  open: boolean;\n  setOpen: (open: boolean) => void;\n} & TextareaAutosizeProps) => {\n  const editor = useEditorRef();\n  const readOnly = useReadOnly();\n  const element = useElement<TEquationElement>();\n\n  React.useEffect(() => {\n    if (isInline && open) {\n      setOpen(true);\n    }\n  }, [isInline, open, setOpen]);\n\n  if (readOnly) return null;\n\n  const onClose = () => {\n    setOpen(false);\n\n    if (isInline) {\n      editor.tf.select(element, { next: true });\n    } else {\n      editor\n        .getApi(BlockSelectionPlugin)\n        .blockSelection.set(element.id as string);\n    }\n  };\n\n  return (\n    <PopoverContent\n      className=\"flex gap-2\"\n      onEscapeKeyDown={(e) => {\n        e.preventDefault();\n      }}\n      contentEditable={false}\n    >\n      <EquationInput\n        className={cn('max-h-[50vh] grow resize-none p-2 text-sm', className)}\n        state={{ isInline, open, onClose }}\n        autoFocus\n        {...props}\n      />\n\n      <Button variant=\"secondary\" className=\"px-3\" onClick={onClose}>\n        Done <CornerDownLeftIcon className=\"size-3.5\" />\n      </Button>\n    </PopoverContent>\n  );\n};\n\nexport { EquationPopoverContent };\n","'use client';\n\nimport * as React from 'react';\n\nimport type { TLinkElement } from '@udecode/plate-link';\nimport { useLink } from '@udecode/plate-link/react';\nimport type { PlateElementProps } from '@udecode/plate/react';\nimport { PlateElement } from '@udecode/plate/react';\n\nimport { BlockWithPlus } from '../core/element-wrapper';\n\nexport function LinkElement(props: PlateElementProps<TLinkElement>) {\n  const { props: linkProps } = useLink({ element: props.element });\n\n  return (\n<BlockWithPlus element={props.element}>\n      <PlateElement\n        {...props}\n        as=\"a\"\n        className=\"font-medium text-primary underline decoration-primary underline-offset-4\"\n        attributes={{\n          ...props.attributes,\n          ...(linkProps as any),\n        }}\n      >\n        {props.children}\n      </PlateElement>\n</BlockWithPlus>\n  );\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport { IS_APPLE } from '@udecode/plate';\nimport type { TMentionElement } from '@udecode/plate-mention';\nimport type { PlateElementProps } from '@udecode/plate/react';\nimport {\n  PlateElement,\n  useFocused,\n  useReadOnly,\n  useSelected,\n} from '@udecode/plate/react';\n\nimport { useMounted } from '../../../hooks/use-mounted';\nimport { cn } from '../../../libs/utils';\nimport { BlockWithPlus } from '../core/element-wrapper';\n\nexport function MentionElement(\n  props: PlateElementProps<TMentionElement> & {\n    prefix?: string;\n  }\n) {\n  const element = props.element;\n  const selected = useSelected();\n  const focused = useFocused();\n  const mounted = useMounted();\n  const readOnly = useReadOnly();\n\n  return (\n <BlockWithPlus element={element}>\n      <PlateElement\n        {...props}\n        className={cn(\n          'inline-block rounded-md bg-muted px-1.5 py-0.5 align-baseline text-sm font-medium',\n          !readOnly && 'cursor-pointer',\n          selected && focused && 'ring-2 ring-ring',\n          element.children[0].bold === true && 'font-bold',\n          element.children[0].italic === true && 'italic',\n          element.children[0].underline === true && 'underline'\n        )}\n        attributes={{\n          ...props.attributes,\n          contentEditable: false,\n          'data-slate-value': element.value,\n          draggable: true,\n        }}\n      >\n        {mounted && IS_APPLE ? (\n          // Mac OS IME https://github.com/ianstormtaylor/slate/issues/3490\n          <React.Fragment>\n            {props.children}\n            {props.prefix}\n            {element.value}\n          </React.Fragment>\n        ) : (\n          // Others like Android https://github.com/ianstormtaylor/slate/pull/5360\n          <React.Fragment>\n            {props.prefix}\n            {element.value}\n            {props.children}\n          </React.Fragment>\n        )}\n      </PlateElement>\n </BlockWithPlus>\n  );\n}\n","import * as React from 'react';\n\nexport function useMounted() {\n  const [mounted, setMounted] = React.useState(false);\n\n  React.useEffect(() => {\n    setMounted(true);\n  }, []);\n\n  return mounted;\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport type { TMentionInputElement } from '@udecode/plate-mention';\nimport { getMentionOnSelectItem } from '@udecode/plate-mention';\nimport type { PlateElementProps } from '@udecode/plate/react';\nimport { PlateElement } from '@udecode/plate/react';\n\nimport { BlockWithPlus } from '../core/element-wrapper';\nimport {\n  InlineCombobox,\n  InlineComboboxContent,\n  InlineComboboxEmpty,\n  InlineComboboxGroup,\n  InlineComboboxInput,\n  InlineComboboxItem,\n} from './inline-combobox';\n\nconst onSelectItem = getMentionOnSelectItem();\n\nexport function MentionInputElement(\n  props: PlateElementProps<TMentionInputElement>\n) {\n  const { editor, element } = props;\n  const [search, setSearch] = React.useState('');\n\n  return (\n<BlockWithPlus element={element}>\n      <PlateElement {...props} as=\"span\" data-slate-value={element.value}>\n        <InlineCombobox\n          value={search}\n          element={element}\n          setValue={setSearch}\n          showTrigger={false}\n          trigger=\"@\"\n        >\n          <span className=\"inline-block rounded-md bg-muted px-1.5 py-0.5 align-baseline text-sm ring-ring focus-within:ring-2\">\n            <InlineComboboxInput />\n          </span>\n  \n          <InlineComboboxContent className=\"my-1.5\">\n            <InlineComboboxEmpty>No results</InlineComboboxEmpty>\n  \n            <InlineComboboxGroup>\n              {MENTIONABLES.map((item) => (\n                <InlineComboboxItem\n                  key={item.key}\n                  value={item.text}\n                  onClick={() => onSelectItem(editor, item, search)}\n                >\n                  {item.text}\n                </InlineComboboxItem>\n              ))}\n            </InlineComboboxGroup>\n          </InlineComboboxContent>\n        </InlineCombobox>\n  \n        {props.children}\n      </PlateElement>\n</BlockWithPlus>\n  );\n}\n\nexport const MENTIONABLES = [\n  { key: '0', text: 'Aayla Secura' },\n  { key: '1', text: 'Adi Gallia' },\n  {\n    key: '2',\n    text: 'Admiral Dodd Rancit',\n  },\n  {\n    key: '3',\n    text: 'Admiral Firmus Piett',\n  },\n  {\n    key: '4',\n    text: 'Admiral Gial Ackbar',\n  },\n  { key: '5', text: 'Admiral Ozzel' },\n  { key: '6', text: 'Admiral Raddus' },\n  {\n    key: '7',\n    text: 'Admiral Terrinald Screed',\n  },\n  { key: '8', text: 'Admiral Trench' },\n  {\n    key: '9',\n    text: 'Admiral U.O. Statura',\n  },\n  { key: '10', text: 'Agen Kolar' },\n  { key: '11', text: 'Agent Kallus' },\n  {\n    key: '12',\n    text: 'Aiolin and Morit Astarte',\n  },\n  { key: '13', text: 'Aks Moe' },\n  { key: '14', text: 'Almec' },\n  { key: '15', text: 'Alton Kastle' },\n  { key: '16', text: 'Amee' },\n  { key: '17', text: 'AP-5' },\n  { key: '18', text: 'Armitage Hux' },\n  { key: '19', text: 'Artoo' },\n  { key: '20', text: 'Arvel Crynyd' },\n  { key: '21', text: 'Asajj Ventress' },\n  { key: '22', text: 'Aurra Sing' },\n  { key: '23', text: 'AZI-3' },\n  { key: '24', text: 'Bala-Tik' },\n  { key: '25', text: 'Barada' },\n  { key: '26', text: 'Bargwill Tomder' },\n  { key: '27', text: 'Baron Papanoida' },\n  { key: '28', text: 'Barriss Offee' },\n  { key: '29', text: 'Baze Malbus' },\n  { key: '30', text: 'Bazine Netal' },\n  { key: '31', text: 'BB-8' },\n  { key: '32', text: 'BB-9E' },\n  { key: '33', text: 'Ben Quadinaros' },\n  { key: '34', text: 'Berch Teller' },\n  { key: '35', text: 'Beru Lars' },\n  { key: '36', text: 'Bib Fortuna' },\n  {\n    key: '37',\n    text: 'Biggs Darklighter',\n  },\n  { key: '38', text: 'Black Krrsantan' },\n  { key: '39', text: 'Bo-Katan Kryze' },\n  { key: '40', text: 'Boba Fett' },\n  { key: '41', text: 'Bobbajo' },\n  { key: '42', text: 'Bodhi Rook' },\n  { key: '43', text: 'Borvo the Hutt' },\n  { key: '44', text: 'Boss Nass' },\n  { key: '45', text: 'Bossk' },\n  {\n    key: '46',\n    text: 'Breha Antilles-Organa',\n  },\n  { key: '47', text: 'Bren Derlin' },\n  { key: '48', text: 'Brendol Hux' },\n  { key: '49', text: 'BT-1' },\n];\n","'use client';\n\nimport { DndPlugin } from '@udecode/plate-dnd';\nimport { PlaceholderPlugin } from '@udecode/plate-media/react';\nimport { NodeIdPlugin } from '@udecode/plate-node-id';\n\nimport { DraggableAboveNodes } from '../ui/draggable';\n\nexport const dndPlugins:any[] = [\n  NodeIdPlugin,\n  DndPlugin.configure({\n    options: {\n      enableScroller: true,\n      onDropFiles: ({ dragItem, editor, target }) => {\n        editor\n          .getTransforms(PlaceholderPlugin)\n          .insert.media(dragItem.files, { at: target, nextBlock: false });\n      },\n    },\n    render: {\n      aboveNodes: DraggableAboveNodes,\n    },\n  }),\n] as const;\n","'use client';\n\nimport * as React from 'react';\n\nimport { GripVertical } from 'lucide-react';\n\nimport { isType } from '@udecode/plate';\nimport { BlockquotePlugin } from '@udecode/plate-block-quote/react';\nimport { CodeBlockPlugin } from '@udecode/plate-code-block/react';\nimport {\n  useDraggable,\n  useDropLine,\n} from '@udecode/plate-dnd';\nimport { ExcalidrawPlugin } from '@udecode/plate-excalidraw/react';\nimport { HEADING_KEYS } from '@udecode/plate-heading';\nimport {\n  ColumnItemPlugin,\n  ColumnPlugin,\n} from '@udecode/plate-layout/react';\nimport {\n  ImagePlugin,\n  MediaEmbedPlugin,\n  PlaceholderPlugin,\n} from '@udecode/plate-media/react';\nimport { BlockSelectionPlugin } from '@udecode/plate-selection/react';\nimport {\n  TableCellPlugin,\n  TablePlugin,\n  TableRowPlugin,\n} from '@udecode/plate-table/react';\nimport { TogglePlugin } from '@udecode/plate-toggle/react';\nimport {\n  MemoizedChildren,\n  ParagraphPlugin,\n  type PlateElementProps,\n  type RenderNodeWrapper,\n  useEditorRef,\n  useElement,\n  usePath,\n  usePluginOption,\n  useReadOnly,\n  useSelected,\n} from '@udecode/plate/react';\n\nimport { cn } from '../../../libs/utils';\nimport { STRUCTURAL_TYPES } from '../core/transforms';\nimport { Button } from './button';\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipTrigger,\n} from './tooltip';\n\nexport const UNDRAGGABLE_KEYS = [\n  ColumnItemPlugin.key,\n  TableRowPlugin.key,\n  TableCellPlugin.key,\n];\n\nexport const DraggableAboveNodes: RenderNodeWrapper = (props) => {\n  const { editor, element, path } = props;\n  const readOnly = useReadOnly();\n\n  const enabled = React.useMemo(() => {\n    if (readOnly) return false;\n    if (path.length === 1 && !isType(editor, element, UNDRAGGABLE_KEYS)) {\n      return true;\n    }\n    if (path.length === 3 && !isType(editor, element, UNDRAGGABLE_KEYS)) {\n      const block = editor.api.some({\n        at: path,\n        match: {\n          type: editor.getType(ColumnPlugin),\n        },\n      });\n\n      if (block) {\n        return true;\n      }\n    }\n    if (path.length === 4 && !isType(editor, element, UNDRAGGABLE_KEYS)) {\n      const block = editor.api.some({\n        at: path,\n        match: {\n          type: editor.getType(TablePlugin),\n        },\n      });\n\n      if (block) {\n        return true;\n      }\n    }\n\n    return false;\n  }, [editor, element, path, readOnly]);\n\n  if (!enabled) return;\n\n  return (props) => <Draggable {...props} />;\n};\n\nexport function Draggable(props: PlateElementProps) {\n  const { children, editor, element, path } = props;\n  const blockSelectionApi = editor.getApi(BlockSelectionPlugin).blockSelection;\n  const { isDragging, previewRef, handleRef } = useDraggable({\n    element,\n    onDropHandler: (_, { dragItem }) => {\n      const id = (dragItem as { id: string }).id;\n\n      if (blockSelectionApi && id) {\n        blockSelectionApi.set(id);\n      }\n    },\n  });\n\n  const isInColumn = path.length === 3;\n  const isInTable = path.length === 4;\n\n  return (\n    <div\n      className={cn(\n        'relative',\n        isDragging && 'opacity-50',\n        STRUCTURAL_TYPES.includes(element.type) ? 'group/structural' : 'group'\n      )}\n    >\n      {!isInTable && (\n        <Gutter>\n          <div\n            className={cn(\n              'slate-blockToolbarWrapper',\n              'flex h-[1.5em]',\n              isType(editor, element, [\n                HEADING_KEYS.h1,\n                HEADING_KEYS.h2,\n                HEADING_KEYS.h3,\n                HEADING_KEYS.h4,\n                HEADING_KEYS.h5,\n              ]) && 'h-[1.3em]',\n              isInColumn && 'h-4'\n            )}\n          >\n            <div\n              className={cn(\n                'slate-blockToolbar',\n                'pointer-events-auto mr-1 flex items-center',\n                isInColumn && 'mr-1.5'\n              )}\n            >\n              <Button\n                ref={handleRef}\n                variant=\"ghost\"\n                className=\"h-6 w-4.5 p-0\"\n                data-plate-prevent-deselect\n              >\n                <DragHandle />\n              </Button>\n            </div>\n          </div>\n        </Gutter>\n      )}\n\n      <div ref={previewRef} className=\"slate-blockWrapper\">\n        <MemoizedChildren>{children}</MemoizedChildren>\n        <DropLine />\n      </div>\n    </div>\n  );\n}\n\nfunction Gutter({\n  children,\n  className,\n  ...props\n}: React.ComponentProps<'div'>) {\n  const editor = useEditorRef();\n  const element = useElement();\n  const path = usePath();\n  const isSelectionAreaVisible = usePluginOption(\n    BlockSelectionPlugin,\n    'isSelectionAreaVisible'\n  );\n  const selected = useSelected();\n\n  const isNodeType = (keys: string[] | string) => isType(editor, element, keys);\n\n  const isInColumn = path.length === 3;\n\n  return (\n    <div\n      {...props}\n      className={cn(\n        'slate-gutterLeft',\n        'absolute top-0 z-50 flex h-full -translate-x-full cursor-text hover:opacity-100 sm:opacity-0',\n        STRUCTURAL_TYPES.includes(element.type)\n          ? 'group-hover/structural:opacity-100'\n          : 'group-hover:opacity-100',\n        isSelectionAreaVisible && 'hidden',\n        !selected && 'opacity-0',\n        isNodeType(HEADING_KEYS.h1) && 'pb-1 text-[1.875em]',\n        isNodeType(HEADING_KEYS.h2) && 'pb-1 text-[1.5em]',\n        isNodeType(HEADING_KEYS.h3) && 'pt-[2px] pb-1 text-[1.25em]',\n        isNodeType([HEADING_KEYS.h4, HEADING_KEYS.h5]) &&\n          'pt-1 pb-0 text-[1.1em]',\n        isNodeType(HEADING_KEYS.h6) && 'pb-0',\n        isNodeType(ParagraphPlugin.key) && 'pt-1 pb-0',\n        isNodeType(['ul', 'ol']) && 'pb-0',\n        isNodeType(BlockquotePlugin.key) && 'pb-0',\n        isNodeType(CodeBlockPlugin.key) && 'pt-6 pb-0',\n        isNodeType([\n          ImagePlugin.key,\n          MediaEmbedPlugin.key,\n          ExcalidrawPlugin.key,\n          TogglePlugin.key,\n          ColumnPlugin.key,\n        ]) && 'py-0',\n        isNodeType([PlaceholderPlugin.key, TablePlugin.key]) && 'pt-3 pb-0',\n        isInColumn && 'mt-2 h-4 pt-0',\n        className\n      )}\n      contentEditable={false}\n    >\n      {children}\n    </div>\n  );\n}\n\nconst DragHandle = React.memo(function DragHandle() {\n  const editor = useEditorRef();\n  const element = useElement();\n\n  return (\n    <Tooltip>\n      <TooltipTrigger asChild>\n        <div\n          className=\"flex size-full items-center justify-center\"\n          onClick={() => {\n            editor\n              .getApi(BlockSelectionPlugin)\n              .blockSelection.set(element.id as string);\n          }}\n          role=\"button\"\n        >\n          <GripVertical className=\"text-muted-foreground\" />\n        </div>\n      </TooltipTrigger>\n      <TooltipContent>Drag to move</TooltipContent>\n    </Tooltip>\n  );\n});\n\nconst DropLine:any = React.memo(function DropLine({\n  className,\n  ...props\n}: React.ComponentProps<'div'>) {\n  const { dropLine } = useDropLine();\n\n  if (!dropLine) return null;\n\n  return (\n    <div\n      {...props}\n      className={cn(\n        'slate-dropLine',\n        'absolute inset-x-0 h-0.5 opacity-100 transition-opacity',\n        'bg-brand/50',\n        dropLine === 'top' && '-top-px',\n        dropLine === 'bottom' && '-bottom-px',\n        className\n      )}\n    />\n  );\n});\n","'use client';\n\nimport {\n  EquationPlugin,\n  InlineEquationPlugin,\n} from '@udecode/plate-math/react';\n\nexport const equationPlugins:any = [InlineEquationPlugin, EquationPlugin];\n","'use client';\n\nimport { ExitBreakPlugin } from '@udecode/plate-break/react';\nimport { HEADING_LEVELS } from '@udecode/plate-heading';\n\nexport const exitBreakPlugin:any = ExitBreakPlugin.configure({\n  options: {\n    rules: [\n      {\n        hotkey: 'mod+enter',\n      },\n      {\n        before: true,\n        hotkey: 'mod+shift+enter',\n      },\n      {\n        hotkey: 'enter',\n        level: 1,\n        query: {\n          allow: HEADING_LEVELS,\n          end: true,\n          start: true,\n        },\n        relative: true,\n      },\n    ],\n  },\n});\n","'use client';\n\nimport { BlockquotePlugin } from '@udecode/plate-block-quote/react';\nimport { CodeBlockPlugin } from '@udecode/plate-code-block/react';\nimport { HEADING_LEVELS } from '@udecode/plate-heading';\nimport { IndentListPlugin } from '@udecode/plate-indent-list/react';\nimport { IndentPlugin } from '@udecode/plate-indent/react';\nimport { TogglePlugin } from '@udecode/plate-toggle/react';\nimport { ParagraphPlugin } from '@udecode/plate/react';\n\nimport {\n  FireLiComponent,\n  FireMarker,\n} from '../ui/indent-fire-marker';\nimport {\n  TodoLi,\n  TodoMarker,\n} from '../ui/indent-todo-marker';\n\nexport const indentListPlugins:any = [\n  IndentPlugin.extend({\n    inject: {\n      targetPlugins: [\n        ParagraphPlugin.key,\n        ...HEADING_LEVELS,\n        BlockquotePlugin.key,\n        CodeBlockPlugin.key,\n        TogglePlugin.key,\n      ],\n    },\n  }),\n  IndentListPlugin.extend({\n    inject: {\n      targetPlugins: [\n        ParagraphPlugin.key,\n        ...HEADING_LEVELS,\n        BlockquotePlugin.key,\n        CodeBlockPlugin.key,\n        TogglePlugin.key,\n      ],\n    },\n    options: {\n      listStyleTypes: {\n        fire: {\n          liComponent: FireLiComponent,\n          markerComponent: FireMarker,\n          type: 'fire',\n        },\n        todo: {\n          liComponent: TodoLi,\n          markerComponent: TodoMarker,\n          type: 'todo',\n        },\n      },\n    },\n  }),\n];\n","import * as React from 'react';\n\nimport type { SlateRenderElementProps } from '@udecode/plate';\nimport type { TIndentElement } from '@udecode/plate-indent';\n\nexport const FireMarker:any = (\n  props: Omit<SlateRenderElementProps, 'children'>\n) => {\n  const { element } = props;\n\n  return (\n    <div contentEditable={false}>\n      <span\n        className=\"select-none\"\n        style={{ left: -26, position: 'absolute', top: -1 }}\n        data-plate-prevent-deserialization\n        contentEditable={false}\n      >\n        {(element as TIndentElement).indent % 2 === 0 ? '🔥' : '🚀'}\n      </span>\n    </div>\n  );\n};\n\nexport const FireLiComponent:any = (props: SlateRenderElementProps) => {\n  const { children } = props;\n\n  return <li className=\"list-none\">{children}</li>;\n};\n","'use client';\n\nimport * as React from 'react';\n\nimport type { SlateRenderElementProps } from '@udecode/plate';\nimport {\n  useIndentTodoListElement,\n  useIndentTodoListElementState,\n} from '@udecode/plate-indent-list/react';\nimport { useReadOnly } from '@udecode/plate/react';\n\nimport { cn } from '../../../libs/utils';\nimport { Checkbox } from './checkbox';\n\nexport function TodoMarker(props: Omit<SlateRenderElementProps, 'children'>) {\n  const state = useIndentTodoListElementState({ element: props.element });\n  const { checkboxProps } = useIndentTodoListElement(state);\n  const readOnly = useReadOnly();\n\n  return (\n    <div contentEditable={false}>\n      <Checkbox\n        className={cn(\n          'absolute top-1 -left-6',\n          readOnly && 'pointer-events-none'\n        )}\n        {...checkboxProps}\n      />\n    </div>\n  );\n}\n\nexport function TodoLi(props: SlateRenderElementProps) {\n  return (\n    <li\n      className={cn(\n        'list-none',\n        (props.element.checked as boolean) &&\n          'text-muted-foreground line-through'\n      )}\n    >\n      {props.children}\n    </li>\n  );\n}\n","import * as React from 'react';\n\nimport { CheckIcon } from 'lucide-react';\n\nimport * as CheckboxPrimitive from '@radix-ui/react-checkbox';\n\nimport { cn } from '../../../libs/utils';\n\nfunction Checkbox({\n  className,\n  ...props\n}: React.ComponentProps<typeof CheckboxPrimitive.Root>) {\n  return (\n    <CheckboxPrimitive.Root\n      data-slot=\"checkbox\"\n      className={cn(\n        \"peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    >\n      <CheckboxPrimitive.Indicator\n        data-slot=\"checkbox-indicator\"\n        className=\"flex items-center justify-center text-current transition-none\"\n      >\n        <CheckIcon className=\"size-3.5\" />\n      </CheckboxPrimitive.Indicator>\n    </CheckboxPrimitive.Root>\n  )\n}\n\nexport { Checkbox };\n","'use client';\n\nimport { HEADING_LEVELS } from '@udecode/plate-heading';\nimport { LineHeightPlugin } from '@udecode/plate-line-height/react';\nimport { ParagraphPlugin } from '@udecode/plate/react';\n\nexport const lineHeightPlugin:any = LineHeightPlugin.configure({\n  inject: {\n    nodeProps: {\n      defaultNodeValue: 1.5,\n      validNodeValues: [1, 1.2, 1.5, 2, 3],\n    },\n    targetPlugins: [ParagraphPlugin.key, ...HEADING_LEVELS],\n  },\n});\n","'use client';\n\nimport { LinkPlugin } from '@udecode/plate-link/react';\n\nimport { LinkFloatingToolbar } from '../ui/link-floating-toolbar';\n\nexport const linkPlugin:any = LinkPlugin.extend({\n  render: { afterEditable: () => <LinkFloatingToolbar /> },\n});\n","'use client';\n\nimport * as React from 'react';\n\nimport { cva } from 'class-variance-authority';\nimport {\n  ExternalLink,\n  Link,\n  Text,\n  Unlink,\n} from 'lucide-react';\n\nimport {\n  flip,\n  offset,\n  type UseVirtualFloatingOptions,\n} from '@udecode/plate-floating';\nimport {\n  getLinkAttributes,\n  type TLinkElement,\n} from '@udecode/plate-link';\nimport {\n  FloatingLinkUrlInput,\n  type LinkFloatingToolbarState,\n  LinkPlugin,\n  useFloatingLinkEdit,\n  useFloatingLinkEditState,\n  useFloatingLinkInsert,\n  useFloatingLinkInsertState,\n} from '@udecode/plate-link/react';\nimport {\n  useEditorRef,\n  useEditorSelection,\n  useFormInputProps,\n  usePluginOption,\n} from '@udecode/plate/react';\n\nimport { buttonVariants } from './button';\nimport { Separator } from './separator';\n\nconst popoverVariants = cva(\n  'z-50 w-auto rounded-md border bg-popover p-1 text-popover-foreground shadow-md outline-hidden'\n);\n\nconst inputVariants = cva(\n  'flex h-[28px] w-full rounded-md border-none bg-transparent px-1.5 py-1 text-base placeholder:text-muted-foreground focus-visible:ring-transparent focus-visible:outline-none md:text-sm'\n);\n\nexport function LinkFloatingToolbar({\n  state,\n}: {\n  state?: LinkFloatingToolbarState;\n}) {\n  const activeCommentId = usePluginOption({ key: 'comment' }, 'activeId');\n  const activeSuggestionId = usePluginOption({ key: 'suggestion' }, 'activeId');\n\n  const floatingOptions: UseVirtualFloatingOptions = React.useMemo(() => {\n    return {\n      middleware: [\n        offset(8),\n        flip({\n          fallbackPlacements: ['bottom-end', 'top-start', 'top-end'],\n          padding: 12,\n        }),\n      ],\n      placement:\n        activeSuggestionId || activeCommentId ? 'top-start' : 'bottom-start',\n    };\n  }, [activeCommentId, activeSuggestionId]);\n\n  const insertState = useFloatingLinkInsertState({\n    ...state,\n    floatingOptions: {\n      ...floatingOptions,\n      ...state?.floatingOptions,\n    },\n  });\n  const {\n    hidden,\n    props: insertProps,\n    ref: insertRef,\n    textInputProps,\n  } = useFloatingLinkInsert(insertState);\n\n  const editState = useFloatingLinkEditState({\n    ...state,\n    floatingOptions: {\n      ...floatingOptions,\n      ...state?.floatingOptions,\n    },\n  });\n  const {\n    editButtonProps,\n    props: editProps,\n    ref: editRef,\n    unlinkButtonProps,\n  } = useFloatingLinkEdit(editState);\n  const inputProps = useFormInputProps({\n    preventDefaultOnEnterKeydown: true,\n  });\n\n  if (hidden) return null;\n\n  const input = (\n    <div className=\"flex w-[330px] flex-col\" {...inputProps}>\n      <div className=\"flex items-center\">\n        <div className=\"flex items-center pr-1 pl-2 text-muted-foreground\">\n          <Link className=\"size-4\" />\n        </div>\n\n        <FloatingLinkUrlInput\n          className={inputVariants()}\n          placeholder=\"Paste link\"\n          data-plate-focus\n        />\n      </div>\n      <Separator className=\"my-1\" />\n      <div className=\"flex items-center\">\n        <div className=\"flex items-center pr-1 pl-2 text-muted-foreground\">\n          <Text className=\"size-4\" />\n        </div>\n        <input\n          className={inputVariants()}\n          placeholder=\"Text to display\"\n          data-plate-focus\n          {...textInputProps}\n        />\n      </div>\n    </div>\n  );\n\n  const editContent = editState.isEditing ? (\n    input\n  ) : (\n    <div className=\"box-content flex items-center\">\n      <button\n        className={buttonVariants({ size: 'sm', variant: 'ghost' })}\n        type=\"button\"\n        {...editButtonProps}\n      >\n        Edit link\n      </button>\n\n      <Separator orientation=\"vertical\" />\n\n      <LinkOpenButton />\n\n      <Separator orientation=\"vertical\" />\n\n      <button\n        className={buttonVariants({\n          size: 'icon',\n          variant: 'ghost',\n        })}\n        type=\"button\"\n        {...unlinkButtonProps}\n      >\n        <Unlink width={18} />\n      </button>\n    </div>\n  );\n\n  return (\n    <>\n      <div ref={insertRef} className={popoverVariants()} {...insertProps}>\n        {input}\n      </div>\n\n      <div ref={editRef} className={popoverVariants()} {...editProps}>\n        {editContent}\n      </div>\n    </>\n  );\n}\n\nfunction LinkOpenButton() {\n  const editor = useEditorRef();\n  const selection = useEditorSelection();\n\n  const attributes = React.useMemo(\n    () => {\n      const entry = editor.api.node<TLinkElement>({\n        match: { type: editor.getType(LinkPlugin) },\n      });\n      if (!entry) {\n        return {};\n      }\n      const [element] = entry;\n      return getLinkAttributes(editor, element);\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [editor, selection]\n  );\n\n  return (\n    <a\n      {...attributes}\n      className={buttonVariants({\n        size: 'icon',\n        variant: 'ghost',\n      })}\n      onMouseOver={(e) => {\n        e.stopPropagation();\n      }}\n      aria-label=\"Open link in a new tab\"\n      target=\"_blank\"\n    >\n      <ExternalLink width={18} />\n    </a>\n  );\n}\n","'use client';\n\nimport { CaptionPlugin } from '@udecode/plate-caption/react';\nimport {\n  AudioPlugin,\n  FilePlugin,\n  ImagePlugin,\n  MediaEmbedPlugin,\n  PlaceholderPlugin,\n  VideoPlugin,\n} from '@udecode/plate-media/react';\n\nimport { ImagePreview } from '../ui/image-preview';\nimport { MediaUploadToast } from '../ui/media-upload-toast';\n\nexport const mediaPlugins:any[] = [\n  ImagePlugin.extend({\n    options: { disableUploadInsert: true },\n    render: { afterEditable: ImagePreview },\n  }),\n  MediaEmbedPlugin,\n  VideoPlugin,\n  AudioPlugin,\n  FilePlugin,\n  CaptionPlugin.configure({\n    options: {\n      plugins: [\n        ImagePlugin,\n        VideoPlugin,\n        AudioPlugin,\n        FilePlugin,\n        MediaEmbedPlugin,\n      ],\n    },\n  }),\n  PlaceholderPlugin.configure({\n    options: { disableEmptyPlaceholder: true },\n    render: { afterEditable: MediaUploadToast },\n  }),\n] as const;\n","'use client';\n\nimport { cva } from 'class-variance-authority';\nimport {\n  ArrowLeft,\n  ArrowRight,\n  Download,\n  Minus,\n  Plus,\n  X,\n} from 'lucide-react';\n\nimport {\n  PreviewImage,\n  useImagePreview,\n  useImagePreviewValue,\n  useScaleInput,\n} from '@udecode/plate-media/react';\nimport { useEditorRef } from '@udecode/plate/react';\n\nimport { cn } from '../../../libs/utils';\n\nconst toolButtonVariants = cva('rounded bg-[rgba(0,0,0,0.5)] px-1', {\n  defaultVariants: {\n    variant: 'default',\n  },\n  variants: {\n    variant: {\n      default: 'text-white',\n      disabled: 'cursor-not-allowed text-gray-400',\n    },\n  },\n});\n\nconst SCROLL_SPEED = 4;\n\nexport const ImagePreview:any = () => {\n  const editor = useEditorRef();\n  const isOpen = useImagePreviewValue('isOpen', editor.id);\n  const scale = useImagePreviewValue('scale');\n  const isEditingScale = useImagePreviewValue('isEditingScale');\n  const {\n    closeProps,\n    currentUrlIndex,\n    maskLayerProps,\n    nextDisabled,\n    nextProps,\n    prevDisabled,\n    prevProps,\n    scaleTextProps,\n    zommOutProps,\n    zoomInDisabled,\n    zoomInProps,\n    zoomOutDisabled,\n  } = useImagePreview({ scrollSpeed: SCROLL_SPEED });\n\n  return (\n    <div\n      className={cn(\n        'fixed top-0 left-0 z-50 h-screen w-screen select-none',\n        !isOpen && 'hidden'\n      )}\n      onContextMenu={(e) => e.stopPropagation()}\n      {...maskLayerProps}\n    >\n      <div className=\"absolute inset-0 size-full bg-black opacity-30\"></div>\n      <div className=\"absolute inset-0 size-full bg-black opacity-30\"></div>\n      <div className=\"absolute inset-0 flex items-center justify-center\">\n        <div className=\"relative flex max-h-screen w-full items-center\">\n          <PreviewImage\n            className={cn(\n              'mx-auto block max-h-[calc(100vh-4rem)] w-auto object-contain transition-transform'\n            )}\n          />\n          <div\n            className=\"absolute bottom-0 left-1/2 z-40 flex w-fit -translate-x-1/2 justify-center gap-4 p-2 text-center text-white\"\n            onClick={(e) => e.stopPropagation()}\n          >\n            <div className=\"flex gap-1\">\n              <button\n                {...prevProps}\n                className={cn(\n                  toolButtonVariants({\n                    variant: prevDisabled ? 'disabled' : 'default',\n                  })\n                )}\n                type=\"button\"\n              >\n                <ArrowLeft />\n              </button>\n              {(currentUrlIndex ?? 0) + 1}\n              <button\n                {...nextProps}\n                className={cn(\n                  toolButtonVariants({\n                    variant: nextDisabled ? 'disabled' : 'default',\n                  })\n                )}\n                type=\"button\"\n              >\n                <ArrowRight />\n              </button>\n            </div>\n            <div className=\"flex\">\n              <button\n                className={cn(\n                  toolButtonVariants({\n                    variant: zoomOutDisabled ? 'disabled' : 'default',\n                  })\n                )}\n                {...zommOutProps}\n                type=\"button\"\n              >\n                <Minus className=\"size-4\" />\n              </button>\n              <div className=\"mx-px\">\n                {isEditingScale ? (\n                  <>\n                    <ScaleInput className=\"w-10 rounded px-1 text-slate-500 outline\" />{' '}\n                    <span>%</span>\n                  </>\n                ) : (\n                  <span {...scaleTextProps}>{scale * 100 + '%'}</span>\n                )}\n              </div>\n              <button\n                className={cn(\n                  toolButtonVariants({\n                    variant: zoomInDisabled ? 'disabled' : 'default',\n                  })\n                )}\n                {...zoomInProps}\n                type=\"button\"\n              >\n                <Plus className=\"size-4\" />\n              </button>\n            </div>\n            {/* TODO: downLoad the image */}\n            <button className={cn(toolButtonVariants())} type=\"button\">\n              <Download className=\"size-4\" />\n            </button>\n            <button\n              {...closeProps}\n              className={cn(toolButtonVariants())}\n              type=\"button\"\n            >\n              <X className=\"size-4\" />\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport function ScaleInput(props: React.ComponentProps<'input'>) {\n  const { props: scaleInputProps, ref } = useScaleInput();\n\n  return <input {...scaleInputProps} {...props} ref={ref} />;\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport { toast } from 'sonner';\n\nimport {\n  PlaceholderPlugin,\n  UploadErrorCode,\n} from '@udecode/plate-media/react';\nimport { usePluginOption } from '@udecode/plate/react';\n\nexport const useUploadErrorToast:any = () => {\n  const uploadError = usePluginOption(PlaceholderPlugin, 'error');\n\n  React.useEffect(() => {\n    if (!uploadError) return;\n\n    const { code, data } = uploadError;\n\n    switch (code) {\n      case UploadErrorCode.INVALID_FILE_SIZE: {\n        toast.error(\n          `The size of files ${data.files\n            .map((f) => f.name)\n            .join(', ')} is invalid`\n        );\n\n        break;\n      }\n      case UploadErrorCode.INVALID_FILE_TYPE: {\n        toast.error(\n          `The type of files ${data.files\n            .map((f) => f.name)\n            .join(', ')} is invalid`\n        );\n\n        break;\n      }\n      case UploadErrorCode.TOO_LARGE: {\n        toast.error(\n          `The size of files ${data.files\n            .map((f) => f.name)\n            .join(', ')} is too large than ${data.maxFileSize}`\n        );\n\n        break;\n      }\n      case UploadErrorCode.TOO_LESS_FILES: {\n        toast.error(\n          `The mini um number of files is ${data.minFileCount} for ${data.fileType}`\n        );\n\n        break;\n      }\n      case UploadErrorCode.TOO_MANY_FILES: {\n        toast.error(\n          `The maximum number of files is ${data.maxFileCount} ${\n            data.fileType ? `for ${data.fileType}` : ''\n          }`\n        );\n\n        break;\n      }\n    }\n  }, [uploadError]);\n};\n\nexport const MediaUploadToast:any = () => {\n  useUploadErrorToast();\n\n  return null;\n};\n","'use client';\n\nimport { MentionPlugin } from '@udecode/plate-mention/react';\n\nexport const mentionPlugin:any = MentionPlugin.configure({\n  options: { triggerPreviousCharPattern: /^$|^[\\s\"']$/ },\n});\n","'use client';\n\nimport { BlockquotePlugin } from '@udecode/plate-block-quote/react';\nimport { CalloutPlugin } from '@udecode/plate-callout/react';\nimport {\n  isCodeBlockEmpty,\n  isSelectionAtCodeBlockStart,\n  unwrapCodeBlock,\n} from '@udecode/plate-code-block';\nimport { CodeBlockPlugin } from '@udecode/plate-code-block/react';\nimport { HEADING_LEVELS } from '@udecode/plate-heading';\nimport {\n  INDENT_LIST_KEYS,\n  ListStyleType,\n} from '@udecode/plate-indent-list';\nimport { ResetNodePlugin } from '@udecode/plate-reset-node/react';\nimport { ParagraphPlugin } from '@udecode/plate/react';\n\nexport const resetBlockTypesCommonRule:any = {\n  defaultType: ParagraphPlugin.key,\n  types: [\n    ...HEADING_LEVELS,\n    BlockquotePlugin.key,\n    INDENT_LIST_KEYS.todo,\n    ListStyleType.Disc,\n    ListStyleType.Decimal,\n    CalloutPlugin.key,\n  ],\n};\n\nexport const resetBlockTypesCodeBlockRule:any = {\n  defaultType: ParagraphPlugin.key,\n  types: [CodeBlockPlugin.key],\n  onReset: unwrapCodeBlock,\n};\n\nexport const resetBlockTypePlugin:any = ResetNodePlugin.configure({\n  options: {\n    rules: [\n      {\n        ...resetBlockTypesCommonRule,\n        hotkey: 'Enter',\n        predicate: (editor) =>\n          editor.api.isEmpty(editor.selection, { block: true }),\n      },\n      {\n        ...resetBlockTypesCommonRule,\n        hotkey: 'Backspace',\n        predicate: (editor) => editor.api.isAt({ start: true }),\n      },\n      {\n        ...resetBlockTypesCodeBlockRule,\n        hotkey: 'Enter',\n        predicate: isCodeBlockEmpty,\n      },\n      {\n        ...resetBlockTypesCodeBlockRule,\n        hotkey: 'Backspace',\n        predicate: isSelectionAtCodeBlockStart,\n      },\n    ],\n  },\n});\n","'use client';\n\nimport {\n  CodePlugin,\n  SkipMarkPlugin,\n} from '@udecode/plate-basic-marks/react';\nimport { CommentsPlugin } from '@udecode/plate-comments/react';\nimport { SuggestionPlugin } from '@udecode/plate-suggestion/react';\n\nexport const skipMarkPlugin:any = SkipMarkPlugin.configure({\n  options: {\n    query: {\n      allow: [SuggestionPlugin.key, CodePlugin.key, CommentsPlugin.key],\n    },\n  },\n});\n","'use client';\n\nimport { BlockquotePlugin } from '@udecode/plate-block-quote/react';\nimport { SoftBreakPlugin } from '@udecode/plate-break/react';\nimport { CalloutPlugin } from '@udecode/plate-callout/react';\nimport { CodeBlockPlugin } from '@udecode/plate-code-block/react';\nimport {\n  TableCellHeaderPlugin,\n  TableCellPlugin,\n} from '@udecode/plate-table/react';\n\nexport const softBreakPlugin:any = SoftBreakPlugin.configure({\n  options: {\n    rules: [\n      { hotkey: 'shift+enter' },\n      {\n        hotkey: 'enter',\n        query: {\n          allow: [\n            CodeBlockPlugin.key,\n            BlockquotePlugin.key,\n            TableCellPlugin.key,\n            TableCellHeaderPlugin.key,\n            CalloutPlugin.key,\n          ],\n        },\n      },\n    ],\n  },\n});\n","'use client';\n\nimport { TablePlugin } from '@udecode/plate-table/react';\n\nexport const tablePlugin:any = TablePlugin.configure({\n  options: {},\n});\n","'use client';\n\nimport { TocPlugin } from '@udecode/plate-heading/react';\n\nexport const tocPlugin:any = TocPlugin.configure({\n  options: {\n    // isScroll: true,\n    topOffset: 80,\n  },\n});\n","'use client';\n\nimport { createPlatePlugin } from '@udecode/plate/react';\n\nimport { PLUGIN_KEY } from '../core/use-create-editor';\nimport { FixedToolbar } from '../ui/fixed-toolbar';\nimport { FixedToolbarButtons } from '../ui/fixed-toolbar-buttons';\n\nexport const FixedToolbarPlugin:any = ({allows, classes}:{allows:PLUGIN_KEY[], classes?:{className?:string, groupClass?:string}}) => {\n  return createPlatePlugin({\n  key: 'fixed-toolbar',\n  render: {\n    beforeEditable: () => (\n      <FixedToolbar className={classes?.className || \"\"}>\n        <FixedToolbarButtons allows={allows} groupClass={classes?.groupClass || \"\"} />\n      </FixedToolbar>\n    ),\n  },\n});}","'use client';\n\nimport { cn } from '../../../libs/utils';\nimport { Toolbar } from './toolbar';\n\nexport function FixedToolbar(props: React.ComponentProps<typeof Toolbar>) {\n  return (\n    <Toolbar\n      {...props}\n      className={cn(\n        'sticky top-0 left-0 z-50 scrollbar-hide w-full justify-between overflow-x-auto rounded-t-lg border-b border-b-border bg-background/95 p-1 backdrop-blur-sm supports-backdrop-blur:bg-background/60',\n        props.className\n      )}\n    />\n  );\n}\n","import * as React from 'react';\n\nimport {\n  ArrowUpToLineIcon,\n  BaselineIcon,\n  BoldIcon,\n  Code2Icon,\n  HighlighterIcon,\n  ItalicIcon,\n  PaintBucketIcon,\n  StrikethroughIcon,\n  UnderlineIcon,\n  WandSparklesIcon,\n} from 'lucide-react';\n\nimport {\n  BoldPlugin,\n  CodePlugin,\n  ItalicPlugin,\n  StrikethroughPlugin,\n  UnderlinePlugin,\n} from '@udecode/plate-basic-marks/react';\nimport {\n  FontBackgroundColorPlugin,\n  FontColorPlugin,\n} from '@udecode/plate-font/react';\nimport { HighlightPlugin } from '@udecode/plate-highlight/react';\nimport {\n  AudioPlugin,\n  FilePlugin,\n  ImagePlugin,\n  VideoPlugin,\n} from '@udecode/plate-media/react';\nimport { useEditorReadOnly } from '@udecode/plate/react';\n\nimport { PLUGIN_KEY } from '../core/use-create-editor';\nimport { AIToolbarButton } from './ai-toolbar-button';\nimport { AlignDropdownMenu } from './align-dropdown-menu';\nimport { ColorDropdownMenu } from './color-dropdown-menu';\nimport { CommentToolbarButton } from './comment-toolbar-button';\nimport { EmojiDropdownMenu } from './emoji-dropdown-menu';\nimport { ExportToolbarButton } from './export-toolbar-button';\nimport { FontSizeToolbarButton } from './font-size-toolbar-button';\nimport {\n  RedoToolbarButton,\n  UndoToolbarButton,\n} from './history-toolbar-button';\nimport { ImportToolbarButton } from './import-toolbar-button';\nimport {\n  BulletedIndentListToolbarButton,\n  NumberedIndentListToolbarButton,\n} from './indent-list-toolbar-button';\nimport { IndentTodoToolbarButton } from './indent-todo-toolbar-button';\nimport { IndentToolbarButton } from './indent-toolbar-button';\nimport { InsertDropdownMenu } from './insert-dropdown-menu';\nimport { LineHeightDropdownMenu } from './line-height-dropdown-menu';\nimport { LinkToolbarButton } from './link-toolbar-button';\nimport { MarkToolbarButton } from './mark-toolbar-button';\nimport { MediaToolbarButton } from './media-toolbar-button';\nimport { ModeDropdownMenu } from './mode-dropdown-menu';\nimport { MoreDropdownMenu } from './more-dropdown-menu';\nimport { OutdentToolbarButton } from './outdent-toolbar-button';\nimport { TableDropdownMenu } from './table-dropdown-menu';\nimport { ToggleToolbarButton } from './toggle-toolbar-button';\nimport { ToolbarGroup } from './toolbar';\nimport { TurnIntoDropdownMenu } from './turn-into-dropdown-menu';\n\n;\n\nexport function FixedToolbarButtons({allows, groupClass}:{allows:PLUGIN_KEY[], groupClass?:string}) {\n\tconst readOnly = useEditorReadOnly();\n\n\treturn (\n\t\t<>\n\t\t\t{!readOnly && (\n\t\t\t\t<>\n\t\t\t\t\t<ToolbarGroup className={groupClass || \"\"}>\n\t\t\t\t\t\t{allows.includes(\"undo\") && <UndoToolbarButton />}\n\t\t\t\t\t\t{allows.includes(\"redo\") && <RedoToolbarButton />}\n\t\t\t\t\t</ToolbarGroup>\n\n\t\t\t\t\t<ToolbarGroup className={groupClass || \"\"}>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tallows.includes(\"ai\") && <AIToolbarButton tooltip=\"AI commands\">\n\t\t\t\t\t\t\t<WandSparklesIcon />\n\t\t\t\t\t\t</AIToolbarButton>\n\t\t\t\t\t\t}\n\t\t\t\t\t</ToolbarGroup>\n\n\t\t\t\t\t<ToolbarGroup className={groupClass || \"\"}>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tallows.includes(\"export\") && <ExportToolbarButton>\n\t\t\t\t\t\t\t<ArrowUpToLineIcon />\n\t\t\t\t\t\t</ExportToolbarButton>\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tallows.includes(\"import\") && <ImportToolbarButton />\n\t\t\t\t\t\t}\n\n\t\t\t\t\t</ToolbarGroup>\n\n\t\t\t\t\t<ToolbarGroup className={groupClass || \"\"}>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tallows.includes(\"insert\") && <InsertDropdownMenu />\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tallows.includes(\"turn_into\") && <TurnIntoDropdownMenu />\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tallows.includes(\"font_size\") && <FontSizeToolbarButton />\n\t\t\t\t\t\t}\n\t\t\t\t\t</ToolbarGroup>\n\n\t\t\t\t\t<ToolbarGroup className={groupClass || \"\"}>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tallows.includes(\"bold\") && <MarkToolbarButton nodeType={BoldPlugin.key} tooltip=\"Bold (⌘+B)\">\n\t\t\t\t\t\t\t\t<BoldIcon />\n\t\t\t\t\t\t\t</MarkToolbarButton>\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tallows.includes(\"italic\") && <MarkToolbarButton nodeType={ItalicPlugin.key} tooltip=\"Italic (⌘+I)\">\n\t\t\t\t\t\t\t\t<ItalicIcon />\n\t\t\t\t\t\t\t</MarkToolbarButton>\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tallows.includes(\"underline\") && <MarkToolbarButton nodeType={UnderlinePlugin.key} tooltip=\"Underline (⌘+U)\">\n\t\t\t\t\t\t\t\t<UnderlineIcon />\n\t\t\t\t\t\t\t</MarkToolbarButton>\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tallows.includes(\"strikethrough\") && <MarkToolbarButton nodeType={StrikethroughPlugin.key} tooltip=\"Strikethrough (⌘+⇧+M)\">\n\t\t\t\t\t\t\t\t<StrikethroughIcon />\n\t\t\t\t\t\t\t</MarkToolbarButton>\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tallows.includes(\"code\") && <MarkToolbarButton nodeType={CodePlugin.key} tooltip=\"Code (⌘+E)\">\n\t\t\t\t\t\t\t\t<Code2Icon />\n\t\t\t\t\t\t\t</MarkToolbarButton>\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tallows.includes(\"font_color\") && <ColorDropdownMenu nodeType={FontColorPlugin.key} tooltip=\"Text color\">\n\t\t\t\t\t\t\t\t<BaselineIcon />\n\t\t\t\t\t\t\t</ColorDropdownMenu>\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tallows.includes(\"background_color\") && <ColorDropdownMenu nodeType={FontBackgroundColorPlugin.key} tooltip=\"Background color\">\n\t\t\t\t\t\t\t\t<PaintBucketIcon />\n\t\t\t\t\t\t\t</ColorDropdownMenu>\n\t\t\t\t\t\t}\n\t\t\t\t\t</ToolbarGroup>\n\n\t\t\t\t\t<ToolbarGroup className={groupClass || \"\"}>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tallows.includes(\"align\") && <AlignDropdownMenu />\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tallows.includes(\"indent_list\") && <NumberedIndentListToolbarButton />\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tallows.includes(\"bulleted_list\") && <BulletedIndentListToolbarButton />\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tallows.includes(\"indent_todo\") && <IndentTodoToolbarButton />\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tallows.includes(\"toggle\") && <ToggleToolbarButton />\n\t\t\t\t\t\t}\n\n\t\t\t\t\t</ToolbarGroup>\n\n\t\t\t\t\t<ToolbarGroup className={groupClass || \"\"}>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tallows.includes(\"link\") && <LinkToolbarButton />\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tallows.includes(\"table\") && <TableDropdownMenu />\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tallows.includes(\"emoji\") && <EmojiDropdownMenu />\n\t\t\t\t\t\t}\n\t\t\t\t\t</ToolbarGroup>\n\n\t\t\t\t\t<ToolbarGroup className={groupClass || \"\"}>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tallows.includes(\"image\") && <MediaToolbarButton nodeType={ImagePlugin.key} />\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tallows.includes(\"video\") && <MediaToolbarButton nodeType={VideoPlugin.key} />\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tallows.includes(\"audio\") && <MediaToolbarButton nodeType={AudioPlugin.key} />\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tallows.includes(\"file\") && <MediaToolbarButton nodeType={FilePlugin.key} />\n\t\t\t\t\t\t}\n\t\t\t\t\t</ToolbarGroup>\n\n\t\t\t\t\t<ToolbarGroup className={groupClass || \"\"}>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tallows.includes(\"line_height\") && <LineHeightDropdownMenu />\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tallows.includes(\"outdent\") && <OutdentToolbarButton />\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tallows.includes(\"indent\") && <IndentToolbarButton />\n\t\t\t\t\t\t}\n\t\t\t\t\t</ToolbarGroup>\n\n\t\t\t\t\t<ToolbarGroup className={groupClass || \"\"}>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tallows.includes(\"more\") && <MoreDropdownMenu />\n\t\t\t\t\t\t}\n\t\t\t\t\t</ToolbarGroup>\n\t\t\t\t</>\n\t\t\t)}\n\n\t\t\t<div className=\"grow\" />\n\n\t\t\t<ToolbarGroup className={groupClass || \"\"}>\n\t\t\t\t{\n\t\t\t\t\tallows.includes(\"highlight\") && <MarkToolbarButton nodeType={HighlightPlugin.key} tooltip=\"Highlight\">\n\t\t\t\t\t\t<HighlighterIcon />\n\t\t\t\t\t</MarkToolbarButton>\n\t\t\t\t}\n\t\t\t\t{\n\t\t\t\t\tallows.includes(\"comment\") && <CommentToolbarButton />\n\t\t\t\t}\n\t\t\t</ToolbarGroup>\n\n\t\t\t<ToolbarGroup className={groupClass || \"\"}>\n\t\t\t\t{\n\t\t\t\t\tallows.includes(\"mode\") && <ModeDropdownMenu />\n\t\t\t\t}\n\t\t\t</ToolbarGroup>\n\t\t</>\n\t);\n}","'use client';\n\nimport * as React from 'react';\n\nimport { AIChatPlugin } from '@udecode/plate-ai/react';\nimport { useEditorPlugin } from '@udecode/plate/react';\n\nimport { ToolbarButton } from './toolbar';\n\nexport function AIToolbarButton(\n  props: React.ComponentProps<typeof ToolbarButton>\n) {\n  const { api } = useEditorPlugin(AIChatPlugin);\n\n  return (\n    <ToolbarButton\n      {...props}\n      onClick={() => {\n        api.aiChat.show();\n      }}\n      onMouseDown={(e) => {\n        e.preventDefault();\n      }}\n    />\n  );\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport {\n  AlignCenterIcon,\n  AlignJustifyIcon,\n  AlignLeftIcon,\n  AlignRightIcon,\n} from 'lucide-react';\n\nimport type { DropdownMenuProps } from '@radix-ui/react-dropdown-menu';\nimport {\n  type Alignment,\n  setAlign,\n} from '@udecode/plate-alignment';\nimport {\n  useEditorRef,\n  useSelectionFragmentProp,\n} from '@udecode/plate/react';\n\nimport { STRUCTURAL_TYPES } from '../core/transforms';\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuRadioGroup,\n  DropdownMenuRadioItem,\n  DropdownMenuTrigger,\n} from './dropdown-menu';\nimport { ToolbarButton } from './toolbar';\n\nconst items = [\n  {\n    icon: AlignLeftIcon,\n    value: 'left',\n  },\n  {\n    icon: AlignCenterIcon,\n    value: 'center',\n  },\n  {\n    icon: AlignRightIcon,\n    value: 'right',\n  },\n  {\n    icon: AlignJustifyIcon,\n    value: 'justify',\n  },\n];\n\nexport function AlignDropdownMenu(props: DropdownMenuProps) {\n  const editor = useEditorRef();\n  const value = useSelectionFragmentProp({\n    defaultValue: 'start',\n    structuralTypes: STRUCTURAL_TYPES,\n    getProp: (node) => node.align,\n  });\n\n  const [open, setOpen] = React.useState(false);\n  const IconValue =\n    items.find((item) => item.value === value)?.icon ?? AlignLeftIcon;\n\n  return (\n    <DropdownMenu open={open} onOpenChange={setOpen} modal={false} {...props}>\n      <DropdownMenuTrigger asChild>\n        <ToolbarButton pressed={open} tooltip=\"Align\" isDropdown>\n          <IconValue />\n        </ToolbarButton>\n      </DropdownMenuTrigger>\n\n      <DropdownMenuContent className=\"min-w-0\" align=\"start\">\n        <DropdownMenuRadioGroup\n          value={value}\n          onValueChange={(value) => {\n            setAlign(editor, { value: value as Alignment });\n            editor.tf.focus();\n          }}\n        >\n          {items.map(({ icon: Icon, value: itemValue }) => (\n            <DropdownMenuRadioItem\n              key={itemValue}\n              className=\"pl-2 *:first:[span]:hidden\"\n              value={itemValue}\n            >\n              <Icon />\n            </DropdownMenuRadioItem>\n          ))}\n        </DropdownMenuRadioGroup>\n      </DropdownMenuContent>\n    </DropdownMenu>\n  );\n}\n","'use client';\n\nimport type { DropdownMenuProps } from '@radix-ui/react-dropdown-menu';\nimport {\n  useColorDropdownMenu,\n  useColorDropdownMenuState,\n} from '@udecode/plate-font/react';\n\nimport {\n  DEFAULT_COLORS,\n  DEFAULT_CUSTOM_COLORS,\n} from './color-constants';\nimport { ColorPicker } from './color-picker';\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuTrigger,\n} from './dropdown-menu';\nimport { ToolbarButton } from './toolbar';\n\nexport type ColorDropdownMenuProps = {\n  nodeType: string;\n  tooltip?: string;\n} & DropdownMenuProps;\n\nexport function ColorDropdownMenu({\n  children,\n  nodeType,\n  tooltip,\n}: ColorDropdownMenuProps) {\n  const state = useColorDropdownMenuState({\n    closeOnSelect: true,\n    colors: DEFAULT_COLORS,\n    customColors: DEFAULT_CUSTOM_COLORS,\n    nodeType,\n  });\n\n  const { buttonProps, menuProps } = useColorDropdownMenu(state);\n\n  return (\n    <DropdownMenu modal={false} {...menuProps}>\n      <DropdownMenuTrigger asChild>\n        <ToolbarButton tooltip={tooltip} {...buttonProps}>\n          {children}\n        </ToolbarButton>\n      </DropdownMenuTrigger>\n\n      <DropdownMenuContent align=\"start\">\n        <ColorPicker\n          color={state.selectedColor || state.color}\n          clearColor={state.clearColor}\n          colors={state.colors}\n          customColors={state.customColors}\n          updateColor={state.updateColorAndClose}\n          updateCustomColor={state.updateColor}\n        />\n      </DropdownMenuContent>\n    </DropdownMenu>\n  );\n}\n","export const DEFAULT_COLORS:any[] = [\n  {\n    isBrightColor: false,\n    name: 'black',\n    value: '#000000',\n  },\n  {\n    isBrightColor: false,\n    name: 'dark grey 4',\n    value: '#434343',\n  },\n  {\n    isBrightColor: false,\n    name: 'dark grey 3',\n    value: '#666666',\n  },\n  {\n    isBrightColor: false,\n    name: 'dark grey 2',\n    value: '#999999',\n  },\n  {\n    isBrightColor: false,\n    name: 'dark grey 1',\n    value: '#B7B7B7',\n  },\n  {\n    isBrightColor: false,\n    name: 'grey',\n    value: '#CCCCCC',\n  },\n  {\n    isBrightColor: false,\n    name: 'light grey 1',\n    value: '#D9D9D9',\n  },\n  {\n    isBrightColor: true,\n    name: 'light grey 2',\n    value: '#EFEFEF',\n  },\n  {\n    isBrightColor: true,\n    name: 'light grey 3',\n    value: '#F3F3F3',\n  },\n  {\n    isBrightColor: true,\n    name: 'white',\n    value: '#FFFFFF',\n  },\n  {\n    isBrightColor: false,\n    name: 'red berry',\n    value: '#980100',\n  },\n  {\n    isBrightColor: false,\n    name: 'red',\n    value: '#FE0000',\n  },\n  {\n    isBrightColor: false,\n    name: 'orange',\n    value: '#FE9900',\n  },\n  {\n    isBrightColor: true,\n    name: 'yellow',\n    value: '#FEFF00',\n  },\n  {\n    isBrightColor: false,\n    name: 'green',\n    value: '#00FF00',\n  },\n  {\n    isBrightColor: false,\n    name: 'cyan',\n    value: '#00FFFF',\n  },\n  {\n    isBrightColor: false,\n    name: 'cornflower blue',\n    value: '#4B85E8',\n  },\n  {\n    isBrightColor: false,\n    name: 'blue',\n    value: '#1300FF',\n  },\n  {\n    isBrightColor: false,\n    name: 'purple',\n    value: '#9900FF',\n  },\n  {\n    isBrightColor: false,\n    name: 'magenta',\n    value: '#FF00FF',\n  },\n\n  {\n    isBrightColor: false,\n    name: 'light red berry 3',\n    value: '#E6B8AF',\n  },\n  {\n    isBrightColor: false,\n    name: 'light red 3',\n    value: '#F4CCCC',\n  },\n  {\n    isBrightColor: true,\n    name: 'light orange 3',\n    value: '#FCE4CD',\n  },\n  {\n    isBrightColor: true,\n    name: 'light yellow 3',\n    value: '#FFF2CC',\n  },\n  {\n    isBrightColor: true,\n    name: 'light green 3',\n    value: '#D9EAD3',\n  },\n  {\n    isBrightColor: false,\n    name: 'light cyan 3',\n    value: '#D0DFE3',\n  },\n  {\n    isBrightColor: false,\n    name: 'light cornflower blue 3',\n    value: '#C9DAF8',\n  },\n  {\n    isBrightColor: true,\n    name: 'light blue 3',\n    value: '#CFE1F3',\n  },\n  {\n    isBrightColor: true,\n    name: 'light purple 3',\n    value: '#D9D2E9',\n  },\n  {\n    isBrightColor: true,\n    name: 'light magenta 3',\n    value: '#EAD1DB',\n  },\n\n  {\n    isBrightColor: false,\n    name: 'light red berry 2',\n    value: '#DC7E6B',\n  },\n  {\n    isBrightColor: false,\n    name: 'light red 2',\n    value: '#EA9999',\n  },\n  {\n    isBrightColor: false,\n    name: 'light orange 2',\n    value: '#F9CB9C',\n  },\n  {\n    isBrightColor: true,\n    name: 'light yellow 2',\n    value: '#FFE598',\n  },\n  {\n    isBrightColor: false,\n    name: 'light green 2',\n    value: '#B7D6A8',\n  },\n  {\n    isBrightColor: false,\n    name: 'light cyan 2',\n    value: '#A1C4C9',\n  },\n  {\n    isBrightColor: false,\n    name: 'light cornflower blue 2',\n    value: '#A4C2F4',\n  },\n  {\n    isBrightColor: false,\n    name: 'light blue 2',\n    value: '#9FC5E8',\n  },\n  {\n    isBrightColor: false,\n    name: 'light purple 2',\n    value: '#B5A7D5',\n  },\n  {\n    isBrightColor: false,\n    name: 'light magenta 2',\n    value: '#D5A6BD',\n  },\n\n  {\n    isBrightColor: false,\n    name: 'light red berry 1',\n    value: '#CC4125',\n  },\n  {\n    isBrightColor: false,\n    name: 'light red 1',\n    value: '#E06666',\n  },\n  {\n    isBrightColor: false,\n    name: 'light orange 1',\n    value: '#F6B26B',\n  },\n  {\n    isBrightColor: false,\n    name: 'light yellow 1',\n    value: '#FFD966',\n  },\n  {\n    isBrightColor: false,\n    name: 'light green 1',\n    value: '#93C47D',\n  },\n  {\n    isBrightColor: false,\n    name: 'light cyan 1',\n    value: '#76A5AE',\n  },\n  {\n    isBrightColor: false,\n    name: 'light cornflower blue 1',\n    value: '#6C9EEB',\n  },\n  {\n    isBrightColor: false,\n    name: 'light blue 1',\n    value: '#6FA8DC',\n  },\n  {\n    isBrightColor: false,\n    name: 'light purple 1',\n    value: '#8D7CC3',\n  },\n  {\n    isBrightColor: false,\n    name: 'light magenta 1',\n    value: '#C27BA0',\n  },\n\n  {\n    isBrightColor: false,\n    name: 'dark red berry 1',\n    value: '#A61B00',\n  },\n  {\n    isBrightColor: false,\n    name: 'dark red 1',\n    value: '#CC0000',\n  },\n  {\n    isBrightColor: false,\n    name: 'dark orange 1',\n    value: '#E59138',\n  },\n  {\n    isBrightColor: false,\n    name: 'dark yellow 1',\n    value: '#F1C231',\n  },\n  {\n    isBrightColor: false,\n    name: 'dark green 1',\n    value: '#6AA74F',\n  },\n  {\n    isBrightColor: false,\n    name: 'dark cyan 1',\n    value: '#45818E',\n  },\n  {\n    isBrightColor: false,\n    name: 'dark cornflower blue 1',\n    value: '#3B78D8',\n  },\n  {\n    isBrightColor: false,\n    name: 'dark blue 1',\n    value: '#3E84C6',\n  },\n  {\n    isBrightColor: false,\n    name: 'dark purple 1',\n    value: '#664EA6',\n  },\n  {\n    isBrightColor: false,\n    name: 'dark magenta 1',\n    value: '#A64D78',\n  },\n\n  {\n    isBrightColor: false,\n    name: 'dark red berry 2',\n    value: '#84200D',\n  },\n  {\n    isBrightColor: false,\n    name: 'dark red 2',\n    value: '#990001',\n  },\n  {\n    isBrightColor: false,\n    name: 'dark orange 2',\n    value: '#B45F05',\n  },\n  {\n    isBrightColor: false,\n    name: 'dark yellow 2',\n    value: '#BF9002',\n  },\n  {\n    isBrightColor: false,\n    name: 'dark green 2',\n    value: '#38761D',\n  },\n  {\n    isBrightColor: false,\n    name: 'dark cyan 2',\n    value: '#124F5C',\n  },\n  {\n    isBrightColor: false,\n    name: 'dark cornflower blue 2',\n    value: '#1155CB',\n  },\n  {\n    isBrightColor: false,\n    name: 'dark blue 2',\n    value: '#0C5394',\n  },\n  {\n    isBrightColor: false,\n    name: 'dark purple 2',\n    value: '#351C75',\n  },\n  {\n    isBrightColor: false,\n    name: 'dark magenta 2',\n    value: '#741B47',\n  },\n\n  {\n    isBrightColor: false,\n    name: 'dark red berry 3',\n    value: '#5B0F00',\n  },\n  {\n    isBrightColor: false,\n    name: 'dark red 3',\n    value: '#660000',\n  },\n  {\n    isBrightColor: false,\n    name: 'dark orange 3',\n    value: '#783F04',\n  },\n  {\n    isBrightColor: false,\n    name: 'dark yellow 3',\n    value: '#7E6000',\n  },\n  {\n    isBrightColor: false,\n    name: 'dark green 3',\n    value: '#274E12',\n  },\n  {\n    isBrightColor: false,\n    name: 'dark cyan 3',\n    value: '#0D343D',\n  },\n  {\n    isBrightColor: false,\n    name: 'dark cornflower blue 3',\n    value: '#1B4487',\n  },\n  {\n    isBrightColor: false,\n    name: 'dark blue 3',\n    value: '#083763',\n  },\n  {\n    isBrightColor: false,\n    name: 'dark purple 3',\n    value: '#1F124D',\n  },\n  {\n    isBrightColor: false,\n    name: 'dark magenta 3',\n    value: '#4C1130',\n  },\n];\n\nexport const DEFAULT_CUSTOM_COLORS = [\n  {\n    isBrightColor: false,\n    name: 'dark orange 3',\n    value: '#783F04',\n  },\n  {\n    isBrightColor: false,\n    name: 'dark grey 3',\n    value: '#666666',\n  },\n  {\n    isBrightColor: false,\n    name: 'dark grey 2',\n    value: '#999999',\n  },\n  {\n    isBrightColor: false,\n    name: 'light cornflower blue 1',\n    value: '#6C9EEB',\n  },\n  {\n    isBrightColor: false,\n    name: 'dark magenta 3',\n    value: '#4C1130',\n  },\n];\n","'use client';\n\nimport * as React from 'react';\n\nimport { EraserIcon } from 'lucide-react';\n\nimport { cn } from '../../../libs/utils';\nimport {\n  ColorDropdownMenuItems,\n  type TColor,\n} from './color-dropdown-menu-items';\nimport { ColorCustom } from './colors-custom';\nimport { DropdownMenuItem } from './dropdown-menu';\nimport { ToolbarMenuGroup } from './toolbar';\n\nexport type ColorPickerContentProps = React.ComponentProps<'div'> & {\n  colors: TColor[];\n  customColors: TColor[];\n  clearColor: () => void;\n  updateColor: (color: string) => void;\n  updateCustomColor: (color: string) => void;\n  color?: string;\n};\n\nexport function ColorPickerContent({\n  className,\n  clearColor,\n  color,\n  colors,\n  customColors,\n  updateColor,\n  updateCustomColor,\n  ...props\n}: ColorPickerContentProps) {\n  return (\n    <div className={cn('flex flex-col', className)} {...props}>\n      <ToolbarMenuGroup label=\"Custom Colors\">\n        <ColorCustom\n          color={color}\n          className=\"px-2\"\n          colors={colors}\n          customColors={customColors}\n          updateColor={updateColor}\n          updateCustomColor={updateCustomColor}\n        />\n      </ToolbarMenuGroup>\n      <ToolbarMenuGroup label=\"Default Colors\">\n        <ColorDropdownMenuItems\n          color={color}\n          className=\"px-2\"\n          colors={colors}\n          updateColor={updateColor}\n        />\n      </ToolbarMenuGroup>\n      {color && (\n        <ToolbarMenuGroup>\n          <DropdownMenuItem className=\"p-2\" onClick={clearColor}>\n            <EraserIcon />\n            <span>Clear</span>\n          </DropdownMenuItem>\n        </ToolbarMenuGroup>\n      )}\n    </div>\n  );\n}\n\nexport const ColorPicker:any = React.memo(\n  ColorPickerContent,\n  (prev, next) =>\n    prev.color === next.color &&\n    prev.colors === next.colors &&\n    prev.customColors === next.customColors\n);\n","'use client';\n\nimport * as React from 'react';\n\nimport type { DropdownMenuItemProps } from '@radix-ui/react-dropdown-menu';\n\nimport { cn } from '../../../libs/utils';\nimport { buttonVariants } from './button';\nimport { DropdownMenuItem } from './dropdown-menu';\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipProvider,\n  TooltipTrigger,\n} from './tooltip';\n\nexport type TColor = {\n  isBrightColor: boolean;\n  name: string;\n  value: string;\n};\n\nexport type ColorDropdownMenuItemProps = {\n  isBrightColor: boolean;\n  isSelected: boolean;\n  value: string;\n  updateColor: (color: string) => void;\n  name?: string;\n} & DropdownMenuItemProps;\n\nexport function ColorDropdownMenuItem({\n  className,\n  isBrightColor,\n  isSelected,\n  name,\n  updateColor,\n  value,\n  ...props\n}: ColorDropdownMenuItemProps) {\n  const content = (\n    <DropdownMenuItem\n      className={cn(\n        buttonVariants({\n          size: 'icon',\n          variant: 'outline',\n        }),\n        'my-1 flex size-6 items-center justify-center rounded-full border border-solid border-muted p-0 transition-all hover:scale-125',\n        !isBrightColor && 'border-transparent',\n        isSelected && 'border-2 border-primary',\n        className\n      )}\n      style={{ backgroundColor: value }}\n      onSelect={(e) => {\n        e.preventDefault();\n        updateColor(value);\n      }}\n      {...props}\n    />\n  );\n\n  return name ? (\n    <Tooltip>\n      <TooltipTrigger>{content}</TooltipTrigger>\n      <TooltipContent className=\"mb-1 capitalize\">{name}</TooltipContent>\n    </Tooltip>\n  ) : (\n    content\n  );\n}\n\ntype ColorDropdownMenuItemsProps = {\n  colors: TColor[];\n  updateColor: (color: string) => void;\n  color?: string;\n} & React.ComponentProps<'div'>;\n\nexport function ColorDropdownMenuItems({\n  className,\n  color,\n  colors,\n  updateColor,\n  ...props\n}: ColorDropdownMenuItemsProps) {\n  return (\n    <div\n      className={cn(\n        'grid grid-cols-[repeat(10,1fr)] place-items-center gap-x-1',\n        className\n      )}\n      {...props}\n    >\n      <TooltipProvider>\n        {colors.map(({ isBrightColor, name, value }) => (\n          <ColorDropdownMenuItem\n            name={name}\n            key={name ?? value}\n            value={value}\n            isBrightColor={isBrightColor}\n            isSelected={color === value}\n            updateColor={updateColor}\n          />\n        ))}\n        {props.children}\n      </TooltipProvider>\n    </div>\n  );\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport { PlusIcon } from 'lucide-react';\n\nimport {\n  useColorsCustom,\n  useColorsCustomState,\n} from '@udecode/plate-font/react';\n\nimport { cn } from '../../../libs/utils';\nimport { buttonVariants } from './button';\nimport {\n  ColorDropdownMenuItems,\n  type TColor,\n} from './color-dropdown-menu-items';\nimport { ColorInput } from './color-input';\n// import { ColorInput } from './color-input';\nimport { DropdownMenuItem } from './dropdown-menu';\n\nexport type ColorCustomProps = {\n  colors: TColor[];\n  customColors: TColor[];\n  updateColor: (color: string) => void;\n  updateCustomColor: (color: string) => void;\n  color?: string;\n} & React.ComponentPropsWithoutRef<'div'>;\n\nexport function ColorCustom({\n  className,\n  color,\n  colors,\n  customColors,\n  updateColor,\n  updateCustomColor,\n  ...props\n}: ColorCustomProps) {\n  const state = useColorsCustomState({\n    color,\n    colors,\n    customColors,\n    updateCustomColor,\n  });\n  const { inputProps, menuItemProps } = useColorsCustom(state);\n\n  return (\n    <div className={cn('relative flex flex-col gap-4', className)} {...props}>\n      <ColorDropdownMenuItems\n        color={color}\n        colors={state.computedColors}\n        updateColor={updateColor}\n      >\n        <ColorInput {...inputProps}>\n          <DropdownMenuItem\n            className={cn(\n              buttonVariants({\n                size: 'icon',\n                variant: 'outline',\n              }),\n              'absolute top-1 right-2 bottom-2 flex size-8 items-center justify-center rounded-full'\n            )}\n            {...menuItemProps}\n          >\n            <span className=\"sr-only\">Custom</span>\n            <PlusIcon />\n          </DropdownMenuItem>\n        </ColorInput>\n      </ColorDropdownMenuItems>\n    </div>\n  );\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport { useColorInput } from '@udecode/plate-font/react';\nimport { useComposedRef } from '@udecode/plate/react';\n\nimport { cn } from '../../../libs/utils';\n\nexport function ColorInput({\n  children,\n  className,\n  value = '#000000',\n  ...props\n}: React.ComponentProps<'input'>) {\n  const { childProps, inputRef } = useColorInput();\n\n  return (\n    <div className=\"flex flex-col items-center\">\n      {React.Children.map(children, (child) => {\n        if (!child) return child;\n\n        return React.cloneElement(child as React.ReactElement, childProps);\n      })}\n      <input\n        {...props}\n        ref={useComposedRef(props.ref, inputRef)}\n        className={cn('size-0 overflow-hidden border-0 p-0', className)}\n        value={value}\n        type=\"color\"\n      />\n    </div>\n  );\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport { MessageSquareTextIcon } from 'lucide-react';\n\nimport { getDraftCommentKey } from '@udecode/plate-comments';\nimport { useEditorPlugin } from '@udecode/plate/react';\n\nimport { commentsPlugin } from '../plugins/comments-plugin';\nimport { ToolbarButton } from './toolbar';\n\nexport function CommentToolbarButton() {\n  const { editor, setOption, tf } = useEditorPlugin(commentsPlugin);\n\n  const onCommentToolbarButton = React.useCallback(() => {\n    if (!editor.selection) return;\n\n    tf.comment.setDraft();\n    editor.tf.collapse();\n    setOption('activeId', getDraftCommentKey());\n    setOption('commentingBlock', editor.selection.focus.path.slice(0, 1));\n  }, [editor.selection, editor.tf, setOption, tf.comment]);\n\n  return (\n    <ToolbarButton\n      onClick={onCommentToolbarButton}\n      data-plate-prevent-overlay\n      tooltip=\"Comment\"\n    >\n      <MessageSquareTextIcon />\n    </ToolbarButton>\n  );\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport { Smile } from 'lucide-react';\n\nimport {\n  type EmojiDropdownMenuOptions,\n  useEmojiDropdownMenuState,\n} from '@udecode/plate-emoji/react';\n\nimport {\n  emojiCategoryIcons,\n  emojiSearchIcons,\n} from './emoji-icons';\nimport { EmojiPicker } from './emoji-picker';\nimport { EmojiToolbarDropdown } from './emoji-toolbar-dropdown';\nimport { ToolbarButton } from './toolbar';\n\nexport type EmojiDropdownMenuProps = {\n  options?: EmojiDropdownMenuOptions;\n} & React.ComponentPropsWithoutRef<typeof ToolbarButton>;\n\nexport function EmojiDropdownMenu({\n  options,\n  ...props\n}: EmojiDropdownMenuProps) {\n  const { emojiPickerState, isOpen, setIsOpen } =\n    useEmojiDropdownMenuState(options);\n\n  return (\n    <EmojiToolbarDropdown\n      control={\n        <ToolbarButton pressed={isOpen} tooltip=\"Emoji\" isDropdown {...props}>\n          <Smile />\n        </ToolbarButton>\n      }\n      isOpen={isOpen}\n      setIsOpen={setIsOpen}\n    >\n      <EmojiPicker\n        {...emojiPickerState}\n        icons={{\n          categories: emojiCategoryIcons,\n          search: emojiSearchIcons,\n        }}\n        isOpen={isOpen}\n        setIsOpen={setIsOpen}\n        settings={options?.settings}\n      />\n    </EmojiToolbarDropdown>\n  );\n}\n","import type React from 'react';\n\nimport {\n  AppleIcon,\n  ClockIcon,\n  CompassIcon,\n  FlagIcon,\n  LeafIcon,\n  LightbulbIcon,\n  MusicIcon,\n  SearchIcon,\n  SmileIcon,\n  StarIcon,\n  XIcon,\n} from 'lucide-react';\n\nimport type { EmojiCategoryList } from '@udecode/plate-emoji';\n\nexport const emojiCategoryIcons: Record<\n  EmojiCategoryList,\n  {\n    outline: React.ReactElement;\n    solid: React.ReactElement; // Needed to add another solid variant - outline will be used for now\n  }\n> = {\n  activity: {\n    outline: (\n      <svg\n        className=\"size-full\"\n        fill=\"none\"\n        stroke=\"currentColor\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n        strokeWidth=\"2\"\n        viewBox=\"0 0 24 24\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n      >\n        <circle cx=\"12\" cy=\"12\" r=\"10\" />\n        <path d=\"M2.1 13.4A10.1 10.1 0 0 0 13.4 2.1\" />\n        <path d=\"m5 4.9 14 14.2\" />\n        <path d=\"M21.9 10.6a10.1 10.1 0 0 0-11.3 11.3\" />\n      </svg>\n    ),\n    solid: (\n      <svg\n        className=\"size-full\"\n        fill=\"none\"\n        stroke=\"currentColor\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n        strokeWidth=\"2\"\n        viewBox=\"0 0 24 24\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n      >\n        <circle cx=\"12\" cy=\"12\" r=\"10\" />\n        <path d=\"M2.1 13.4A10.1 10.1 0 0 0 13.4 2.1\" />\n        <path d=\"m5 4.9 14 14.2\" />\n        <path d=\"M21.9 10.6a10.1 10.1 0 0 0-11.3 11.3\" />\n      </svg>\n    ),\n  },\n\n  custom: {\n    outline: <StarIcon className=\"size-full\" />,\n    solid: <StarIcon className=\"size-full\" />,\n  },\n\n  flags: {\n    outline: <FlagIcon className=\"size-full\" />,\n    solid: <FlagIcon className=\"size-full\" />,\n  },\n\n  foods: {\n    outline: <AppleIcon className=\"size-full\" />,\n    solid: <AppleIcon className=\"size-full\" />,\n  },\n\n  frequent: {\n    outline: <ClockIcon className=\"size-full\" />,\n    solid: <ClockIcon className=\"size-full\" />,\n  },\n\n  nature: {\n    outline: <LeafIcon className=\"size-full\" />,\n    solid: <LeafIcon className=\"size-full\" />,\n  },\n\n  objects: {\n    outline: <LightbulbIcon className=\"size-full\" />,\n    solid: <LightbulbIcon className=\"size-full\" />,\n  },\n\n  people: {\n    outline: <SmileIcon className=\"size-full\" />,\n    solid: <SmileIcon className=\"size-full\" />,\n  },\n\n  places: {\n    outline: <CompassIcon className=\"size-full\" />,\n    solid: <CompassIcon className=\"size-full\" />,\n  },\n\n  symbols: {\n    outline: <MusicIcon className=\"size-full\" />,\n    solid: <MusicIcon className=\"size-full\" />,\n  },\n};\n\nexport const emojiSearchIcons:any = {\n  delete: <XIcon className=\"size-4 text-current\" />,\n  loupe: <SearchIcon className=\"size-4 text-current\" />,\n};\n","'use client';\n\nimport * as React from 'react';\n\nimport { EmojiSettings } from '@udecode/plate-emoji';\nimport type { UseEmojiPickerType } from '@udecode/plate-emoji/react';\n\nimport { cn } from '../../../libs/utils';\nimport { EmojiPickerContent } from './emoji-picker-content';\nimport { EmojiPickerNavigation } from './emoji-picker-navigation';\nimport { EmojiPickerPreview } from './emoji-picker-preview';\nimport { EmojiPickerSearchAndClear } from './emoji-picker-search-and-clear';\nimport { EmojiPickerSearchBar } from './emoji-picker-search-bar';\n\nexport function EmojiPicker({\n  clearSearch,\n  emoji,\n  emojiLibrary,\n  focusedCategory,\n  hasFound,\n  i18n,\n  icons,\n  isSearching,\n  refs,\n  searchResult,\n  searchValue,\n  setSearch,\n  settings = EmojiSettings,\n  visibleCategories,\n  handleCategoryClick,\n  onMouseOver,\n  onSelectEmoji,\n}: UseEmojiPickerType) {\n  return (\n    <div\n      className={cn(\n        'flex flex-col rounded-xl bg-popover text-popover-foreground',\n        'h-[23rem] w-80 border shadow-md'\n      )}\n    >\n      <EmojiPickerNavigation\n        onClick={handleCategoryClick}\n        emojiLibrary={emojiLibrary}\n        focusedCategory={focusedCategory}\n        i18n={i18n}\n        icons={icons}\n      />\n      <EmojiPickerSearchBar\n        i18n={i18n}\n        searchValue={searchValue}\n        setSearch={setSearch}\n      >\n        <EmojiPickerSearchAndClear\n          clearSearch={clearSearch}\n          i18n={i18n}\n          searchValue={searchValue}\n        />\n      </EmojiPickerSearchBar>\n      <EmojiPickerContent\n        onMouseOver={onMouseOver}\n        onSelectEmoji={onSelectEmoji}\n        emojiLibrary={emojiLibrary}\n        i18n={i18n}\n        isSearching={isSearching}\n        refs={refs}\n        searchResult={searchResult}\n        settings={settings}\n        visibleCategories={visibleCategories}\n      />\n      <EmojiPickerPreview\n        emoji={emoji}\n        hasFound={hasFound}\n        i18n={i18n}\n        isSearching={isSearching}\n      />\n    </div>\n  );\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport {\n  type Emoji,\n  EmojiSettings,\n  type GridRow,\n} from '@udecode/plate-emoji';\nimport type { UseEmojiPickerType } from '@udecode/plate-emoji/react';\n\nimport { cn } from '../../../libs/utils';\n\nexport type EmojiButtonProps = {\n  emoji: Emoji;\n  index: number;\n  onMouseOver: (emoji?: Emoji) => void;\n  onSelect: (emoji: Emoji) => void;\n};\n\nexport type EmojiPickerContentProps = Pick<\n  UseEmojiPickerType,\n  | 'emojiLibrary'\n  | 'i18n'\n  | 'isSearching'\n  | 'onMouseOver'\n  | 'onSelectEmoji'\n  | 'refs'\n  | 'searchResult'\n  | 'settings'\n  | 'visibleCategories'\n>;\n\nexport type RowOfButtonsProps = {\n  row: GridRow;\n} & Pick<UseEmojiPickerType, 'emojiLibrary' | 'onMouseOver' | 'onSelectEmoji'>;\n\nconst Button:any = React.memo(\n  ({ emoji, index, onMouseOver, onSelect }: EmojiButtonProps) => {\n    return (\n      <button\n        className=\"group relative flex size-9 cursor-pointer items-center justify-center border-none bg-transparent text-2xl leading-none\"\n        onClick={() => onSelect(emoji)}\n        onMouseEnter={() => onMouseOver(emoji)}\n        onMouseLeave={() => onMouseOver()}\n        aria-label={emoji.skins[0].native}\n        data-index={index}\n        tabIndex={-1}\n        type=\"button\"\n      >\n        <div\n          className=\"absolute inset-0 rounded-full opacity-0 group-hover:opacity-100\"\n          aria-hidden=\"true\"\n        />\n        <span\n          className=\"relative\"\n          style={{\n            fontFamily:\n              '\"Apple Color Emoji\", \"Segoe UI Emoji\", NotoColorEmoji, \"Noto Color Emoji\", \"Segoe UI Symbol\", \"Android Emoji\", EmojiSymbols',\n          }}\n          data-emoji-set=\"native\"\n        >\n          {emoji.skins[0].native}\n        </span>\n      </button>\n    );\n  }\n);\nButton.displayName = 'Button';\n\nconst RowOfButtons:any = React.memo(\n  ({ emojiLibrary, row, onMouseOver, onSelectEmoji }: RowOfButtonsProps) => (\n    <div key={row.id} className=\"flex\" data-index={row.id}>\n      {row.elements.map((emojiId, index) => (\n        <Button\n          key={emojiId}\n          onMouseOver={onMouseOver}\n          onSelect={onSelectEmoji}\n          emoji={emojiLibrary.getEmoji(emojiId)}\n          index={index}\n        />\n      ))}\n    </div>\n  )\n);\nRowOfButtons.displayName = 'RowOfButtons';\n\nexport function EmojiPickerContent({\n  emojiLibrary,\n  i18n,\n  isSearching = false,\n  refs,\n  searchResult,\n  settings = EmojiSettings,\n  visibleCategories,\n  onMouseOver,\n  onSelectEmoji,\n}: EmojiPickerContentProps) {\n  const getRowWidth = settings.perLine.value * settings.buttonSize.value;\n\n  const isCategoryVisible = React.useCallback(\n    (categoryId: any) => {\n      return visibleCategories.has(categoryId)\n        ? visibleCategories.get(categoryId)\n        : false;\n    },\n    [visibleCategories]\n  );\n\n  const EmojiList = React.useCallback(() => {\n    return emojiLibrary\n      .getGrid()\n      .sections()\n      .map(({ id: categoryId }) => {\n        const section = emojiLibrary.getGrid().section(categoryId);\n        const { buttonSize } = settings;\n\n        return (\n          <div\n            key={categoryId}\n            ref={section.root}\n            style={{ width: getRowWidth }}\n            data-id={categoryId}\n          >\n            <div className=\"sticky -top-px z-1 bg-popover/90 p-1 py-2 text-sm font-semibold backdrop-blur-xs\">\n              {i18n.categories[categoryId]}\n            </div>\n            <div\n              className=\"relative flex flex-wrap\"\n              style={{ height: section.getRows().length * buttonSize.value }}\n            >\n              {isCategoryVisible(categoryId) &&\n                section\n                  .getRows()\n                  .map((row: GridRow) => (\n                    <RowOfButtons\n                      key={row.id}\n                      onMouseOver={onMouseOver}\n                      onSelectEmoji={onSelectEmoji}\n                      emojiLibrary={emojiLibrary}\n                      row={row}\n                    />\n                  ))}\n            </div>\n          </div>\n        );\n      });\n  }, [\n    emojiLibrary,\n    getRowWidth,\n    i18n.categories,\n    isCategoryVisible,\n    onSelectEmoji,\n    onMouseOver,\n    settings,\n  ]);\n\n  const SearchList = React.useCallback(() => {\n    return (\n      <div style={{ width: getRowWidth }} data-id=\"search\">\n        <div className=\"sticky -top-px z-1 bg-popover/90 p-1 py-2 text-sm font-semibold text-card-foreground backdrop-blur-xs\">\n          {i18n.searchResult}\n        </div>\n        <div className=\"relative flex flex-wrap\">\n          {searchResult.map((emoji: Emoji, index: number) => (\n            <Button\n              key={emoji.id}\n              onMouseOver={onMouseOver}\n              onSelect={onSelectEmoji}\n              emoji={emojiLibrary.getEmoji(emoji.id)}\n              index={index}\n            />\n          ))}\n        </div>\n      </div>\n    );\n  }, [\n    emojiLibrary,\n    getRowWidth,\n    i18n.searchResult,\n    searchResult,\n    onSelectEmoji,\n    onMouseOver,\n  ]);\n\n  return (\n    <div\n      ref={refs.current.contentRoot}\n      className={cn(\n        'h-full min-h-[50%] overflow-x-hidden overflow-y-auto px-2',\n        '[&::-webkit-scrollbar]:w-4',\n        '[&::-webkit-scrollbar-button]:hidden [&::-webkit-scrollbar-button]:size-0',\n        '[&::-webkit-scrollbar-thumb]:min-h-11 [&::-webkit-scrollbar-thumb]:rounded-full [&::-webkit-scrollbar-thumb]:bg-muted [&::-webkit-scrollbar-thumb]:hover:bg-muted-foreground/25',\n        '[&::-webkit-scrollbar-thumb]:border-4 [&::-webkit-scrollbar-thumb]:border-solid [&::-webkit-scrollbar-thumb]:border-popover [&::-webkit-scrollbar-thumb]:bg-clip-padding'\n      )}\n      data-id=\"scroll\"\n    >\n      <div ref={refs.current.content} className=\"h-full\">\n        {isSearching ? SearchList() : EmojiList()}\n      </div>\n    </div>\n  );\n}\n","import type { EmojiCategoryList } from '@udecode/plate-emoji';\nimport type { UseEmojiPickerType } from '@udecode/plate-emoji/react';\n\nimport { cn } from '../../../libs/utils';\nimport { Button } from './button';\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipProvider,\n  TooltipTrigger,\n} from './tooltip';\n\nexport type EmojiPickerNavigationProps = {\n  onClick: (id: EmojiCategoryList) => void;\n} & Pick<\n  UseEmojiPickerType,\n  'emojiLibrary' | 'focusedCategory' | 'i18n' | 'icons'\n>;\n\n// KEEP: This is for the animated idicator bar under the icon - Opt in if needed\n// const getBarProperty = (\n//   emojiLibrary: IEmojiFloatingLibrary,\n//   focusedCategory?: EmojiCategoryList\n// ) => {\n//   let width = 0;\n//   let position = 0;\n\n//   if (focusedCategory) {\n//     width = 100 / emojiLibrary.getGrid().size;\n//     position = focusedCategory\n//       ? emojiLibrary.indexOf(focusedCategory) * 100\n//       : 0;\n//   }\n\n//   return { position, width };\n// };\n\nexport function EmojiPickerNavigation({\n  emojiLibrary,\n  focusedCategory,\n  i18n,\n  icons,\n  onClick,\n}: EmojiPickerNavigationProps) {\n  // KEEP: This is for the animated idicator bar under the icon - Opt in if needed\n  // const { position, width } = useMemo(\n  //   () => getBarProperty(emojiLibrary, focusedCategory),\n  //   [emojiLibrary, focusedCategory]\n  // );\n\n  return (\n    <TooltipProvider delayDuration={500}>\n      <nav\n        id=\"emoji-nav\"\n        className=\"mb-2.5 border-0 border-b border-solid border-b-border p-1.5\"\n      >\n        <div className=\"relative flex items-center justify-evenly\">\n          {emojiLibrary\n            .getGrid()\n            .sections()\n            .map(({ id }) => (\n              <Tooltip key={id}>\n                <TooltipTrigger asChild>\n                  <Button\n                    size=\"sm\"\n                    variant=\"ghost\"\n                    className={cn(\n                      'h-fit rounded-full fill-current p-1.5 text-muted-foreground hover:bg-muted hover:text-muted-foreground',\n                      id === focusedCategory &&\n                        'pointer-events-none bg-accent fill-current text-accent-foreground'\n                    )}\n                    onClick={() => {\n                      onClick(id);\n                    }}\n                    aria-label={i18n.categories[id]}\n                    type=\"button\"\n                  >\n                    <span className=\"inline-flex size-5 items-center justify-center\">\n                      {icons.categories[id].outline}\n                    </span>\n                  </Button>\n                </TooltipTrigger>\n                <TooltipContent side=\"bottom\">\n                  {i18n.categories[id]}\n                </TooltipContent>\n              </Tooltip>\n            ))}\n\n          {/* This is the animated indicator - Opt In if needed */}\n          {/* <div\n            className={cn(\n              'absolute -bottom-1.5 left-0 h-0.5 w-full rounded-t-lg bg-accent opacity-100 transition-transform duration-200'\n            )}\n            style={{\n              transform: `translateX(${position}%)`,\n              visibility: `${focusedCategory ? 'visible' : 'hidden'}`,\n              width: `${width}%`,\n            }}\n          /> */}\n        </div>\n      </nav>\n    </TooltipProvider>\n  );\n}\n","'use client';\n\nimport type { UseEmojiPickerType } from '@udecode/plate-emoji/react';\n\nexport type EmojiPickerPreviewProps = Pick<\n  UseEmojiPickerType,\n  'emoji' | 'hasFound' | 'i18n' | 'isSearching'\n>;\n\nexport type EmojiPreviewProps = Pick<UseEmojiPickerType, 'emoji'>;\n\nexport type NoEmojiPreviewProps = Pick<UseEmojiPickerType, 'i18n'>;\n\nexport type PickAnEmojiPreviewProps = NoEmojiPreviewProps;\n\nfunction EmojiPreview({ emoji }: EmojiPreviewProps) {\n  return (\n    <div className=\"flex h-14 max-h-14 min-h-14 items-center border-t border-muted p-2\">\n      <div className=\"flex items-center justify-center text-2xl\">\n        {emoji?.skins[0].native}\n      </div>\n      <div className=\"overflow-hidden pl-2\">\n        <div className=\"truncate text-sm font-semibold\">{emoji?.name}</div>\n        <div className=\"truncate text-sm\">{`:${emoji?.id}:`}</div>\n      </div>\n    </div>\n  );\n}\n\nfunction NoEmoji({ i18n }: NoEmojiPreviewProps) {\n  return (\n    <div className=\"flex h-14 max-h-14 min-h-14 items-center border-t border-muted p-2\">\n      <div className=\"flex items-center justify-center text-2xl\">😢</div>\n      <div className=\"overflow-hidden pl-2\">\n        <div className=\"truncate text-sm font-bold\">\n          {i18n.searchNoResultsTitle}\n        </div>\n        <div className=\"truncate text-sm\">{i18n.searchNoResultsSubtitle}</div>\n      </div>\n    </div>\n  );\n}\n\nfunction PickAnEmoji({ i18n }: PickAnEmojiPreviewProps) {\n  return (\n    <div className=\"flex h-14 max-h-14 min-h-14 items-center border-t border-muted p-2\">\n      <div className=\"flex items-center justify-center text-2xl\">☝️</div>\n      <div className=\"overflow-hidden pl-2\">\n        <div className=\"truncate text-sm font-semibold\">{i18n.pick}</div>\n      </div>\n    </div>\n  );\n}\n\nexport function EmojiPickerPreview({\n  emoji,\n  hasFound = true,\n  i18n,\n  isSearching = false,\n  ...props\n}: EmojiPickerPreviewProps) {\n  const showPickEmoji = !emoji && (!isSearching || hasFound);\n  const showNoEmoji = isSearching && !hasFound;\n  const showPreview = emoji && !showNoEmoji && !showNoEmoji;\n\n  return (\n    <>\n      {showPreview && <EmojiPreview emoji={emoji} {...props} />}\n      {showPickEmoji && <PickAnEmoji i18n={i18n} {...props} />}\n      {showNoEmoji && <NoEmoji i18n={i18n} {...props} />}\n    </>\n  );\n}\n","'use client';\n\nimport type { UseEmojiPickerType } from '@udecode/plate-emoji/react';\n\nimport { cn } from '../../../libs/utils';\nimport { Button } from './button';\nimport { emojiSearchIcons } from './emoji-icons';\n\nexport type EmojiPickerSearchAndClearProps = Pick<\n  UseEmojiPickerType,\n  'clearSearch' | 'i18n' | 'searchValue'\n>;\n\nexport function EmojiPickerSearchAndClear({\n  clearSearch,\n  i18n,\n  searchValue,\n}: EmojiPickerSearchAndClearProps) {\n  return (\n    <div className=\"flex items-center text-foreground\">\n      <div\n        className={cn(\n          'absolute top-1/2 left-2.5 z-10 flex size-5 -translate-y-1/2 items-center justify-center text-foreground'\n        )}\n      >\n        {emojiSearchIcons.loupe}\n      </div>\n      {searchValue && (\n        <Button\n          size=\"icon\"\n          variant=\"ghost\"\n          className={cn(\n            'absolute top-1/2 right-0.5 flex size-8 -translate-y-1/2 cursor-pointer items-center justify-center rounded-full border-none bg-transparent text-popover-foreground hover:bg-transparent'\n          )}\n          onClick={clearSearch}\n          title={i18n.clear}\n          aria-label=\"Clear\"\n          type=\"button\"\n        >\n          {emojiSearchIcons.delete}\n        </Button>\n      )}\n    </div>\n  );\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport type { UseEmojiPickerType } from '@udecode/plate-emoji/react';\n\nexport type EmojiPickerSearchBarProps = {\n  children: React.ReactNode;\n} & Pick<UseEmojiPickerType, 'i18n' | 'searchValue' | 'setSearch'>;\n\nexport function EmojiPickerSearchBar({\n  children,\n  i18n,\n  searchValue,\n  setSearch,\n}: EmojiPickerSearchBarProps) {\n  return (\n    <div className=\"flex items-center px-2\">\n      <div className=\"relative flex grow items-center\">\n        <input\n          className=\"block w-full appearance-none rounded-full border-0 bg-muted px-10 py-2 text-sm outline-none placeholder:text-muted-foreground focus-visible:outline-none\"\n          value={searchValue}\n          onChange={(event) => setSearch(event.target.value)}\n          placeholder={i18n.search}\n          aria-label=\"Search\"\n          autoComplete=\"off\"\n          type=\"text\"\n          autoFocus\n        />\n        {children}\n      </div>\n    </div>\n  );\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport * as Popover from '@radix-ui/react-popover';\n\nexport type EmojiToolbarDropdownProps = {\n  children: React.ReactNode;\n  control: React.ReactNode;\n  isOpen: boolean;\n  setIsOpen: (open: boolean) => void;\n};\n\nexport function EmojiToolbarDropdown({\n  children,\n  control,\n  isOpen,\n  setIsOpen,\n}: EmojiToolbarDropdownProps) {\n  return (\n    <Popover.Root open={isOpen} onOpenChange={setIsOpen}>\n      <Popover.Trigger asChild>{control}</Popover.Trigger>\n\n      <Popover.Portal>\n        <Popover.Content className=\"z-100\">{children}</Popover.Content>\n      </Popover.Portal>\n    </Popover.Root>\n  );\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport html2canvas from 'html2canvas-pro'; // ✅ Named export\nimport {\n  all,\n  createLowlight,\n} from 'lowlight';\nimport { ArrowDownToLineIcon } from 'lucide-react';\n\nimport type { DropdownMenuProps } from '@radix-ui/react-dropdown-menu';\nimport { withProps } from '@udecode/cn';\nimport {\n  BaseParagraphPlugin,\n  createSlateEditor,\n  serializeHtml,\n  SlateLeaf,\n} from '@udecode/plate';\nimport { BaseAlignPlugin } from '@udecode/plate-alignment';\nimport {\n  BaseBoldPlugin,\n  BaseCodePlugin,\n  BaseItalicPlugin,\n  BaseStrikethroughPlugin,\n  BaseSubscriptPlugin,\n  BaseSuperscriptPlugin,\n  BaseUnderlinePlugin,\n} from '@udecode/plate-basic-marks';\nimport { BaseBlockquotePlugin } from '@udecode/plate-block-quote';\nimport {\n  BaseCodeBlockPlugin,\n  BaseCodeLinePlugin,\n  BaseCodeSyntaxPlugin,\n} from '@udecode/plate-code-block';\nimport { BaseCommentsPlugin } from '@udecode/plate-comments';\nimport { BaseDatePlugin } from '@udecode/plate-date';\nimport {\n  BaseFontBackgroundColorPlugin,\n  BaseFontColorPlugin,\n  BaseFontSizePlugin,\n} from '@udecode/plate-font';\nimport {\n  BaseHeadingPlugin,\n  BaseTocPlugin,\n  HEADING_KEYS,\n  HEADING_LEVELS,\n} from '@udecode/plate-heading';\nimport { BaseHighlightPlugin } from '@udecode/plate-highlight';\nimport { BaseHorizontalRulePlugin } from '@udecode/plate-horizontal-rule';\nimport { BaseIndentPlugin } from '@udecode/plate-indent';\nimport { BaseIndentListPlugin } from '@udecode/plate-indent-list';\nimport { BaseKbdPlugin } from '@udecode/plate-kbd';\nimport {\n  BaseColumnItemPlugin,\n  BaseColumnPlugin,\n} from '@udecode/plate-layout';\nimport { BaseLineHeightPlugin } from '@udecode/plate-line-height';\nimport { BaseLinkPlugin } from '@udecode/plate-link';\nimport { MarkdownPlugin } from '@udecode/plate-markdown';\nimport {\n  BaseEquationPlugin,\n  BaseInlineEquationPlugin,\n} from '@udecode/plate-math';\nimport {\n  BaseAudioPlugin,\n  BaseFilePlugin,\n  BaseImagePlugin,\n  BaseMediaEmbedPlugin,\n  BaseVideoPlugin,\n} from '@udecode/plate-media';\nimport { BaseMentionPlugin } from '@udecode/plate-mention';\nimport {\n  BaseTableCellHeaderPlugin,\n  BaseTableCellPlugin,\n  BaseTablePlugin,\n  BaseTableRowPlugin,\n} from '@udecode/plate-table';\nimport { BaseTogglePlugin } from '@udecode/plate-toggle';\nimport { useEditorRef } from '@udecode/plate/react';\n\nimport { BlockquoteElementStatic } from './blockquote-element-static';\nimport { CodeBlockElementStatic } from './code-block-element-static';\nimport { CodeLeafStatic } from './code-leaf-static';\nimport { CodeLineElementStatic } from './code-line-element-static';\nimport { CodeSyntaxLeafStatic } from './code-syntax-leaf-static';\nimport { ColumnElementStatic } from './column-element-static';\nimport { ColumnGroupElementStatic } from './column-group-element-static';\nimport { CommentLeafStatic } from './comment-leaf-static';\nimport { DateElementStatic } from './date-element-static';\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuGroup,\n  DropdownMenuItem,\n  DropdownMenuTrigger,\n} from './dropdown-menu';\nimport { EditorStatic } from './editor-static';\nimport { EquationElementStatic } from './equation-element-static';\nimport { HeadingElementStatic } from './heading-element-static';\nimport { HighlightLeafStatic } from './highlight-leaf-static';\nimport { HrElementStatic } from './hr-element-static';\nimport { ImageElementStatic } from './image-element-static';\nimport {\n  FireLiComponent,\n  FireMarker,\n} from './indent-fire-marker';\nimport {\n  TodoLiStatic,\n  TodoMarkerStatic,\n} from './indent-todo-marker-static';\nimport { InlineEquationElementStatic } from './inline-equation-element-static';\nimport { KbdLeafStatic } from './kbd-leaf-static';\nimport { LinkElementStatic } from './link-element-static';\nimport { MediaAudioElementStatic } from './media-audio-element-static';\nimport { MediaFileElementStatic } from './media-file-element-static';\nimport { MediaVideoElementStatic } from './media-video-element-static';\nimport { MentionElementStatic } from './mention-element-static';\nimport { ParagraphElementStatic } from './paragraph-element-static';\nimport {\n  TableCellElementStatic,\n  TableCellHeaderStaticElement,\n} from './table-cell-element-static';\nimport { TableElementStatic } from './table-element-static';\nimport { TableRowElementStatic } from './table-row-element-static';\nimport { TocElementStatic } from './toc-element-static';\nimport { ToggleElementStatic } from './toggle-element-static';\nimport { ToolbarButton } from './toolbar';\n\nconst siteUrl = process.env.WEBSITE_URL || 'https://platejs.org';\nconst lowlight = createLowlight(all);\n\nexport function ExportToolbarButton(props: DropdownMenuProps) {\n  const editor = useEditorRef();\n  const [open, setOpen] = React.useState(false);\n\n  const getCanvas = async () => {\n\n    const style = document.createElement('style');\n    document.head.append(style);\n\n    const canvas = await html2canvas(editor.api.toDOMNode(editor)!, {\n      onclone: (document: Document) => {\n        const editorElement = document.querySelector(\n          '[contenteditable=\"true\"]'\n        );\n        if (editorElement) {\n          Array.from(editorElement.querySelectorAll('*')).forEach((element) => {\n            const existingStyle = element.getAttribute('style') || '';\n            element.setAttribute(\n              'style',\n              `${existingStyle}; font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif !important`\n            );\n          });\n        }\n      },\n    });\n    style.remove();\n\n    return canvas;\n  };\n\n  const downloadFile = async (url: string, filename: string) => {\n    const response = await fetch(url);\n\n    const blob = await response.blob();\n    const blobUrl = window.URL.createObjectURL(blob);\n\n    const link = document.createElement('a');\n    link.href = blobUrl;\n    link.download = filename;\n    document.body.append(link);\n    link.click();\n    link.remove();\n\n    // Clean up the blob URL\n    window.URL.revokeObjectURL(blobUrl);\n  };\n\n  const exportToPdf = async () => {\n    const canvas = await getCanvas();\n\n    const PDFLib = await import('pdf-lib');\n    const pdfDoc = await PDFLib.PDFDocument.create();\n    const page = pdfDoc.addPage([canvas.width, canvas.height]);\n    const imageEmbed = await pdfDoc.embedPng(canvas.toDataURL('PNG'));\n    const { height, width } = imageEmbed.scale(1);\n    page.drawImage(imageEmbed, {\n      height,\n      width,\n      x: 0,\n      y: 0,\n    });\n    const pdfBase64 = await pdfDoc.saveAsBase64({ dataUri: true });\n\n    await downloadFile(pdfBase64, 'plate.pdf');\n  };\n\n  const exportToImage = async () => {\n    const canvas = await getCanvas();\n    await downloadFile(canvas.toDataURL('image/png'), 'plate.png');\n  };\n\n  const exportToHtml = async (type:\"copy\" | \"download\") => {\n    const components = {\n      [BaseAudioPlugin.key]: MediaAudioElementStatic,\n      [BaseBlockquotePlugin.key]: BlockquoteElementStatic,\n      [BaseBoldPlugin.key]: withProps(SlateLeaf, { as: 'strong' }),\n      [BaseCodeBlockPlugin.key]: CodeBlockElementStatic,\n      [BaseCodeLinePlugin.key]: CodeLineElementStatic,\n      [BaseCodePlugin.key]: CodeLeafStatic,\n      [BaseCodeSyntaxPlugin.key]: CodeSyntaxLeafStatic,\n      [BaseColumnItemPlugin.key]: ColumnElementStatic,\n      [BaseColumnPlugin.key]: ColumnGroupElementStatic,\n      [BaseCommentsPlugin.key]: CommentLeafStatic,\n      [BaseDatePlugin.key]: DateElementStatic,\n      [BaseEquationPlugin.key]: EquationElementStatic,\n      [BaseFilePlugin.key]: MediaFileElementStatic,\n      [BaseHighlightPlugin.key]: HighlightLeafStatic,\n      [BaseHorizontalRulePlugin.key]: HrElementStatic,\n      [BaseImagePlugin.key]: ImageElementStatic,\n      [BaseInlineEquationPlugin.key]: InlineEquationElementStatic,\n      [BaseItalicPlugin.key]: withProps(SlateLeaf, { as: 'em' }),\n      [BaseKbdPlugin.key]: KbdLeafStatic,\n      [BaseLinkPlugin.key]: LinkElementStatic,\n      // [BaseMediaEmbedPlugin.key]: MediaEmbedElementStatic,\n      [BaseMentionPlugin.key]: MentionElementStatic,\n      [BaseParagraphPlugin.key]: ParagraphElementStatic,\n      [BaseStrikethroughPlugin.key]: withProps(SlateLeaf, { as: 'del' }),\n      [BaseSubscriptPlugin.key]: withProps(SlateLeaf, { as: 'sub' }),\n      [BaseSuperscriptPlugin.key]: withProps(SlateLeaf, { as: 'sup' }),\n      [BaseTableCellHeaderPlugin.key]: TableCellHeaderStaticElement,\n      [BaseTableCellPlugin.key]: TableCellElementStatic,\n      [BaseTablePlugin.key]: TableElementStatic,\n      [BaseTableRowPlugin.key]: TableRowElementStatic,\n      [BaseTocPlugin.key]: TocElementStatic,\n      [BaseTogglePlugin.key]: ToggleElementStatic,\n      [BaseUnderlinePlugin.key]: withProps(SlateLeaf, { as: 'u' }),\n      [BaseVideoPlugin.key]: MediaVideoElementStatic,\n      [HEADING_KEYS.h1]: withProps(HeadingElementStatic, { variant: 'h1' }),\n      [HEADING_KEYS.h2]: withProps(HeadingElementStatic, { variant: 'h2' }),\n      [HEADING_KEYS.h3]: withProps(HeadingElementStatic, { variant: 'h3' }),\n      [HEADING_KEYS.h4]: withProps(HeadingElementStatic, { variant: 'h4' }),\n      [HEADING_KEYS.h5]: withProps(HeadingElementStatic, { variant: 'h5' }),\n      [HEADING_KEYS.h6]: withProps(HeadingElementStatic, { variant: 'h6' }),\n    };\n\n    const editorStatic = createSlateEditor({\n      plugins: [\n        BaseColumnPlugin,\n        BaseColumnItemPlugin,\n        BaseTocPlugin,\n        BaseVideoPlugin,\n        BaseAudioPlugin,\n        BaseParagraphPlugin,\n        BaseHeadingPlugin,\n        BaseMediaEmbedPlugin,\n        BaseBoldPlugin,\n        BaseCodePlugin,\n        BaseItalicPlugin,\n        BaseStrikethroughPlugin,\n        BaseSubscriptPlugin,\n        BaseSuperscriptPlugin,\n        BaseUnderlinePlugin,\n        BaseBlockquotePlugin,\n        BaseDatePlugin,\n        BaseEquationPlugin,\n        BaseInlineEquationPlugin,\n        BaseCodeBlockPlugin.configure({\n          options: {\n            lowlight,\n          },\n        }),\n        BaseIndentPlugin.extend({\n          inject: {\n            targetPlugins: [\n              BaseParagraphPlugin.key,\n              BaseBlockquotePlugin.key,\n              BaseCodeBlockPlugin.key,\n            ],\n          },\n        }),\n        BaseIndentListPlugin.extend({\n          inject: {\n            targetPlugins: [\n              BaseParagraphPlugin.key,\n              ...HEADING_LEVELS,\n              BaseBlockquotePlugin.key,\n              BaseCodeBlockPlugin.key,\n              BaseTogglePlugin.key,\n            ],\n          },\n          options: {\n            listStyleTypes: {\n              fire: {\n                liComponent: FireLiComponent,\n                markerComponent: FireMarker,\n                type: 'fire',\n              },\n              todo: {\n                liComponent: TodoLiStatic,\n                markerComponent: TodoMarkerStatic,\n                type: 'todo',\n              },\n            },\n          },\n        }),\n        BaseLinkPlugin,\n        BaseTableRowPlugin,\n        BaseTablePlugin,\n        BaseTableCellPlugin,\n        BaseHorizontalRulePlugin,\n        BaseFontColorPlugin,\n        BaseFontBackgroundColorPlugin,\n        BaseFontSizePlugin,\n        BaseKbdPlugin,\n        BaseAlignPlugin.extend({\n          inject: {\n            targetPlugins: [\n              BaseParagraphPlugin.key,\n              BaseMediaEmbedPlugin.key,\n              ...HEADING_LEVELS,\n              BaseImagePlugin.key,\n            ],\n          },\n        }),\n        BaseLineHeightPlugin,\n        BaseHighlightPlugin,\n        BaseFilePlugin,\n        BaseImagePlugin,\n        BaseMentionPlugin,\n        BaseCommentsPlugin,\n        BaseTogglePlugin,\n      ],\n      value: editor.children,\n    });\n\n    const editorHtml = await serializeHtml(editorStatic, {\n      components,\n      editorComponent: EditorStatic,\n      props: { style: { padding: '0 calc(50% - 350px)', paddingBottom: '' } },\n    });\n\n    const tailwindCss = `<link rel=\"stylesheet\" href=\"${siteUrl}/tailwind.css\">`;\n    const katexCss = `<link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/katex@0.16.18/dist/katex.css\" integrity=\"sha384-9PvLvaiSKCPkFKB1ZsEoTjgnJn+O3KvEwtsz37/XrkYft3DTk2gHdYvd9oWgW3tV\" crossorigin=\"anonymous\">`;\n\n    const html = `<!DOCTYPE html>\n    <html lang=\"en\">\n      <head>\n        <meta charset=\"utf-8\" />\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n        <meta name=\"color-scheme\" content=\"light dark\" />\n        <link rel=\"preconnect\" href=\"https://fonts.googleapis.com\" />\n        <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\" crossorigin />\n        <link\n          href=\"https://fonts.googleapis.com/css2?family=Inter:wght@400..700&family=JetBrains+Mono:wght@400..700&display=swap\"\n          rel=\"stylesheet\"\n        />\n        ${tailwindCss}\n        ${katexCss}\n        <style>\n          :root {\n            --font-sans: 'Inter', 'Inter Fallback';\n            --font-mono: 'JetBrains Mono', 'JetBrains Mono Fallback';\n          }\n        </style>\n      </head>\n      <body>\n        ${editorHtml}\n      </body>\n    </html>`;\n\n    const url = `data:text/html;charset=utf-8,${encodeURIComponent(html)}`;\n\n    type === \"copy\" && await navigator.clipboard.writeText(url);\n    type === \"download\" && await downloadFile(url, 'plate.html');\n  };\n\n\n  const exportToMarkdown = async (type: \"download\" | \"copy\") => {\n    const md = editor.getApi(MarkdownPlugin).markdown.serialize();\n    const url = `data:text/markdown;charset=utf-8,${encodeURIComponent(md)}`;\n\n    type === \"copy\" && await navigator.clipboard.writeText(url);\n    type === \"download\" && await downloadFile(url, 'plate.md');\n  };\n\n  return (\n    <DropdownMenu open={open} onOpenChange={setOpen} modal={false} {...props}>\n      <DropdownMenuTrigger asChild>\n        <ToolbarButton pressed={open} tooltip=\"Export\" isDropdown>\n          <ArrowDownToLineIcon className=\"size-4\" />\n        </ToolbarButton>\n      </DropdownMenuTrigger>\n\n      <DropdownMenuContent align=\"start\">\n        <DropdownMenuGroup>\n          <DropdownMenuItem onSelect={() => exportToHtml(\"download\")}>\n            Export as HTML\n          </DropdownMenuItem>\n          <DropdownMenuItem onSelect={() => exportToHtml(\"copy\")}>\n            Export as Copy HTML\n          </DropdownMenuItem>\n          <DropdownMenuItem onSelect={exportToPdf}>\n            Export as PDF\n          </DropdownMenuItem>\n          <DropdownMenuItem onSelect={exportToImage}>\n            Export as Image\n          </DropdownMenuItem>\n          <DropdownMenuItem onSelect={() => exportToMarkdown(\"download\")}>\n            Export as Markdown\n          </DropdownMenuItem>\n          <DropdownMenuItem onSelect={() => exportToMarkdown(\"copy\")}>\n            Export as Copy Markdown\n          </DropdownMenuItem>\n        </DropdownMenuGroup>\n      </DropdownMenuContent>\n    </DropdownMenu>\n  );\n}\n","import * as React from 'react';\n\nimport type { SlateLeafProps } from '@udecode/plate';\nimport type { TCommentText } from '@udecode/plate-comments';\n\nimport { SlateLeaf } from '@udecode/plate';\n\nexport function CommentLeafStatic(props: SlateLeafProps<TCommentText>) {\n  return (\n    <SlateLeaf\n      {...props}\n      className=\"border-b-2 border-b-highlight/35 bg-highlight/15\"\n    >\n      {props.children}\n    </SlateLeaf>\n  );\n}\n","import * as React from 'react';\n\nimport type { SlateElementProps } from '@udecode/plate';\nimport type { TDateElement } from '@udecode/plate-date';\n\nimport { SlateElement } from '@udecode/plate';\n\nexport function DateElementStatic(props: SlateElementProps<TDateElement>) {\n  const { element } = props;\n\n  return (\n    <SlateElement className=\"inline-block\" {...props}>\n      <span className=\"w-fit rounded-sm bg-muted px-1 text-muted-foreground\">\n        {element.date ? (\n          (() => {\n            const today = new Date();\n            const elementDate = new Date(element.date);\n            const isToday =\n              elementDate.getDate() === today.getDate() &&\n              elementDate.getMonth() === today.getMonth() &&\n              elementDate.getFullYear() === today.getFullYear();\n\n            const isYesterday =\n              new Date(today.setDate(today.getDate() - 1)).toDateString() ===\n              elementDate.toDateString();\n            const isTomorrow =\n              new Date(today.setDate(today.getDate() + 2)).toDateString() ===\n              elementDate.toDateString();\n\n            if (isToday) return 'Today';\n            if (isYesterday) return 'Yesterday';\n            if (isTomorrow) return 'Tomorrow';\n\n            return elementDate.toLocaleDateString(undefined, {\n              day: 'numeric',\n              month: 'long',\n              year: 'numeric',\n            });\n          })()\n        ) : (\n          <span>Pick a date</span>\n        )}\n      </span>\n      {props.children}\n    </SlateElement>\n  );\n}\n","import * as React from 'react';\n\nimport type { SlateLeafProps } from '@udecode/plate';\n\nimport { SlateLeaf } from '@udecode/plate';\n\nexport function KbdLeafStatic(props: SlateLeafProps) {\n  return (\n    <SlateLeaf\n      {...props}\n      as=\"kbd\"\n      className=\"rounded border border-border bg-muted px-1.5 py-0.5 font-mono text-sm shadow-[rgba(255,_255,_255,_0.1)_0px_0.5px_0px_0px_inset,_rgb(248,_249,_250)_0px_1px_5px_0px_inset,_rgb(193,_200,_205)_0px_0px_0px_0.5px,_rgb(193,_200,_205)_0px_2px_1px_-1px,_rgb(193,_200,_205)_0px_1px_0px_0px] dark:shadow-[rgba(255,_255,_255,_0.1)_0px_0.5px_0px_0px_inset,_rgb(26,_29,_30)_0px_1px_5px_0px_inset,_rgb(76,_81,_85)_0px_0px_0px_0.5px,_rgb(76,_81,_85)_0px_2px_1px_-1px,_rgb(76,_81,_85)_0px_1px_0px_0px]\"\n    >\n      {props.children}\n    </SlateLeaf>\n  );\n}\n","import * as React from 'react';\n\nimport type { SlateElementProps } from '@udecode/plate';\n\nimport { SlateElement } from '@udecode/plate';\nimport { ChevronRight } from 'lucide-react';\n\nexport function ToggleElementStatic(props: SlateElementProps) {\n  return (\n    <SlateElement {...props} className=\"pl-6\">\n      <div\n        className=\"absolute top-0 -left-0.5 size-6 cursor-pointer items-center justify-center rounded-md p-px text-muted-foreground transition-colors select-none hover:bg-accent [&_svg]:size-4\"\n        contentEditable={false}\n      >\n        <ChevronRight className=\"rotate-0 transition-transform duration-75\" />\n      </div>\n      {props.children}\n    </SlateElement>\n  );\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport {\n  Minus,\n  Plus,\n} from 'lucide-react';\n\nimport type { TElement } from '@udecode/plate';\nimport { toUnitLess } from '@udecode/plate-font';\nimport { FontSizePlugin } from '@udecode/plate-font/react';\nimport { HEADING_KEYS } from '@udecode/plate-heading';\nimport {\n  useEditorPlugin,\n  useEditorSelector,\n} from '@udecode/plate/react';\n\nimport { cn } from '../../../libs/utils';\nimport {\n  Popover,\n  PopoverContent,\n  PopoverTrigger,\n} from './popover';\nimport { ToolbarButton } from './toolbar';\n\nconst DEFAULT_FONT_SIZE = '16';\n\nconst FONT_SIZE_MAP = {\n  [HEADING_KEYS.h1]: '36',\n  [HEADING_KEYS.h2]: '24',\n  [HEADING_KEYS.h3]: '20',\n} as const;\n\nconst FONT_SIZES = [\n  '8',\n  '9',\n  '10',\n  '12',\n  '14',\n  '16',\n  '18',\n  '24',\n  '30',\n  '36',\n  '48',\n  '60',\n  '72',\n  '96',\n] as const;\n\nexport function FontSizeToolbarButton() {\n  const [inputValue, setInputValue] = React.useState(DEFAULT_FONT_SIZE);\n  const [isFocused, setIsFocused] = React.useState(false);\n  const { api, editor } = useEditorPlugin(FontSizePlugin);\n\n  const cursorFontSize = useEditorSelector((editor) => {\n    const fontSize = editor.api.marks()?.[FontSizePlugin.key];\n\n    if (fontSize) {\n      return toUnitLess(fontSize as string);\n    }\n\n    const [block] = editor.api.block<TElement>() || [];\n\n    if (!block?.type) return DEFAULT_FONT_SIZE;\n\n    return block.type in FONT_SIZE_MAP\n      ? FONT_SIZE_MAP[block.type as keyof typeof FONT_SIZE_MAP]\n      : DEFAULT_FONT_SIZE;\n  }, []);\n\n  const handleInputChange = () => {\n    const newSize = toUnitLess(inputValue);\n\n    if (Number.parseInt(newSize) < 1 || Number.parseInt(newSize) > 100) {\n      editor.tf.focus();\n\n      return;\n    }\n    if (newSize !== toUnitLess(cursorFontSize)) {\n      api.fontSize.setMark(`${newSize}px`);\n    }\n\n    editor.tf.focus();\n  };\n\n  const handleFontSizeChange = (delta: number) => {\n    const newSize = Number(displayValue) + delta;\n    api.fontSize.setMark(`${newSize}px`);\n    editor.tf.focus();\n  };\n\n  const displayValue = isFocused ? inputValue : cursorFontSize;\n\n  return (\n    <div className=\"flex h-7 items-center gap-1 rounded-md bg-muted/60 p-0\">\n      <ToolbarButton onClick={() => handleFontSizeChange(-1)}>\n        <Minus />\n      </ToolbarButton>\n\n      <Popover open={isFocused} modal={false}>\n        <PopoverTrigger asChild>\n          <input\n            className={cn(\n              'h-full w-10 shrink-0 bg-transparent px-1 text-center text-sm hover:bg-muted'\n            )}\n            value={displayValue}\n            onBlur={() => {\n              setIsFocused(false);\n              handleInputChange();\n            }}\n            onChange={(e) => setInputValue(e.target.value)}\n            onFocus={() => {\n              setIsFocused(true);\n              setInputValue(toUnitLess(cursorFontSize));\n            }}\n            onKeyDown={(e) => {\n              if (e.key === 'Enter') {\n                e.preventDefault();\n                handleInputChange();\n              }\n            }}\n            data-plate-focus=\"true\"\n            type=\"text\"\n          />\n        </PopoverTrigger>\n        <PopoverContent\n          className=\"w-10 px-px py-1\"\n          onOpenAutoFocus={(e) => e.preventDefault()}\n        >\n          {FONT_SIZES.map((size) => (\n            <button\n              key={size}\n              className={cn(\n                'flex h-8 w-full items-center justify-center text-sm hover:bg-accent data-[highlighted=true]:bg-accent'\n              )}\n              onClick={() => {\n                api.fontSize.setMark(`${size}px`);\n                setIsFocused(false);\n              }}\n              data-highlighted={size === displayValue}\n              type=\"button\"\n            >\n              {size}\n            </button>\n          ))}\n        </PopoverContent>\n      </Popover>\n\n      <ToolbarButton onClick={() => handleFontSizeChange(1)}>\n        <Plus />\n      </ToolbarButton>\n    </div>\n  );\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport { useEditorRef, useEditorSelector } from '@udecode/plate/react';\nimport { Redo2Icon, Undo2Icon } from 'lucide-react';\n\nimport { ToolbarButton } from './toolbar';\n\nexport function RedoToolbarButton(\n  props: React.ComponentProps<typeof ToolbarButton>\n) {\n  const editor = useEditorRef();\n  const disabled = useEditorSelector(\n    (editor) => editor.history.redos.length === 0,\n    []\n  );\n\n  return (\n    <ToolbarButton\n      {...props}\n      disabled={disabled}\n      onClick={() => editor.redo()}\n      onMouseDown={(e) => e.preventDefault()}\n      tooltip=\"Redo\"\n    >\n      <Redo2Icon />\n    </ToolbarButton>\n  );\n}\n\nexport function UndoToolbarButton(\n  props: React.ComponentProps<typeof ToolbarButton>\n) {\n  const editor = useEditorRef();\n  const disabled = useEditorSelector(\n    (editor) => editor.history.undos.length === 0,\n    []\n  );\n\n  return (\n    <ToolbarButton\n      {...props}\n      disabled={disabled}\n      onClick={() => editor.undo()}\n      onMouseDown={(e) => e.preventDefault()}\n      tooltip=\"Undo\"\n    >\n      <Undo2Icon />\n    </ToolbarButton>\n  );\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport { ArrowUpToLineIcon } from 'lucide-react';\nimport { useFilePicker } from 'use-file-picker';\n\nimport type { DropdownMenuProps } from '@radix-ui/react-dropdown-menu';\nimport { getEditorDOMFromHtmlString } from '@udecode/plate';\nimport { MarkdownPlugin } from '@udecode/plate-markdown';\nimport { useEditorRef } from '@udecode/plate/react';\n\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuGroup,\n  DropdownMenuItem,\n  DropdownMenuTrigger,\n} from './dropdown-menu';\nimport { ToolbarButton } from './toolbar';\n\nexport type ImportType = 'html' | 'markdown';\n\nexport function ImportToolbarButton(props: DropdownMenuProps) {\n  const editor = useEditorRef();\n  const [open, setOpen] = React.useState(false);\n\n  const getFileNodes = (text: string, type: ImportType) => {\n    if (type === 'html') {\n      const editorNode = getEditorDOMFromHtmlString(text);\n      const nodes = editor.api.html.deserialize({\n        element: editorNode,\n      });\n\n      return nodes;\n    }\n\n    if (type === 'markdown') {\n      return editor.getApi(MarkdownPlugin).markdown.deserialize(text);\n    }\n\n    return [];\n  };\n\n  const { openFilePicker: openMdFilePicker } = useFilePicker({\n    accept: ['.md', '.mdx'],\n    multiple: false,\n    onFilesSelected: async ({ plainFiles }) => {\n      const text = await plainFiles[0].text();\n\n      const nodes = getFileNodes(text, 'markdown');\n\n      editor.tf.insertNodes(nodes);\n    },\n  });\n\n  const { openFilePicker: openHtmlFilePicker } = useFilePicker({\n    accept: ['text/html'],\n    multiple: false,\n    onFilesSelected: async ({ plainFiles }) => {\n      const text = await plainFiles[0].text();\n\n      const nodes = getFileNodes(text, 'html');\n\n      editor.tf.insertNodes(nodes);\n    },\n  });\n\n  return (\n    <DropdownMenu open={open} onOpenChange={setOpen} modal={false} {...props}>\n      <DropdownMenuTrigger asChild>\n        <ToolbarButton pressed={open} tooltip=\"Import\" isDropdown>\n          <ArrowUpToLineIcon className=\"size-4\" />\n        </ToolbarButton>\n      </DropdownMenuTrigger>\n\n      <DropdownMenuContent align=\"start\">\n        <DropdownMenuGroup>\n          <DropdownMenuItem\n            onSelect={() => {\n              openHtmlFilePicker();\n            }}\n          >\n            Import from HTML\n          </DropdownMenuItem>\n\n          <DropdownMenuItem\n            onSelect={() => {\n              openMdFilePicker();\n            }}\n          >\n            Import from Markdown\n          </DropdownMenuItem>\n        </DropdownMenuGroup>\n      </DropdownMenuContent>\n    </DropdownMenu>\n  );\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport {\n  List,\n  ListOrdered,\n} from 'lucide-react';\n\nimport {\n  ListStyleType,\n  someIndentList,\n  toggleIndentList,\n} from '@udecode/plate-indent-list';\nimport {\n  useEditorRef,\n  useEditorSelector,\n} from '@udecode/plate/react';\n\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuGroup,\n  DropdownMenuItem,\n  DropdownMenuTrigger,\n} from './dropdown-menu';\nimport {\n  ToolbarSplitButton,\n  ToolbarSplitButtonPrimary,\n  ToolbarSplitButtonSecondary,\n} from './toolbar';\n\nexport function NumberedIndentListToolbarButton() {\n  const editor = useEditorRef();\n  const [open, setOpen] = React.useState(false);\n\n  const pressed = useEditorSelector(\n    (editor) =>\n      someIndentList(editor, [\n        ListStyleType.Decimal,\n        ListStyleType.LowerAlpha,\n        ListStyleType.UpperAlpha,\n        ListStyleType.LowerRoman,\n        ListStyleType.UpperRoman,\n      ]),\n    []\n  );\n\n  return (\n    <ToolbarSplitButton pressed={open}>\n      <ToolbarSplitButtonPrimary\n        className=\"data-[state=on]:bg-accent data-[state=on]:text-accent-foreground\"\n        onClick={() =>\n          toggleIndentList(editor, {\n            listStyleType: ListStyleType.Decimal,\n          })\n        }\n        data-state={pressed ? 'on' : 'off'}\n      >\n        <ListOrdered className=\"size-4\" />\n      </ToolbarSplitButtonPrimary>\n\n      <DropdownMenu open={open} onOpenChange={setOpen} modal={false}>\n        <DropdownMenuTrigger asChild>\n          <ToolbarSplitButtonSecondary />\n        </DropdownMenuTrigger>\n\n        <DropdownMenuContent align=\"start\" alignOffset={-32}>\n          <DropdownMenuGroup>\n            <DropdownMenuItem\n              onSelect={() =>\n                toggleIndentList(editor, {\n                  listStyleType: ListStyleType.Decimal,\n                })\n              }\n            >\n              Decimal (1, 2, 3)\n            </DropdownMenuItem>\n            <DropdownMenuItem\n              onSelect={() =>\n                toggleIndentList(editor, {\n                  listStyleType: ListStyleType.LowerAlpha,\n                })\n              }\n            >\n              Lower Alpha (a, b, c)\n            </DropdownMenuItem>\n            <DropdownMenuItem\n              onSelect={() =>\n                toggleIndentList(editor, {\n                  listStyleType: ListStyleType.UpperAlpha,\n                })\n              }\n            >\n              Upper Alpha (A, B, C)\n            </DropdownMenuItem>\n            <DropdownMenuItem\n              onSelect={() =>\n                toggleIndentList(editor, {\n                  listStyleType: ListStyleType.LowerRoman,\n                })\n              }\n            >\n              Lower Roman (i, ii, iii)\n            </DropdownMenuItem>\n            <DropdownMenuItem\n              onSelect={() =>\n                toggleIndentList(editor, {\n                  listStyleType: ListStyleType.UpperRoman,\n                })\n              }\n            >\n              Upper Roman (I, II, III)\n            </DropdownMenuItem>\n          </DropdownMenuGroup>\n        </DropdownMenuContent>\n      </DropdownMenu>\n    </ToolbarSplitButton>\n  );\n}\n\nexport function BulletedIndentListToolbarButton() {\n  const editor = useEditorRef();\n  const [open, setOpen] = React.useState(false);\n\n  const pressed = useEditorSelector(\n    (editor) =>\n      someIndentList(editor, [\n        ListStyleType.Disc,\n        ListStyleType.Circle,\n        ListStyleType.Square,\n      ]),\n    []\n  );\n\n  return (\n    <ToolbarSplitButton pressed={open}>\n      <ToolbarSplitButtonPrimary\n        className=\"data-[state=on]:bg-accent data-[state=on]:text-accent-foreground\"\n        onClick={() => {\n          toggleIndentList(editor, {\n            listStyleType: ListStyleType.Disc,\n          });\n        }}\n        data-state={pressed ? 'on' : 'off'}\n      >\n        <List className=\"size-4\" />\n      </ToolbarSplitButtonPrimary>\n\n      <DropdownMenu open={open} onOpenChange={setOpen} modal={false}>\n        <DropdownMenuTrigger asChild>\n          <ToolbarSplitButtonSecondary />\n        </DropdownMenuTrigger>\n\n        <DropdownMenuContent align=\"start\" alignOffset={-32}>\n          <DropdownMenuGroup>\n            <DropdownMenuItem\n              onClick={() =>\n                toggleIndentList(editor, {\n                  listStyleType: ListStyleType.Disc,\n                })\n              }\n            >\n              <div className=\"flex items-center gap-2\">\n                <div className=\"size-2 rounded-full border border-current bg-current\" />\n                Default\n              </div>\n            </DropdownMenuItem>\n            <DropdownMenuItem\n              onClick={() =>\n                toggleIndentList(editor, {\n                  listStyleType: ListStyleType.Circle,\n                })\n              }\n            >\n              <div className=\"flex items-center gap-2\">\n                <div className=\"size-2 rounded-full border border-current\" />\n                Circle\n              </div>\n            </DropdownMenuItem>\n            <DropdownMenuItem\n              onClick={() =>\n                toggleIndentList(editor, {\n                  listStyleType: ListStyleType.Square,\n                })\n              }\n            >\n              <div className=\"flex items-center gap-2\">\n                <div className=\"size-2 border border-current bg-current\" />\n                Square\n              </div>\n            </DropdownMenuItem>\n          </DropdownMenuGroup>\n        </DropdownMenuContent>\n      </DropdownMenu>\n    </ToolbarSplitButton>\n  );\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport {\n  useIndentTodoToolBarButton,\n  useIndentTodoToolBarButtonState,\n} from '@udecode/plate-indent-list/react';\nimport { ListTodoIcon } from 'lucide-react';\n\nimport { ToolbarButton } from './toolbar';\n\nexport function IndentTodoToolbarButton(\n  props: React.ComponentProps<typeof ToolbarButton>\n) {\n  const state = useIndentTodoToolBarButtonState({ nodeType: 'todo' });\n  const { props: buttonProps } = useIndentTodoToolBarButton(state);\n\n  return (\n    <ToolbarButton {...props} {...buttonProps} tooltip=\"Todo\">\n      <ListTodoIcon />\n    </ToolbarButton>\n  );\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport { useIndentButton } from '@udecode/plate-indent/react';\nimport { Indent } from 'lucide-react';\n\nimport { ToolbarButton } from './toolbar';\n\nexport function IndentToolbarButton(\n  props: React.ComponentProps<typeof ToolbarButton>\n) {\n  const { props: buttonProps } = useIndentButton();\n\n  return (\n    <ToolbarButton {...props} {...buttonProps} tooltip=\"Indent\">\n      <Indent />\n    </ToolbarButton>\n  );\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport {\n  CheckIcon,\n  WrapText,\n} from 'lucide-react';\n\nimport type { DropdownMenuProps } from '@radix-ui/react-dropdown-menu';\nimport { DropdownMenuItemIndicator } from '@radix-ui/react-dropdown-menu';\nimport {\n  useLineHeightDropdownMenu,\n  useLineHeightDropdownMenuState,\n} from '@udecode/plate-line-height/react';\n\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuRadioGroup,\n  DropdownMenuRadioItem,\n  DropdownMenuTrigger,\n} from './dropdown-menu';\nimport { ToolbarButton } from './toolbar';\n\nexport function LineHeightDropdownMenu({ ...props }: DropdownMenuProps) {\n  const [open, setOpen] = React.useState(false);\n  const state = useLineHeightDropdownMenuState();\n  const { radioGroupProps } = useLineHeightDropdownMenu(state);\n\n  return (\n    <DropdownMenu open={open} onOpenChange={setOpen} modal={false} {...props}>\n      <DropdownMenuTrigger asChild>\n        <ToolbarButton pressed={open} tooltip=\"Line height\" isDropdown>\n          <WrapText />\n        </ToolbarButton>\n      </DropdownMenuTrigger>\n\n      <DropdownMenuContent className=\"min-w-0\" align=\"start\">\n        <DropdownMenuRadioGroup {...radioGroupProps}>\n          {state.values.map((_value) => (\n            <DropdownMenuRadioItem\n              key={_value}\n              className=\"min-w-[180px] pl-2 *:first:[span]:hidden\"\n              value={_value}\n            >\n              <span className=\"pointer-events-none absolute right-2 flex size-3.5 items-center justify-center\">\n                <DropdownMenuItemIndicator>\n                  <CheckIcon />\n                </DropdownMenuItemIndicator>\n              </span>\n              {_value}\n            </DropdownMenuRadioItem>\n          ))}\n        </DropdownMenuRadioGroup>\n      </DropdownMenuContent>\n    </DropdownMenu>\n  );\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport {\n  useLinkToolbarButton,\n  useLinkToolbarButtonState,\n} from '@udecode/plate-link/react';\nimport { Link } from 'lucide-react';\n\nimport { ToolbarButton } from './toolbar';\n\nexport function LinkToolbarButton(\n  props: React.ComponentProps<typeof ToolbarButton>\n) {\n  const state = useLinkToolbarButtonState();\n  const { props: buttonProps } = useLinkToolbarButton(state);\n\n  return (\n    <ToolbarButton {...props} {...buttonProps} data-plate-focus tooltip=\"Link\">\n      <Link />\n    </ToolbarButton>\n  );\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport {\n  useMarkToolbarButton,\n  useMarkToolbarButtonState,\n} from '@udecode/plate/react';\n\nimport { ToolbarButton } from './toolbar';\n\nexport function MarkToolbarButton({\n  clear,\n  nodeType,\n  ...props\n}: React.ComponentProps<typeof ToolbarButton> & {\n  nodeType: string;\n  clear?: string[] | string;\n}) {\n  const state = useMarkToolbarButtonState({ clear, nodeType });\n  const { props: buttonProps } = useMarkToolbarButton(state);\n\n  return <ToolbarButton {...props} {...buttonProps} />;\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport {\n  AudioLinesIcon,\n  FileUpIcon,\n  FilmIcon,\n  ImageIcon,\n  LinkIcon,\n} from 'lucide-react';\nimport { toast } from 'sonner';\nimport { useFilePicker } from 'use-file-picker';\n\nimport type { DropdownMenuProps } from '@radix-ui/react-dropdown-menu';\nimport { isUrl } from '@udecode/plate';\nimport {\n  AudioPlugin,\n  FilePlugin,\n  ImagePlugin,\n  PlaceholderPlugin,\n  VideoPlugin,\n} from '@udecode/plate-media/react';\nimport { useEditorRef } from '@udecode/plate/react';\n\nimport {\n  AlertDialog,\n  AlertDialogAction,\n  AlertDialogCancel,\n  AlertDialogContent,\n  AlertDialogDescription,\n  AlertDialogFooter,\n  AlertDialogHeader,\n  AlertDialogTitle,\n} from './alert-dialog';\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuGroup,\n  DropdownMenuItem,\n  DropdownMenuTrigger,\n} from './dropdown-menu';\nimport { Input } from './input';\nimport {\n  ToolbarSplitButton,\n  ToolbarSplitButtonPrimary,\n  ToolbarSplitButtonSecondary,\n} from './toolbar';\n\nexport const MEDIA_CONFIG: Record<\n  string,\n  {\n    accept: string[];\n    icon: React.ReactNode;\n    title: string;\n    tooltip: string;\n  }\n> = {\n  [AudioPlugin.key]: {\n    accept: ['audio/*'],\n    icon: <AudioLinesIcon className=\"size-4\" />,\n    title: 'Insert Audio',\n    tooltip: 'Audio',\n  },\n  [FilePlugin.key]: {\n    accept: ['*'],\n    icon: <FileUpIcon className=\"size-4\" />,\n    title: 'Insert File',\n    tooltip: 'File',\n  },\n  [ImagePlugin.key]: {\n    accept: ['image/*'],\n    icon: <ImageIcon className=\"size-4\" />,\n    title: 'Insert Image',\n    tooltip: 'Image',\n  },\n  [VideoPlugin.key]: {\n    accept: ['video/*'],\n    icon: <FilmIcon className=\"size-4\" />,\n    title: 'Insert Video',\n    tooltip: 'Video',\n  },\n};\n\nexport function MediaToolbarButton({\n  nodeType,\n  ...props\n}: DropdownMenuProps & { nodeType: string }) {\n  const currentConfig = MEDIA_CONFIG[nodeType];\n\n  const editor = useEditorRef();\n  const [open, setOpen] = React.useState(false);\n  const [dialogOpen, setDialogOpen] = React.useState(false);\n\n  const { openFilePicker } = useFilePicker({\n    accept: currentConfig.accept,\n    multiple: true,\n    onFilesSelected: ({ plainFiles: updatedFiles }) => {\n      editor.getTransforms(PlaceholderPlugin).insert.media(updatedFiles);\n    },\n  });\n\n  return (\n    <>\n      <ToolbarSplitButton\n        onClick={() => {\n          openFilePicker();\n        }}\n        onKeyDown={(e) => {\n          if (e.key === 'ArrowDown') {\n            e.preventDefault();\n            setOpen(true);\n          }\n        }}\n        pressed={open}\n      >\n        <ToolbarSplitButtonPrimary>\n          {currentConfig.icon}\n        </ToolbarSplitButtonPrimary>\n\n        <DropdownMenu\n          open={open}\n          onOpenChange={setOpen}\n          modal={false}\n          {...props}\n        >\n          <DropdownMenuTrigger asChild>\n            <ToolbarSplitButtonSecondary />\n          </DropdownMenuTrigger>\n\n          <DropdownMenuContent\n            onClick={(e) => e.stopPropagation()}\n            align=\"start\"\n            alignOffset={-32}\n          >\n            <DropdownMenuGroup>\n              <DropdownMenuItem onSelect={() => openFilePicker()}>\n                {currentConfig.icon}\n                Upload from computer\n              </DropdownMenuItem>\n              <DropdownMenuItem onSelect={() => setDialogOpen(true)}>\n                <LinkIcon />\n                Insert via URL\n              </DropdownMenuItem>\n            </DropdownMenuGroup>\n          </DropdownMenuContent>\n        </DropdownMenu>\n      </ToolbarSplitButton>\n\n      <AlertDialog\n        open={dialogOpen}\n        onOpenChange={(value) => {\n          setDialogOpen(value);\n        }}\n      >\n        <AlertDialogContent className=\"gap-6\">\n          <MediaUrlDialogContent\n            currentConfig={currentConfig}\n            nodeType={nodeType}\n            setOpen={setDialogOpen}\n          />\n        </AlertDialogContent>\n      </AlertDialog>\n    </>\n  );\n}\n\nfunction MediaUrlDialogContent({\n  currentConfig,\n  nodeType,\n  setOpen,\n}: {\n  currentConfig: (typeof MEDIA_CONFIG)[string];\n  nodeType: string;\n  setOpen: (value: boolean) => void;\n}) {\n  const editor = useEditorRef();\n  const [url, setUrl] = React.useState('');\n\n  const embedMedia = React.useCallback(() => {\n    if (!isUrl(url)) return toast.error('Invalid URL');\n\n    setOpen(false);\n    editor.tf.insertNodes({\n      children: [{ text: '' }],\n      name: nodeType === FilePlugin.key ? url.split('/').pop() : undefined,\n      type: nodeType,\n      url,\n    });\n  }, [url, editor, nodeType, setOpen]);\n\n  return (\n    <>\n      <AlertDialogHeader>\n        <AlertDialogTitle>{currentConfig.title}</AlertDialogTitle>\n      </AlertDialogHeader>\n\n      <AlertDialogDescription className=\"group relative w-full\">\n        <label\n          className=\"absolute top-1/2 block -translate-y-1/2 cursor-text px-1 text-sm text-muted-foreground/70 transition-all group-focus-within:pointer-events-none group-focus-within:top-0 group-focus-within:cursor-default group-focus-within:text-xs group-focus-within:font-medium group-focus-within:text-foreground has-[+input:not(:placeholder-shown)]:pointer-events-none has-[+input:not(:placeholder-shown)]:top-0 has-[+input:not(:placeholder-shown)]:cursor-default has-[+input:not(:placeholder-shown)]:text-xs has-[+input:not(:placeholder-shown)]:font-medium has-[+input:not(:placeholder-shown)]:text-foreground\"\n          htmlFor=\"url\"\n        >\n          <span className=\"inline-flex bg-background px-2\">URL</span>\n        </label>\n        <Input\n          id=\"url\"\n          className=\"w-full\"\n          value={url}\n          onChange={(e) => setUrl(e.target.value)}\n          onKeyDown={(e) => {\n            if (e.key === 'Enter') embedMedia();\n          }}\n          placeholder=\"\"\n          type=\"url\"\n          autoFocus\n        />\n      </AlertDialogDescription>\n\n      <AlertDialogFooter>\n        <AlertDialogCancel>Cancel</AlertDialogCancel>\n        <AlertDialogAction\n          onClick={(e) => {\n            e.preventDefault();\n            embedMedia();\n          }}\n        >\n          Accept\n        </AlertDialogAction>\n      </AlertDialogFooter>\n    </>\n  );\n}\n","import * as React from 'react';\n\nimport * as AlertDialogPrimitive from '@radix-ui/react-alert-dialog';\n\nimport { cn } from '../../../libs/utils';\nimport { buttonVariants } from './button';\n\nfunction AlertDialog({\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Root>) {\n  return <AlertDialogPrimitive.Root data-slot=\"alert-dialog\" {...props} />\n}\n\nfunction AlertDialogTrigger({\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Trigger>) {\n  return (\n    <AlertDialogPrimitive.Trigger data-slot=\"alert-dialog-trigger\" {...props} />\n  )\n}\n\nfunction AlertDialogPortal({\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Portal>) {\n  return (\n    <AlertDialogPrimitive.Portal data-slot=\"alert-dialog-portal\" {...props} />\n  )\n}\n\nfunction AlertDialogOverlay({\n  className,\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Overlay>) {\n  return (\n    <AlertDialogPrimitive.Overlay\n      data-slot=\"alert-dialog-overlay\"\n      className={cn(\n        \"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction AlertDialogContent({\n  className,\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Content>) {\n  return (\n    <AlertDialogPortal>\n      <AlertDialogOverlay />\n      <AlertDialogPrimitive.Content\n        data-slot=\"alert-dialog-content\"\n        className={cn(\n          \"bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg\",\n          className\n        )}\n        {...props}\n      />\n    </AlertDialogPortal>\n  )\n}\n\nfunction AlertDialogHeader({\n  className,\n  ...props\n}: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"alert-dialog-header\"\n      className={cn(\"flex flex-col gap-2 text-center sm:text-left\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction AlertDialogFooter({\n  className,\n  ...props\n}: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"alert-dialog-footer\"\n      className={cn(\n        \"flex flex-col-reverse gap-2 sm:flex-row sm:justify-end\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction AlertDialogTitle({\n  className,\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Title>) {\n  return (\n    <AlertDialogPrimitive.Title\n      data-slot=\"alert-dialog-title\"\n      className={cn(\"text-lg font-semibold\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction AlertDialogDescription({\n  className,\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Description>) {\n  return (\n    <AlertDialogPrimitive.Description\n      data-slot=\"alert-dialog-description\"\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction AlertDialogAction({\n  className,\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Action>) {\n  return (\n    <AlertDialogPrimitive.Action\n      className={cn(buttonVariants(), className)}\n      {...props}\n    />\n  )\n}\n\nfunction AlertDialogCancel({\n  className,\n  ...props\n}: React.ComponentProps<typeof AlertDialogPrimitive.Cancel>) {\n  return (\n    <AlertDialogPrimitive.Cancel\n      className={cn(buttonVariants({ variant: \"outline\" }), className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  AlertDialog,\n  AlertDialogAction,\n  AlertDialogCancel,\n  AlertDialogContent,\n  AlertDialogDescription,\n  AlertDialogFooter,\n  AlertDialogHeader,\n  AlertDialogOverlay,\n  AlertDialogPortal,\n  AlertDialogTitle,\n  AlertDialogTrigger,\n};\n","'use client';\n\nimport * as React from 'react';\n\nimport {\n  CheckIcon,\n  EyeIcon,\n  PencilLineIcon,\n  PenIcon,\n} from 'lucide-react';\n\nimport {\n  DropdownMenuItemIndicator,\n  type DropdownMenuProps,\n} from '@radix-ui/react-dropdown-menu';\nimport { SuggestionPlugin } from '@udecode/plate-suggestion/react';\nimport {\n  useEditorRef,\n  usePlateState,\n  usePluginOption,\n} from '@udecode/plate/react';\n\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuRadioGroup,\n  DropdownMenuRadioItem,\n  DropdownMenuTrigger,\n} from './dropdown-menu';\nimport { ToolbarButton } from './toolbar';\n\nexport function ModeDropdownMenu(props: DropdownMenuProps) {\n  const editor = useEditorRef();\n  const [readOnly, setReadOnly] = usePlateState('readOnly');\n  const [open, setOpen] = React.useState(false);\n\n  const isSuggesting = usePluginOption(SuggestionPlugin, 'isSuggesting');\n\n  let value = 'editing';\n\n  if (readOnly) value = 'viewing';\n\n  if (isSuggesting) value = 'suggestion';\n\n  const item: Record<string, { icon: React.ReactNode; label: string }> = {\n    editing: {\n      icon: <PenIcon />,\n      label: 'Editing',\n    },\n    suggestion: {\n      icon: <PencilLineIcon />,\n      label: 'Suggestion',\n    },\n    viewing: {\n      icon: <EyeIcon />,\n      label: 'Viewing',\n    },\n  };\n\n  return (\n    <DropdownMenu open={open} onOpenChange={setOpen} modal={false} {...props}>\n      <DropdownMenuTrigger asChild>\n        <ToolbarButton pressed={open} tooltip=\"Editing mode\" isDropdown>\n          {item[value].icon}\n          <span className=\"hidden lg:inline\">{item[value].label}</span>\n        </ToolbarButton>\n      </DropdownMenuTrigger>\n\n      <DropdownMenuContent className=\"min-w-[180px]\" align=\"start\">\n        <DropdownMenuRadioGroup\n          value={value}\n          onValueChange={(newValue) => {\n            if (newValue === 'viewing') {\n              setReadOnly(true);\n\n              return;\n            } else {\n              setReadOnly(false);\n            }\n\n            if (newValue === 'suggestion') {\n              editor.setOption(SuggestionPlugin, 'isSuggesting', true);\n\n              return;\n            } else {\n              editor.setOption(SuggestionPlugin, 'isSuggesting', false);\n            }\n\n            if (newValue === 'editing') {\n              editor.tf.focus();\n\n              return;\n            }\n          }}\n        >\n          <DropdownMenuRadioItem\n            className=\"pl-2 *:first:[span]:hidden *:[svg]:text-muted-foreground\"\n            value=\"editing\"\n          >\n            <Indicator />\n            {item.editing.icon}\n            {item.editing.label}\n          </DropdownMenuRadioItem>\n\n          <DropdownMenuRadioItem\n            className=\"pl-2 *:first:[span]:hidden *:[svg]:text-muted-foreground\"\n            value=\"viewing\"\n          >\n            <Indicator />\n            {item.viewing.icon}\n            {item.viewing.label}\n          </DropdownMenuRadioItem>\n\n          <DropdownMenuRadioItem\n            className=\"pl-2 *:first:[span]:hidden *:[svg]:text-muted-foreground\"\n            value=\"suggestion\"\n          >\n            <Indicator />\n            {item.suggestion.icon}\n            {item.suggestion.label}\n          </DropdownMenuRadioItem>\n        </DropdownMenuRadioGroup>\n      </DropdownMenuContent>\n    </DropdownMenu>\n  );\n}\n\nfunction Indicator() {\n  return (\n    <span className=\"pointer-events-none absolute right-2 flex size-3.5 items-center justify-center\">\n      <DropdownMenuItemIndicator>\n        <CheckIcon />\n      </DropdownMenuItemIndicator>\n    </span>\n  );\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport {\n  KeyboardIcon,\n  MoreHorizontalIcon,\n  SubscriptIcon,\n  SuperscriptIcon,\n} from 'lucide-react';\n\nimport type { DropdownMenuProps } from '@radix-ui/react-dropdown-menu';\nimport {\n  SubscriptPlugin,\n  SuperscriptPlugin,\n} from '@udecode/plate-basic-marks/react';\nimport { KbdPlugin } from '@udecode/plate-kbd/react';\nimport { useEditorRef } from '@udecode/plate/react';\n\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuGroup,\n  DropdownMenuItem,\n  DropdownMenuTrigger,\n} from './dropdown-menu';\nimport { ToolbarButton } from './toolbar';\n\nexport function MoreDropdownMenu(props: DropdownMenuProps) {\n  const editor = useEditorRef();\n  const [open, setOpen] = React.useState(false);\n\n  return (\n    <DropdownMenu open={open} onOpenChange={setOpen} modal={false} {...props}>\n      <DropdownMenuTrigger asChild>\n        <ToolbarButton pressed={open} tooltip=\"Insert\">\n          <MoreHorizontalIcon />\n        </ToolbarButton>\n      </DropdownMenuTrigger>\n\n      <DropdownMenuContent\n        className=\"ignore-click-outside/toolbar flex max-h-[500px] min-w-[180px] flex-col overflow-y-auto\"\n        align=\"start\"\n      >\n        <DropdownMenuGroup>\n          <DropdownMenuItem\n            onSelect={() => {\n              editor.tf.toggleMark(KbdPlugin.key);\n              editor.tf.collapse({ edge: 'end' });\n              editor.tf.focus();\n            }}\n          >\n            <KeyboardIcon />\n            Keyboard input\n          </DropdownMenuItem>\n\n          <DropdownMenuItem\n            onSelect={() => {\n              editor.tf.toggleMark(SuperscriptPlugin.key, {\n                remove: SubscriptPlugin.key,\n              });\n              editor.tf.focus();\n            }}\n          >\n            <SuperscriptIcon />\n            Superscript\n            {/* (⌘+,) */}\n          </DropdownMenuItem>\n          <DropdownMenuItem\n            onSelect={() => {\n              editor.tf.toggleMark(SubscriptPlugin.key, {\n                remove: SuperscriptPlugin.key,\n              });\n              editor.tf.focus();\n            }}\n          >\n            <SubscriptIcon />\n            Subscript\n            {/* (⌘+.) */}\n          </DropdownMenuItem>\n        </DropdownMenuGroup>\n      </DropdownMenuContent>\n    </DropdownMenu>\n  );\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport { useOutdentButton } from '@udecode/plate-indent/react';\nimport { Outdent } from 'lucide-react';\n\nimport { ToolbarButton } from './toolbar';\n\nexport function OutdentToolbarButton(\n  props: React.ComponentProps<typeof ToolbarButton>\n) {\n  const { props: buttonProps } = useOutdentButton();\n\n  return (\n    <ToolbarButton {...props} {...buttonProps} tooltip=\"Outdent\">\n      <Outdent />\n    </ToolbarButton>\n  );\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport {\n  ArrowDown,\n  ArrowLeft,\n  ArrowRight,\n  ArrowUp,\n  Combine,\n  Grid3x3Icon,\n  Table,\n  Trash2Icon,\n  Ungroup,\n  XIcon,\n} from 'lucide-react';\n\nimport type { DropdownMenuProps } from '@radix-ui/react-dropdown-menu';\nimport {\n  TablePlugin,\n  useTableMergeState,\n} from '@udecode/plate-table/react';\nimport {\n  useEditorPlugin,\n  useEditorSelector,\n} from '@udecode/plate/react';\n\nimport { cn } from '../../../libs/utils';\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuGroup,\n  DropdownMenuItem,\n  DropdownMenuSub,\n  DropdownMenuSubContent,\n  DropdownMenuSubTrigger,\n  DropdownMenuTrigger,\n} from './dropdown-menu';\nimport { ToolbarButton } from './toolbar';\n\nexport function TableDropdownMenu(props: DropdownMenuProps) {\n  const tableSelected = useEditorSelector(\n    (editor) => editor.api.some({ match: { type: TablePlugin.key } }),\n    []\n  );\n\n  const { editor, tf } = useEditorPlugin(TablePlugin);\n  const [open, setOpen] = React.useState(false);\n  const mergeState = useTableMergeState();\n\n  return (\n    <DropdownMenu open={open} onOpenChange={setOpen} modal={false} {...props}>\n      <DropdownMenuTrigger asChild>\n        <ToolbarButton pressed={open} tooltip=\"Table\" isDropdown>\n          <Table />\n        </ToolbarButton>\n      </DropdownMenuTrigger>\n\n      <DropdownMenuContent\n        className=\"flex w-[180px] min-w-0 flex-col\"\n        align=\"start\"\n      >\n        <DropdownMenuGroup>\n          <DropdownMenuSub>\n            <DropdownMenuSubTrigger className=\"gap-2 data-[disabled]:pointer-events-none data-[disabled]:opacity-50\">\n              <Grid3x3Icon className=\"size-4\" />\n              <span>Table</span>\n            </DropdownMenuSubTrigger>\n            <DropdownMenuSubContent className=\"m-0 p-0\">\n              <TablePicker />\n            </DropdownMenuSubContent>\n          </DropdownMenuSub>\n\n          <DropdownMenuSub>\n            <DropdownMenuSubTrigger\n              className=\"gap-2 data-[disabled]:pointer-events-none data-[disabled]:opacity-50\"\n              disabled={!tableSelected}\n            >\n              <div className=\"size-4\" />\n              <span>Cell</span>\n            </DropdownMenuSubTrigger>\n            <DropdownMenuSubContent>\n              <DropdownMenuItem\n                className=\"min-w-[180px]\"\n                disabled={!mergeState.canMerge}\n                onSelect={() => {\n                  tf.table.merge();\n                  editor.tf.focus();\n                }}\n              >\n                <Combine />\n                Merge cells\n              </DropdownMenuItem>\n              <DropdownMenuItem\n                className=\"min-w-[180px]\"\n                disabled={!mergeState.canSplit}\n                onSelect={() => {\n                  tf.table.split();\n                  editor.tf.focus();\n                }}\n              >\n                <Ungroup />\n                Split cell\n              </DropdownMenuItem>\n            </DropdownMenuSubContent>\n          </DropdownMenuSub>\n\n          <DropdownMenuSub>\n            <DropdownMenuSubTrigger\n              className=\"gap-2 data-[disabled]:pointer-events-none data-[disabled]:opacity-50\"\n              disabled={!tableSelected}\n            >\n              <div className=\"size-4\" />\n              <span>Row</span>\n            </DropdownMenuSubTrigger>\n            <DropdownMenuSubContent>\n              <DropdownMenuItem\n                className=\"min-w-[180px]\"\n                disabled={!tableSelected}\n                onSelect={() => {\n                  tf.insert.tableRow({ before: true });\n                  editor.tf.focus();\n                }}\n              >\n                <ArrowUp />\n                Insert row before\n              </DropdownMenuItem>\n              <DropdownMenuItem\n                className=\"min-w-[180px]\"\n                disabled={!tableSelected}\n                onSelect={() => {\n                  tf.insert.tableRow();\n                  editor.tf.focus();\n                }}\n              >\n                <ArrowDown />\n                Insert row after\n              </DropdownMenuItem>\n              <DropdownMenuItem\n                className=\"min-w-[180px]\"\n                disabled={!tableSelected}\n                onSelect={() => {\n                  tf.remove.tableRow();\n                  editor.tf.focus();\n                }}\n              >\n                <XIcon />\n                Delete row\n              </DropdownMenuItem>\n            </DropdownMenuSubContent>\n          </DropdownMenuSub>\n\n          <DropdownMenuSub>\n            <DropdownMenuSubTrigger\n              className=\"gap-2 data-[disabled]:pointer-events-none data-[disabled]:opacity-50\"\n              disabled={!tableSelected}\n            >\n              <div className=\"size-4\" />\n              <span>Column</span>\n            </DropdownMenuSubTrigger>\n            <DropdownMenuSubContent>\n              <DropdownMenuItem\n                className=\"min-w-[180px]\"\n                disabled={!tableSelected}\n                onSelect={() => {\n                  tf.insert.tableColumn({ before: true });\n                  editor.tf.focus();\n                }}\n              >\n                <ArrowLeft />\n                Insert column before\n              </DropdownMenuItem>\n              <DropdownMenuItem\n                className=\"min-w-[180px]\"\n                disabled={!tableSelected}\n                onSelect={() => {\n                  tf.insert.tableColumn();\n                  editor.tf.focus();\n                }}\n              >\n                <ArrowRight />\n                Insert column after\n              </DropdownMenuItem>\n              <DropdownMenuItem\n                className=\"min-w-[180px]\"\n                disabled={!tableSelected}\n                onSelect={() => {\n                  tf.remove.tableColumn();\n                  editor.tf.focus();\n                }}\n              >\n                <XIcon />\n                Delete column\n              </DropdownMenuItem>\n            </DropdownMenuSubContent>\n          </DropdownMenuSub>\n\n          <DropdownMenuItem\n            className=\"min-w-[180px]\"\n            disabled={!tableSelected}\n            onSelect={() => {\n              tf.remove.table();\n              editor.tf.focus();\n            }}\n          >\n            <Trash2Icon />\n            Delete table\n          </DropdownMenuItem>\n        </DropdownMenuGroup>\n      </DropdownMenuContent>\n    </DropdownMenu>\n  );\n}\n\nexport function TablePicker() {\n  const { editor, tf } = useEditorPlugin(TablePlugin);\n\n  const [tablePicker, setTablePicker] = React.useState({\n    grid: Array.from({ length: 8 }, () => Array.from({ length: 8 }).fill(0)),\n    size: { colCount: 0, rowCount: 0 },\n  });\n\n  const onCellMove = (rowIndex: number, colIndex: number) => {\n    const newGrid = [...tablePicker.grid];\n\n    for (let i = 0; i < newGrid.length; i++) {\n      for (let j = 0; j < newGrid[i].length; j++) {\n        newGrid[i][j] =\n          i >= 0 && i <= rowIndex && j >= 0 && j <= colIndex ? 1 : 0;\n      }\n    }\n\n    setTablePicker({\n      grid: newGrid,\n      size: { colCount: colIndex + 1, rowCount: rowIndex + 1 },\n    });\n  };\n\n  return (\n    <div\n      className=\"m-0 flex! flex-col p-0\"\n      onClick={() => {\n        tf.insert.table(tablePicker.size, { select: true });\n        editor.tf.focus();\n      }}\n    >\n      <div className=\"grid size-[130px] grid-cols-8 gap-0.5 p-1\">\n        {tablePicker.grid.map((rows, rowIndex) =>\n          rows.map((value, columIndex) => {\n            return (\n              <div\n                key={`(${rowIndex},${columIndex})`}\n                className={cn(\n                  'col-span-1 size-3 border border-solid bg-secondary',\n                  !!value && 'border-current'\n                )}\n                onMouseMove={() => {\n                  onCellMove(rowIndex, columIndex);\n                }}\n              />\n            );\n          })\n        )}\n      </div>\n\n      <div className=\"text-center text-xs text-current\">\n        {tablePicker.size.rowCount} x {tablePicker.size.colCount}\n      </div>\n    </div>\n  );\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport {\n  useToggleToolbarButton,\n  useToggleToolbarButtonState,\n} from '@udecode/plate-toggle/react';\nimport { ListCollapseIcon } from 'lucide-react';\n\nimport { ToolbarButton } from './toolbar';\n\nexport function ToggleToolbarButton(\n  props: React.ComponentProps<typeof ToolbarButton>\n) {\n  const state = useToggleToolbarButtonState();\n  const { props: buttonProps } = useToggleToolbarButton(state);\n\n  return (\n    <ToolbarButton {...props} {...buttonProps} tooltip=\"Toggle\">\n      <ListCollapseIcon />\n    </ToolbarButton>\n  );\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport {\n  CheckIcon,\n  ChevronRightIcon,\n  Columns3Icon,\n  FileCodeIcon,\n  Heading1Icon,\n  Heading2Icon,\n  Heading3Icon,\n  ListIcon,\n  ListOrderedIcon,\n  PilcrowIcon,\n  QuoteIcon,\n  SquareIcon,\n} from 'lucide-react';\n\nimport type { DropdownMenuProps } from '@radix-ui/react-dropdown-menu';\nimport { DropdownMenuItemIndicator } from '@radix-ui/react-dropdown-menu';\nimport type { TElement } from '@udecode/plate';\nimport { BlockquotePlugin } from '@udecode/plate-block-quote/react';\nimport { CodeBlockPlugin } from '@udecode/plate-code-block/react';\nimport { HEADING_KEYS } from '@udecode/plate-heading';\nimport {\n  INDENT_LIST_KEYS,\n  ListStyleType,\n} from '@udecode/plate-indent-list';\nimport { TogglePlugin } from '@udecode/plate-toggle/react';\nimport {\n  ParagraphPlugin,\n  useEditorRef,\n  useSelectionFragmentProp,\n} from '@udecode/plate/react';\n\nimport {\n  getBlockType,\n  setBlockType,\n  STRUCTURAL_TYPES,\n} from '../core/transforms';\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuRadioItem,\n  DropdownMenuTrigger,\n} from './dropdown-menu';\nimport {\n  ToolbarButton,\n  ToolbarMenuGroup,\n} from './toolbar';\n\nexport const turnIntoItems:any[] = [\n  {\n    icon: <PilcrowIcon />,\n    keywords: ['paragraph'],\n    label: 'Text',\n    value: ParagraphPlugin.key,\n  },\n  {\n    icon: <Heading1Icon />,\n    keywords: ['title', 'h1'],\n    label: 'Heading 1',\n    value: HEADING_KEYS.h1,\n  },\n  {\n    icon: <Heading2Icon />,\n    keywords: ['subtitle', 'h2'],\n    label: 'Heading 2',\n    value: HEADING_KEYS.h2,\n  },\n  {\n    icon: <Heading3Icon />,\n    keywords: ['subtitle', 'h3'],\n    label: 'Heading 3',\n    value: HEADING_KEYS.h3,\n  },\n  {\n    icon: <ListIcon />,\n    keywords: ['unordered', 'ul', '-'],\n    label: 'Bulleted list',\n    value: ListStyleType.Disc,\n  },\n  {\n    icon: <ListOrderedIcon />,\n    keywords: ['ordered', 'ol', '1'],\n    label: 'Numbered list',\n    value: ListStyleType.Decimal,\n  },\n  {\n    icon: <SquareIcon />,\n    keywords: ['checklist', 'task', 'checkbox', '[]'],\n    label: 'To-do list',\n    value: INDENT_LIST_KEYS.todo,\n  },\n  {\n    icon: <ChevronRightIcon />,\n    keywords: ['collapsible', 'expandable'],\n    label: 'Toggle list',\n    value: TogglePlugin.key,\n  },\n  {\n    icon: <FileCodeIcon />,\n    keywords: ['```'],\n    label: 'Code',\n    value: CodeBlockPlugin.key,\n  },\n  {\n    icon: <QuoteIcon />,\n    keywords: ['citation', 'blockquote', '>'],\n    label: 'Quote',\n    value: BlockquotePlugin.key,\n  },\n  {\n    icon: <Columns3Icon />,\n    label: '3 columns',\n    value: 'action_three_columns',\n  },\n];\n\nexport function TurnIntoDropdownMenu(props: DropdownMenuProps) {\n  const editor = useEditorRef();\n  const [open, setOpen] = React.useState(false); \n\n  const value = useSelectionFragmentProp({\n    defaultValue: ParagraphPlugin.key,\n    structuralTypes: STRUCTURAL_TYPES,\n    getProp: (node) => getBlockType(node as TElement),\n  });\n  const selectedItem = React.useMemo(\n    () =>\n      turnIntoItems.find(\n        (item) => item.value === (value ?? ParagraphPlugin.key)\n      ) ?? turnIntoItems[0],\n    [value]\n  );\n\n  return (\n    <DropdownMenu open={open} onOpenChange={setOpen} modal={false} {...props}>\n      <DropdownMenuTrigger asChild>\n        <ToolbarButton\n          className=\"min-w-[125px]\"\n          pressed={open}\n          tooltip=\"Turn into\"\n          isDropdown\n        >\n          {selectedItem.label}\n        </ToolbarButton>\n      </DropdownMenuTrigger>\n\n      <DropdownMenuContent\n        className=\"ignore-click-outside/toolbar min-w-0\"\n        onCloseAutoFocus={(e) => {\n          e.preventDefault();\n          editor.tf.focus();\n        }}\n        align=\"start\"\n      >\n        <ToolbarMenuGroup\n          value={value}\n          onValueChange={(type) => {\n            setBlockType(editor, type);\n          }}\n          label=\"Turn into\"\n        >\n          {turnIntoItems.map(({ icon, label, value: itemValue }) => (\n            <DropdownMenuRadioItem\n              key={itemValue}\n              className=\"min-w-[180px] pl-2 *:first:[span]:hidden\"\n              value={itemValue}\n            >\n              <span className=\"pointer-events-none absolute right-2 flex size-3.5 items-center justify-center\">\n                <DropdownMenuItemIndicator>\n                  <CheckIcon />\n                </DropdownMenuItemIndicator>\n              </span>\n              {icon}\n              {label}\n            </DropdownMenuRadioItem>\n          ))}\n        </ToolbarMenuGroup>\n      </DropdownMenuContent>\n    </DropdownMenu>\n  );\n}\n","'use client';\n\nimport { createPlatePlugin } from '@udecode/plate/react';\n\nimport { PLUGIN_KEY } from '../core/use-create-editor';\nimport { FloatingToolbar } from '../ui/floating-toolbar';\nimport { FloatingToolbarButtons } from '../ui/floating-toolbar-buttons';\n\nexport const FloatingToolbarPlugin:any =  ({allows, classes}:{allows:PLUGIN_KEY[], classes?:{className?:string, groupClass?:string}}) => { return createPlatePlugin({\n  key: 'floating-toolbar',\n  render: {\n    afterEditable: () => (\n      <FloatingToolbar className={classes?.className || \"\"}>\n        <FloatingToolbarButtons allows={allows} groupClass={classes?.groupClass || \"\"} />\n      </FloatingToolbar>\n    ),\n  },\n})};\n","'use client';\n\nimport * as React from 'react';\n\nimport { useComposedRef } from '@udecode/cn';\nimport {\n  flip,\n  type FloatingToolbarState,\n  offset,\n  useFloatingToolbar,\n  useFloatingToolbarState,\n} from '@udecode/plate-floating';\nimport {\n  useEditorId,\n  useEventEditorValue,\n  usePluginOption,\n} from '@udecode/plate/react';\n\nimport { cn } from '../../../libs/utils';\nimport { Toolbar } from './toolbar';\n\nexport type FloatingToolbarProps = React.ComponentProps<typeof Toolbar> & {\n  state?: FloatingToolbarState;\n};\n\nexport function FloatingToolbar({\n  children,\n  className,\n  state,\n  ...props\n}: FloatingToolbarProps) {\n  const editorId = useEditorId();\n  const focusedEditorId = useEventEditorValue('focus');\n  const isFloatingLinkOpen = !!usePluginOption({ key: 'a' }, 'mode');\n  const isAIChatOpen = usePluginOption({ key: 'aiChat' }, 'open');\n\n  const floatingToolbarState = useFloatingToolbarState({\n    editorId,\n    focusedEditorId,\n    hideToolbar: isFloatingLinkOpen || isAIChatOpen,\n    ...state,\n    floatingOptions: {\n      middleware: [\n        offset(12),\n        flip({\n          fallbackPlacements: [\n            'top-start',\n            'top-end',\n            'bottom-start',\n            'bottom-end',\n          ],\n          padding: 12,\n        }),\n      ],\n      placement: 'top',\n      ...state?.floatingOptions,\n    },\n  });\n\n  const {\n    clickOutsideRef,\n    hidden,\n    props: rootProps,\n    ref: floatingRef,\n  } = useFloatingToolbar(floatingToolbarState);\n\n  const ref = useComposedRef<HTMLDivElement>(props.ref, floatingRef);\n\n  if (hidden) return null;\n\n  return (\n    <div ref={clickOutsideRef}>\n      <Toolbar\n        {...props}\n        {...rootProps}\n        ref={ref}\n        className={cn(\n          'absolute z-50 scrollbar-hide overflow-x-auto rounded-md border bg-popover p-1 whitespace-nowrap opacity-100 shadow-md print:hidden',\n          'max-w-[80vw]',\n          className\n        )}\n      >\n        {children}\n      </Toolbar>\n    </div>\n  );\n}\n","import * as React from 'react';\n\nimport {\n  BoldIcon,\n  Code2Icon,\n  ItalicIcon,\n  StrikethroughIcon,\n  UnderlineIcon,\n  WandSparklesIcon,\n} from 'lucide-react';\n\nimport {\n  BoldPlugin,\n  CodePlugin,\n  ItalicPlugin,\n  StrikethroughPlugin,\n  UnderlinePlugin,\n} from '@udecode/plate-basic-marks/react';\nimport { useEditorReadOnly } from '@udecode/plate/react';\n\nimport { PLUGIN_KEY } from '../core/use-create-editor';\nimport { AIToolbarButton } from './ai-toolbar-button';\nimport { CommentToolbarButton } from './comment-toolbar-button';\nimport { InlineEquationToolbarButton } from './inline-equation-toolbar-button';\nimport { LinkToolbarButton } from './link-toolbar-button';\nimport { MarkToolbarButton } from './mark-toolbar-button';\nimport { MoreDropdownMenu } from './more-dropdown-menu';\nimport { SuggestionToolbarButton } from './suggestion-toolbar-button';\nimport { ToolbarGroup } from './toolbar';\nimport { TurnIntoDropdownMenu } from './turn-into-dropdown-menu';\n\n;\n\nexport function FloatingToolbarButtons({\n\tallows,\n\tgroupClass,\n}: {\n\tallows: PLUGIN_KEY[];\n\tgroupClass?: string;\n}) {\n\tconst readOnly = useEditorReadOnly();\n\n\treturn (\n\t\t<>\n\t\t\t{!readOnly && (\n\t\t\t\t<>\n\t\t\t\t\t<ToolbarGroup className={groupClass || \"\"}>\n\t\t\t\t\t\t{allows.includes(\"ai\") && (\n\t\t\t\t\t\t\t<AIToolbarButton tooltip=\"AI commands\">\n\t\t\t\t\t\t\t\t<WandSparklesIcon />\n\t\t\t\t\t\t\t\tAsk AI\n\t\t\t\t\t\t\t</AIToolbarButton>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</ToolbarGroup>\n\n\t\t\t\t\t<ToolbarGroup className={groupClass || \"\"}>\n\t\t\t\t\t\t{allows.includes(\"turn_into\") && <TurnIntoDropdownMenu />}\n\n\t\t\t\t\t\t{allows.includes(\"bold\") && (\n\t\t\t\t\t\t\t<MarkToolbarButton nodeType={BoldPlugin.key} tooltip=\"Bold (⌘+B)\">\n\t\t\t\t\t\t\t\t<BoldIcon />\n\t\t\t\t\t\t\t</MarkToolbarButton>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{allows.includes(\"italic\") && (\n\t\t\t\t\t\t\t<MarkToolbarButton nodeType={ItalicPlugin.key} tooltip=\"Italic (⌘+I)\">\n\t\t\t\t\t\t\t\t<ItalicIcon />\n\t\t\t\t\t\t\t</MarkToolbarButton>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{allows.includes(\"underline\") && (\n\t\t\t\t\t\t\t<MarkToolbarButton nodeType={UnderlinePlugin.key} tooltip=\"Underline (⌘+U)\">\n\t\t\t\t\t\t\t\t<UnderlineIcon />\n\t\t\t\t\t\t\t</MarkToolbarButton>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{allows.includes(\"strikethrough\") && (\n\t\t\t\t\t\t\t<MarkToolbarButton nodeType={StrikethroughPlugin.key} tooltip=\"Strikethrough (⌘+⇧+M)\">\n\t\t\t\t\t\t\t\t<StrikethroughIcon />\n\t\t\t\t\t\t\t</MarkToolbarButton>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{allows.includes(\"code\") && (\n\t\t\t\t\t\t\t<MarkToolbarButton nodeType={CodePlugin.key} tooltip=\"Code (⌘+E)\">\n\t\t\t\t\t\t\t\t<Code2Icon />\n\t\t\t\t\t\t\t</MarkToolbarButton>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{allows.includes(\"equation\") && <InlineEquationToolbarButton />}\n\t\t\t\t\t\t{allows.includes(\"link\") && <LinkToolbarButton />}\n\t\t\t\t\t</ToolbarGroup>\n\t\t\t\t</>\n\t\t\t)}\n\n\t\t\t<ToolbarGroup>\n\t\t\t\t{allows.includes(\"comment\") && <CommentToolbarButton />}\n\t\t\t\t{allows.includes(\"suggestion\") && <SuggestionToolbarButton />}\n\n\t\t\t\t{!readOnly && allows.includes(\"more\") && <MoreDropdownMenu />}\n\t\t\t</ToolbarGroup>\n\t\t</>\n\t);\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport { insertInlineEquation } from '@udecode/plate-math';\nimport { useEditorRef } from '@udecode/plate/react';\nimport { RadicalIcon } from 'lucide-react';\n\nimport { ToolbarButton } from './toolbar';\n\nexport function InlineEquationToolbarButton(\n  props: React.ComponentProps<typeof ToolbarButton>\n) {\n  const editor = useEditorRef();\n\n  return (\n    <ToolbarButton\n      {...props}\n      onClick={() => {\n        insertInlineEquation(editor);\n      }}\n      tooltip=\"Mark as equation\"\n    >\n      <RadicalIcon />\n    </ToolbarButton>\n  );\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport { PencilLineIcon } from 'lucide-react';\n\nimport { SuggestionPlugin } from '@udecode/plate-suggestion/react';\nimport {\n  useEditorPlugin,\n  usePluginOption,\n} from '@udecode/plate/react';\n\nimport { cn } from '../../../libs/utils';\nimport { ToolbarButton } from './toolbar';\n\nexport function SuggestionToolbarButton() {\n  const { setOption } = useEditorPlugin(SuggestionPlugin);\n  const isSuggesting = usePluginOption(SuggestionPlugin, 'isSuggesting');\n\n  return (\n    <ToolbarButton\n      className={cn(isSuggesting && 'text-brand/80 hover:text-brand/80')}\n      onClick={() => setOption('isSuggesting', !isSuggesting)}\n      onMouseDown={(e) => e.preventDefault()}\n      tooltip={isSuggesting ? 'Turn off suggesting' : 'Suggestion edits'}\n    >\n      <PencilLineIcon />\n    </ToolbarButton>\n  );\n}\n","'use client';\n\nimport {\n  PlateElement,\n  type PlateElementProps,\n} from '@udecode/plate/react';\n\nimport { BlockWithPlus } from '../core/element-wrapper';\n\nexport function BlockquoteElement(props: PlateElementProps) {\n  return (\n    <BlockWithPlus element={props.element}>\n      <PlateElement\n        as=\"blockquote\"\n        className=\"my-1 border-l-2 pl-6 italic\"\n        {...props}\n      />\n    </BlockWithPlus>\n  );\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport { cn } from '@udecode/cn';\nimport { useCalloutEmojiPicker } from '@udecode/plate-callout/react';\nimport { useEmojiDropdownMenuState } from '@udecode/plate-emoji/react';\nimport { PlateElement } from '@udecode/plate/react';\n\nimport { BlockWithPlus } from '../core/element-wrapper';\nimport { Button } from './button';\nimport {\n  emojiCategoryIcons,\n  emojiSearchIcons,\n} from './emoji-icons';\nimport { EmojiPicker } from './emoji-picker';\nimport { EmojiToolbarDropdown } from './emoji-toolbar-dropdown';\n\nexport function CalloutElement({\n  attributes,\n  children,\n  className,\n  ...props\n}: React.ComponentProps<typeof PlateElement>) {\n  const { emojiPickerState, isOpen, setIsOpen } = useEmojiDropdownMenuState({\n    closeOnSelect: true,\n  });\n\n  const { emojiToolbarDropdownProps, props: calloutProps } =\n    useCalloutEmojiPicker({\n      isOpen,\n      setIsOpen,\n    });\n\n  return (\n    <BlockWithPlus element={props.element}>\n      <PlateElement\n        className={cn('my-1 flex rounded-sm bg-muted p-4 pl-3', className)}\n        style={{\n          backgroundColor: props.element.backgroundColor as any,\n        }}\n        attributes={{\n          ...attributes,\n          'data-plate-open-context-menu': true,\n        }}\n        {...props}\n      >\n        <div className=\"flex w-full gap-2 rounded-md\">\n          <EmojiToolbarDropdown\n            {...emojiToolbarDropdownProps}\n            control={\n              <Button\n                variant=\"ghost\"\n                className=\"size-6 p-1 text-[18px] select-none hover:bg-muted-foreground/15\"\n                style={{\n                  fontFamily:\n                    '\"Apple Color Emoji\", \"Segoe UI Emoji\", NotoColorEmoji, \"Noto Color Emoji\", \"Segoe UI Symbol\", \"Android Emoji\", EmojiSymbols',\n                }}\n                contentEditable={false}\n              >\n                {(props.element.icon as any) || '💡'}\n              </Button>\n            }\n          >\n            <EmojiPicker\n              {...emojiPickerState}\n              {...calloutProps}\n              icons={{\n                categories: emojiCategoryIcons,\n                search: emojiSearchIcons,\n              }}\n            />\n          </EmojiToolbarDropdown>\n          <div className=\"w-full\">{children}</div>\n        </div>\n      </PlateElement>\n    </BlockWithPlus>\n  );\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport {\n  BracesIcon,\n  CheckIcon,\n  CopyIcon,\n} from 'lucide-react';\n\nimport { NodeApi } from '@udecode/plate';\nimport {\n  formatCodeBlock,\n  isLangSupported,\n  type TCodeBlockElement,\n} from '@udecode/plate-code-block';\nimport {\n  PlateElement,\n  type PlateElementProps,\n} from '@udecode/plate/react';\n\nimport { BlockWithPlus } from '../core/element-wrapper';\nimport { Button } from './button';\nimport { CodeBlockCombobox } from './code-block-combobox';\n\nexport function CodeBlockElement(props: PlateElementProps<TCodeBlockElement>) {\n  const { editor, element } = props;\n\n  return (\n    <BlockWithPlus element={element}>\n      <PlateElement\n        className=\"py-1 **:[.hljs-addition]:bg-[#f0fff4] **:[.hljs-addition]:text-[#22863a] **:[.hljs-attr,.hljs-attribute,.hljs-literal,.hljs-meta,.hljs-number,.hljs-operator,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-id,.hljs-variable]:text-[#005cc5] **:[.hljs-built_in,.hljs-symbol]:text-[#e36209] **:[.hljs-bullet]:text-[#735c0f] **:[.hljs-comment,.hljs-code,.hljs-formula]:text-[#6a737d] **:[.hljs-deletion]:bg-[#ffeef0] **:[.hljs-deletion]:text-[#b31d28] **:[.hljs-emphasis]:italic **:[.hljs-keyword,.hljs-doctag,.hljs-template-tag,.hljs-template-variable,.hljs-type,.hljs-variable.language_]:text-[#d73a49] **:[.hljs-name,.hljs-quote,.hljs-selector-tag,.hljs-selector-pseudo]:text-[#22863a] **:[.hljs-regexp,.hljs-string,.hljs-meta_.hljs-string]:text-[#032f62] **:[.hljs-section]:font-bold **:[.hljs-section]:text-[#005cc5] **:[.hljs-strong]:font-bold **:[.hljs-title,.hljs-title.class_,.hljs-title.class_.inherited__,.hljs-title.function_]:text-[#6f42c1]\"\n        {...props}\n      >\n        <div className=\"relative rounded-md bg-muted/50\">\n          <pre className=\"overflow-x-auto p-8 pr-4 font-mono text-sm leading-[normal] [tab-size:2] print:break-inside-avoid\">\n            <code>{props.children}</code>\n          </pre>\n  \n          <div\n            className=\"absolute top-1 right-1 z-10 flex gap-0.5 select-none\"\n            contentEditable={false}\n          >\n            {isLangSupported(element.lang) && (\n              <Button\n                size=\"icon\"\n                variant=\"ghost\"\n                className=\"size-6 text-xs\"\n                onClick={() => formatCodeBlock(editor, { element })}\n                title=\"Format code\"\n              >\n                <BracesIcon className=\"!size-3.5 text-muted-foreground\" />\n              </Button>\n            )}\n  \n            <CodeBlockCombobox />\n  \n            <CopyButton\n              size=\"icon\"\n              variant=\"ghost\"\n              className=\"size-6 gap-1 text-xs text-muted-foreground\"\n              value={() => NodeApi.string(element)}\n            />\n          </div>\n        </div>\n      </PlateElement>\n    </BlockWithPlus>\n  );\n}\n\nfunction CopyButton({\n  value,\n  ...props\n}: { value: (() => string) | string } & Omit<\n  React.ComponentProps<typeof Button>,\n  'value'\n>) {\n  const [hasCopied, setHasCopied] = React.useState(false);\n\n  React.useEffect(() => {\n    setTimeout(() => {\n      setHasCopied(false);\n    }, 2000);\n  }, [hasCopied]);\n\n  return (\n    <Button\n      onClick={() => {\n        void navigator.clipboard.writeText(\n          typeof value === 'function' ? value() : value\n        );\n        setHasCopied(true);\n      }}\n      {...props}\n    >\n      <span className=\"sr-only\">Copy</span>\n      {hasCopied ? (\n        <CheckIcon className=\"!size-3\" />\n      ) : (\n        <CopyIcon className=\"!size-3\" />\n      )}\n    </Button>\n  );\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport { Check } from 'lucide-react';\n\nimport type { TCodeBlockElement } from '@udecode/plate-code-block';\nimport {\n  useEditorRef,\n  useElement,\n  useReadOnly,\n} from '@udecode/plate/react';\n\nimport { cn } from '../../../libs/utils';\nimport { Button } from './button';\nimport {\n  Command,\n  CommandEmpty,\n  CommandGroup,\n  CommandInput,\n  CommandItem,\n  CommandList,\n} from './command';\nimport {\n  Popover,\n  PopoverContent,\n  PopoverTrigger,\n} from './popover';\n\nconst languages: { label: string; value: string }[] = [\n  { label: 'Auto', value: 'auto' },\n  { label: 'Plain Text', value: 'plaintext' },\n  { label: 'ABAP', value: 'abap' },\n  { label: 'Agda', value: 'agda' },\n  { label: 'Arduino', value: 'arduino' },\n  { label: 'ASCII Art', value: 'ascii' },\n  { label: 'Assembly', value: 'x86asm' },\n  { label: 'Bash', value: 'bash' },\n  { label: 'BASIC', value: 'basic' },\n  { label: 'BNF', value: 'bnf' },\n  { label: 'C', value: 'c' },\n  { label: 'C#', value: 'csharp' },\n  { label: 'C++', value: 'cpp' },\n  { label: 'Clojure', value: 'clojure' },\n  { label: 'CoffeeScript', value: 'coffeescript' },\n  { label: 'Coq', value: 'coq' },\n  { label: 'CSS', value: 'css' },\n  { label: 'Dart', value: 'dart' },\n  { label: 'Dhall', value: 'dhall' },\n  { label: 'Diff', value: 'diff' },\n  { label: 'Docker', value: 'dockerfile' },\n  { label: 'EBNF', value: 'ebnf' },\n  { label: 'Elixir', value: 'elixir' },\n  { label: 'Elm', value: 'elm' },\n  { label: 'Erlang', value: 'erlang' },\n  { label: 'F#', value: 'fsharp' },\n  { label: 'Flow', value: 'flow' },\n  { label: 'Fortran', value: 'fortran' },\n  { label: 'Gherkin', value: 'gherkin' },\n  { label: 'GLSL', value: 'glsl' },\n  { label: 'Go', value: 'go' },\n  { label: 'GraphQL', value: 'graphql' },\n  { label: 'Groovy', value: 'groovy' },\n  { label: 'Haskell', value: 'haskell' },\n  { label: 'HCL', value: 'hcl' },\n  { label: 'HTML', value: 'html' },\n  { label: 'Idris', value: 'idris' },\n  { label: 'Java', value: 'java' },\n  { label: 'JavaScript', value: 'javascript' },\n  { label: 'JSON', value: 'json' },\n  { label: 'Julia', value: 'julia' },\n  { label: 'Kotlin', value: 'kotlin' },\n  { label: 'LaTeX', value: 'latex' },\n  { label: 'Less', value: 'less' },\n  { label: 'Lisp', value: 'lisp' },\n  { label: 'LiveScript', value: 'livescript' },\n  { label: 'LLVM IR', value: 'llvm' },\n  { label: 'Lua', value: 'lua' },\n  { label: 'Makefile', value: 'makefile' },\n  { label: 'Markdown', value: 'markdown' },\n  { label: 'Markup', value: 'markup' },\n  { label: 'MATLAB', value: 'matlab' },\n  { label: 'Mathematica', value: 'mathematica' },\n  { label: 'Mermaid', value: 'mermaid' },\n  { label: 'Nix', value: 'nix' },\n  { label: 'Notion Formula', value: 'notion' },\n  { label: 'Objective-C', value: 'objectivec' },\n  { label: 'OCaml', value: 'ocaml' },\n  { label: 'Pascal', value: 'pascal' },\n  { label: 'Perl', value: 'perl' },\n  { label: 'PHP', value: 'php' },\n  { label: 'PowerShell', value: 'powershell' },\n  { label: 'Prolog', value: 'prolog' },\n  { label: 'Protocol Buffers', value: 'protobuf' },\n  { label: 'PureScript', value: 'purescript' },\n  { label: 'Python', value: 'python' },\n  { label: 'R', value: 'r' },\n  { label: 'Racket', value: 'racket' },\n  { label: 'Reason', value: 'reasonml' },\n  { label: 'Ruby', value: 'ruby' },\n  { label: 'Rust', value: 'rust' },\n  { label: 'Sass', value: 'scss' },\n  { label: 'Scala', value: 'scala' },\n  { label: 'Scheme', value: 'scheme' },\n  { label: 'SCSS', value: 'scss' },\n  { label: 'Shell', value: 'shell' },\n  { label: 'Smalltalk', value: 'smalltalk' },\n  { label: 'Solidity', value: 'solidity' },\n  { label: 'SQL', value: 'sql' },\n  { label: 'Swift', value: 'swift' },\n  { label: 'TOML', value: 'toml' },\n  { label: 'TypeScript', value: 'typescript' },\n  { label: 'VB.Net', value: 'vbnet' },\n  { label: 'Verilog', value: 'verilog' },\n  { label: 'VHDL', value: 'vhdl' },\n  { label: 'Visual Basic', value: 'vbnet' },\n  { label: 'WebAssembly', value: 'wasm' },\n  { label: 'XML', value: 'xml' },\n  { label: 'YAML', value: 'yaml' },\n];\n\nexport function CodeBlockCombobox() {\n  const [open, setOpen] = React.useState(false);\n  const readOnly = useReadOnly();\n  const editor = useEditorRef();\n  const element = useElement<TCodeBlockElement>();\n  const value = element.lang || 'plaintext';\n  const [searchValue, setSearchValue] = React.useState('');\n\n  const items = React.useMemo(\n    () =>\n      languages.filter(\n        (language) =>\n          !searchValue ||\n          language.label.toLowerCase().includes(searchValue.toLowerCase())\n      ),\n    [searchValue]\n  );\n\n  if (readOnly) return null;\n\n  return (\n    <Popover open={open} onOpenChange={setOpen}>\n      <PopoverTrigger asChild>\n        <Button\n          size=\"sm\"\n          variant=\"ghost\"\n          className=\"h-6 justify-between gap-1 px-2 text-xs text-muted-foreground select-none\"\n          aria-expanded={open}\n          role=\"combobox\"\n        >\n          {languages.find((language) => language.value === value)?.label ??\n            'Plain Text'}\n        </Button>\n      </PopoverTrigger>\n      <PopoverContent\n        className=\"w-[200px] p-0\"\n        onCloseAutoFocus={() => setSearchValue('')}\n      >\n        <Command shouldFilter={false}>\n          <CommandInput\n            className=\"h-9\"\n            value={searchValue}\n            onValueChange={(value) => setSearchValue(value)}\n            placeholder=\"Search language...\"\n          />\n          <CommandEmpty>No language found.</CommandEmpty>\n\n          <CommandList className=\"h-[344px] overflow-y-auto\">\n            <CommandGroup>\n              {items.map((language) => (\n                <CommandItem\n                  key={language.label}\n                  className=\"cursor-pointer\"\n                  value={language.value}\n                  onSelect={(value) => {\n                    editor.tf.setNodes<TCodeBlockElement>(\n                      { lang: value },\n                      { at: element }\n                    );\n                    setSearchValue(value);\n                    setOpen(false);\n                  }}\n                >\n                  <Check\n                    className={cn(\n                      value === language.value ? 'opacity-100' : 'opacity-0'\n                    )}\n                  />\n                  {language.label}\n                </CommandItem>\n              ))}\n            </CommandGroup>\n          </CommandList>\n        </Command>\n      </PopoverContent>\n    </Popover>\n  );\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport type { PlateLeafProps } from '@udecode/plate/react';\n\nimport { PlateLeaf } from '@udecode/plate/react';\n\nexport function CodeLeaf(props: PlateLeafProps) {\n  return (\n    <PlateLeaf\n      {...props}\n      as=\"code\"\n      className=\"rounded-md bg-muted px-[0.3em] py-[0.2em] font-mono text-sm whitespace-pre-wrap\"\n    >\n      {props.children}\n    </PlateLeaf>\n  );\n}\n","'use client';\n\nimport {\n  PlateElement,\n  type PlateElementProps,\n} from '@udecode/plate/react';\n\nexport function CodeLineElement(props: PlateElementProps) {\n  return <PlateElement {...props} />\n}\n","'use client';\n\nimport { type PlateLeafProps, PlateLeaf } from '@udecode/plate/react';\n\nexport function CodeSyntaxLeaf(props: PlateLeafProps) {\n  const tokenClassName = props.leaf.className as string;\n\n  return <PlateLeaf className={tokenClassName} {...props} />;\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport { GripHorizontal } from 'lucide-react';\n\nimport { useComposedRef } from '@udecode/cn';\nimport { PathApi } from '@udecode/plate';\nimport {\n  useDraggable,\n  useDropLine,\n} from '@udecode/plate-dnd';\nimport type { TColumnElement } from '@udecode/plate-layout';\nimport { ResizableProvider } from '@udecode/plate-resizable';\nimport { BlockSelectionPlugin } from '@udecode/plate-selection/react';\nimport type { PlateElementProps } from '@udecode/plate/react';\nimport {\n  PlateElement,\n  usePluginOption,\n  useReadOnly,\n  withHOC,\n} from '@udecode/plate/react';\n\nimport { cn } from '../../../libs/utils';\nimport { Button } from './button';\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipProvider,\n  TooltipTrigger,\n} from './tooltip';\n\nexport const ColumnElement:any = withHOC(\n  ResizableProvider,\n  function ColumnElement(props: PlateElementProps<TColumnElement>) {\n    const { width } = props.element;\n    const readOnly = useReadOnly();\n    const isSelectionAreaVisible = usePluginOption(\n      BlockSelectionPlugin,\n      'isSelectionAreaVisible'\n    );\n\n    const { isDragging, previewRef, handleRef } = useDraggable({\n      element: props.element,\n      orientation: 'horizontal',\n      type: 'column',\n      canDropNode: ({ dragEntry, dropEntry }) =>\n        PathApi.equals(\n          PathApi.parent(dragEntry[1]),\n          PathApi.parent(dropEntry[1])\n        ),\n    });\n\n    return (\n      <div className=\"group/column relative\" style={{ width: width ?? '100%' }}>\n        {!readOnly && !isSelectionAreaVisible && (\n          <div\n            ref={handleRef}\n            className={cn(\n              'absolute top-2 left-1/2 z-50 -translate-x-1/2 -translate-y-1/2',\n              'pointer-events-auto flex items-center',\n              'opacity-0 transition-opacity group-hover/column:opacity-100'\n            )}\n          >\n            <ColumnDragHandle />\n          </div>\n        )}\n\n        <PlateElement\n          {...props}\n          ref={useComposedRef(props.ref, previewRef)}\n          className=\"h-full px-2 pt-2 group-first/column:pl-0 group-last/column:pr-0\"\n        >\n          <div\n            className={cn(\n              'relative h-full border border-transparent p-1.5',\n              !readOnly && 'rounded-lg border-dashed border-border',\n              isDragging && 'opacity-50'\n            )}\n          >\n            {props.children}\n\n            {!readOnly && !isSelectionAreaVisible && <DropLine />}\n          </div>\n        </PlateElement>\n      </div>\n    );\n  }\n);\n\nconst ColumnDragHandle:any = React.memo(function ColumnDragHandle() {\n  return (\n    <TooltipProvider>\n      <Tooltip>\n        <TooltipTrigger asChild>\n          <Button variant=\"ghost\" className=\"h-5 !px-1\">\n            <GripHorizontal\n              className=\"text-muted-foreground\"\n              onClick={(event) => {\n                event.stopPropagation();\n                event.preventDefault();\n              }}\n            />\n          </Button>\n        </TooltipTrigger>\n\n        <TooltipContent>Drag to move column</TooltipContent>\n      </Tooltip>\n    </TooltipProvider>\n  );\n});\n\nfunction DropLine() {\n  const { dropLine } = useDropLine({ orientation: 'horizontal' });\n\n  if (!dropLine) return null;\n\n  return (\n    <div\n      className={cn(\n        'slate-dropLine',\n        'absolute bg-brand/50',\n        dropLine === 'left' &&\n          'inset-y-0 left-[-10.5px] w-1 group-first/column:-left-1',\n        dropLine === 'right' &&\n          'inset-y-0 right-[-11px] w-1 group-last/column:-right-1'\n      )}\n    />\n  );\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport {\n  type LucideProps,\n  Trash2Icon,\n} from 'lucide-react';\n\nimport type { TColumnElement } from '@udecode/plate-layout';\nimport { setColumns } from '@udecode/plate-layout';\nimport { useDebouncePopoverOpen } from '@udecode/plate-layout/react';\nimport type { PlateElementProps } from '@udecode/plate/react';\nimport {\n  PlateElement,\n  useEditorRef,\n  useElement,\n  useReadOnly,\n  useRemoveNodeButton,\n} from '@udecode/plate/react';\n\nimport { Button } from './button';\nimport {\n  Popover,\n  PopoverAnchor,\n  PopoverContent,\n} from './popover';\nimport { Separator } from './separator';\n\nexport function ColumnGroupElement(props: PlateElementProps) {\n  return (\n    <PlateElement className=\"mb-2\" {...props}>\n      <ColumnFloatingToolbar>\n        <div className=\"flex size-full rounded\">{props.children}</div>\n      </ColumnFloatingToolbar>\n    </PlateElement>\n  );\n}\n\nexport function ColumnFloatingToolbar({ children }: React.PropsWithChildren) {\n  const editor = useEditorRef();\n  const readOnly = useReadOnly();\n  const element = useElement<TColumnElement>();\n\n  const { props: buttonProps } = useRemoveNodeButton({ element });\n\n  const isOpen = useDebouncePopoverOpen();\n\n  const onColumnChange = (widths: string[]) => {\n    setColumns(editor, {\n      at: element,\n      widths,\n    });\n  };\n\n  if (readOnly) return <>{children}</>;\n\n  return (\n    <Popover open={isOpen} modal={false}>\n      <PopoverAnchor>{children}</PopoverAnchor>\n      <PopoverContent\n        className=\"w-auto p-1\"\n        onOpenAutoFocus={(e) => e.preventDefault()}\n        align=\"center\"\n        side=\"top\"\n        sideOffset={10}\n      >\n        <div className=\"box-content flex h-8 items-center\">\n          <Button\n            variant=\"ghost\"\n            className=\"size-8\"\n            onClick={() => onColumnChange(['50%', '50%'])}\n          >\n            <DoubleColumnOutlined />\n          </Button>\n          <Button\n            variant=\"ghost\"\n            className=\"size-8\"\n            onClick={() => onColumnChange(['33%', '33%', '33%'])}\n          >\n            <ThreeColumnOutlined />\n          </Button>\n          <Button\n            variant=\"ghost\"\n            className=\"size-8\"\n            onClick={() => onColumnChange(['70%', '30%'])}\n          >\n            <RightSideDoubleColumnOutlined />\n          </Button>\n          <Button\n            variant=\"ghost\"\n            className=\"size-8\"\n            onClick={() => onColumnChange(['30%', '70%'])}\n          >\n            <LeftSideDoubleColumnOutlined />\n          </Button>\n          <Button\n            variant=\"ghost\"\n            className=\"size-8\"\n            onClick={() => onColumnChange(['25%', '50%', '25%'])}\n          >\n            <DoubleSideDoubleColumnOutlined />\n          </Button>\n\n          <Separator orientation=\"vertical\" className=\"mx-1 h-6\" />\n          <Button variant=\"ghost\" className=\"size-8\" {...buttonProps}>\n            <Trash2Icon />\n          </Button>\n        </div>\n      </PopoverContent>\n    </Popover>\n  );\n}\n\nconst DoubleColumnOutlined:any = (props: LucideProps) => (\n  <svg\n    fill=\"none\"\n    height=\"16\"\n    viewBox=\"0 0 16 16\"\n    width=\"16\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    {...props}\n  >\n    <path\n      clipRule=\"evenodd\"\n      d=\"M8.5 3H13V13H8.5V3ZM7.5 2H8.5H13C13.5523 2 14 2.44772 14 3V13C14 13.5523 13.5523 14 13 14H8.5H7.5H3C2.44772 14 2 13.5523 2 13V3C2 2.44772 2.44772 2 3 2H7.5ZM7.5 13H3L3 3H7.5V13Z\"\n      fill=\"currentColor\"\n      fillRule=\"evenodd\"\n    />\n  </svg>\n);\n\nconst ThreeColumnOutlined:any = (props: LucideProps) => (\n  <svg\n    fill=\"none\"\n    height=\"16\"\n    viewBox=\"0 0 16 16\"\n    width=\"16\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    {...props}\n  >\n    <path\n      clipRule=\"evenodd\"\n      d=\"M9.25 3H6.75V13H9.25V3ZM9.25 2H6.75H5.75H3C2.44772 2 2 2.44772 2 3V13C2 13.5523 2.44772 14 3 14H5.75H6.75H9.25H10.25H13C13.5523 14 14 13.5523 14 13V3C14 2.44772 13.5523 2 13 2H10.25H9.25ZM10.25 3V13H13V3H10.25ZM3 13H5.75V3H3L3 13Z\"\n      fill=\"currentColor\"\n      fillRule=\"evenodd\"\n    />\n  </svg>\n);\n\nconst RightSideDoubleColumnOutlined:any = (props: LucideProps) => (\n  <svg\n    fill=\"none\"\n    height=\"16\"\n    viewBox=\"0 0 16 16\"\n    width=\"16\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    {...props}\n  >\n    <path\n      clipRule=\"evenodd\"\n      d=\"M11.25 3H13V13H11.25V3ZM10.25 2H11.25H13C13.5523 2 14 2.44772 14 3V13C14 13.5523 13.5523 14 13 14H11.25H10.25H3C2.44772 14 2 13.5523 2 13V3C2 2.44772 2.44772 2 3 2H10.25ZM10.25 13H3L3 3H10.25V13Z\"\n      fill=\"currentColor\"\n      fillRule=\"evenodd\"\n    />\n  </svg>\n);\n\nconst LeftSideDoubleColumnOutlined:any = (props: LucideProps) => (\n  <svg\n    fill=\"none\"\n    height=\"16\"\n    viewBox=\"0 0 16 16\"\n    width=\"16\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    {...props}\n  >\n    <path\n      clipRule=\"evenodd\"\n      d=\"M5.75 3H13V13H5.75V3ZM4.75 2H5.75H13C13.5523 2 14 2.44772 14 3V13C14 13.5523 13.5523 14 13 14H5.75H4.75H3C2.44772 14 2 13.5523 2 13V3C2 2.44772 2.44772 2 3 2H4.75ZM4.75 13H3L3 3H4.75V13Z\"\n      fill=\"currentColor\"\n      fillRule=\"evenodd\"\n    />\n  </svg>\n);\n\nconst DoubleSideDoubleColumnOutlined:any = (props: LucideProps) => (\n  <svg\n    fill=\"none\"\n    height=\"16\"\n    viewBox=\"0 0 16 16\"\n    width=\"16\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    {...props}\n  >\n    <path\n      clipRule=\"evenodd\"\n      d=\"M10.25 3H5.75V13H10.25V3ZM10.25 2H5.75H4.75H3C2.44772 2 2 2.44772 2 3V13C2 13.5523 2.44772 14 3 14H4.75H5.75H10.25H11.25H13C13.5523 14 14 13.5523 14 13V3C14 2.44772 13.5523 2 13 2H11.25H10.25ZM11.25 3V13H13V3H11.25ZM3 13H4.75V3H3L3 13Z\"\n      fill=\"currentColor\"\n      fillRule=\"evenodd\"\n    />\n  </svg>\n);\n","'use client';\n\nimport * as React from 'react';\n\nimport type { TCommentText } from '@udecode/plate-comments';\nimport { getCommentCount } from '@udecode/plate-comments';\nimport type { PlateLeafProps } from '@udecode/plate/react';\nimport {\n  PlateLeaf,\n  useEditorPlugin,\n  usePluginOption,\n} from '@udecode/plate/react';\n\nimport { cn } from '../../../libs/utils';\nimport { commentsPlugin } from '../plugins/comments-plugin';\n\nexport function CommentLeaf(props: PlateLeafProps<TCommentText>) {\n  const { children, leaf } = props;\n\n  const { api, setOption } = useEditorPlugin(commentsPlugin);\n  const hoverId = usePluginOption(commentsPlugin, 'hoverId');\n  const activeId = usePluginOption(commentsPlugin, 'activeId');\n\n  const isOverlapping = getCommentCount(leaf) > 1;\n  const currentId = api.comment.nodeId(leaf);\n  const isActive = activeId === currentId;\n  const isHover = hoverId === currentId;\n\n  return (\n    <PlateLeaf\n      {...props}\n      className={cn(\n        'border-b-2 border-b-highlight/[.36] bg-highlight/[.13] transition-colors duration-200',\n        (isHover || isActive) && 'border-b-highlight bg-highlight/25',\n        isOverlapping && 'border-b-2 border-b-highlight/[.7] bg-highlight/25',\n        (isHover || isActive) &&\n          isOverlapping &&\n          'border-b-highlight bg-highlight/45'\n      )}\n      attributes={{\n        ...props.attributes,\n        onClick: () => setOption('activeId', currentId ?? null),\n        onMouseEnter: () => setOption('hoverId', currentId ?? null),\n        onMouseLeave: () => setOption('hoverId', null),\n      }}\n    >\n      {children}\n    </PlateLeaf>\n  );\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport { RadicalIcon } from 'lucide-react';\n\nimport type { TEquationElement } from '@udecode/plate-math';\nimport { useEquationElement } from '@udecode/plate-math/react';\nimport type { PlateElementProps } from '@udecode/plate/react';\nimport {\n  PlateElement,\n  useSelected,\n} from '@udecode/plate/react';\n\nimport { cn } from '../../../libs/utils';\nimport { BlockWithPlus } from '../core/element-wrapper';\nimport { EquationPopoverContent } from './equation-popover';\nimport {\n  Popover,\n  PopoverTrigger,\n} from './popover';\n\nexport function EquationElement(props: PlateElementProps<TEquationElement>) {\n  const selected = useSelected();\n  const [open, setOpen] = React.useState(selected);\n  const katexRef = React.useRef<HTMLDivElement | null>(null);\n\n  useEquationElement({\n    element: props.element,\n    katexRef: katexRef,\n    options: {\n      displayMode: true,\n      errorColor: '#cc0000',\n      fleqn: false,\n      leqno: false,\n      macros: { '\\\\f': '#1f(#2)' },\n      output: 'htmlAndMathml',\n      strict: 'warn',\n      throwOnError: false,\n      trust: false,\n    },\n  });\n\n  return (\n    <BlockWithPlus element={props.element}>\n      <PlateElement className=\"my-1\" {...props}>\n        <Popover open={open} onOpenChange={setOpen} modal={false}>\n          <PopoverTrigger asChild>\n            <div\n              className={cn(\n                'group flex cursor-pointer items-center justify-center rounded-sm select-none hover:bg-primary/10 data-[selected=true]:bg-primary/10',\n                props.element.texExpression.length === 0\n                  ? 'bg-muted p-3 pr-9'\n                  : 'px-2 py-1'\n              )}\n              data-selected={selected}\n              contentEditable={false}\n              role=\"button\"\n            >\n              {props.element.texExpression.length > 0 ? (\n                <span ref={katexRef} />\n              ) : (\n                <div className=\"flex h-7 w-full items-center gap-2 text-sm whitespace-nowrap text-muted-foreground\">\n                  <RadicalIcon className=\"size-6 text-muted-foreground/80\" />\n                  <div>Add a Tex equation</div>\n                </div>\n              )}\n            </div>\n          </PopoverTrigger>\n  \n          <EquationPopoverContent\n            open={open}\n            placeholder={`f(x) = \\\\begin{cases}\\n  x^2, &\\\\quad x > 0 \\\\\\\\\\n  0, &\\\\quad x = 0 \\\\\\\\\\n  -x^2, &\\\\quad x < 0\\n\\\\end{cases}`}\n            isInline={false}\n            setOpen={setOpen}\n          />\n        </Popover>\n  \n        {props.children}\n      </PlateElement>\n    </BlockWithPlus>\n  );\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport type { TExcalidrawElement } from '@udecode/plate-excalidraw';\nimport { useExcalidrawElement } from '@udecode/plate-excalidraw/react';\nimport type { PlateElementProps } from '@udecode/plate/react';\nimport { PlateElement } from '@udecode/plate/react';\n\nimport { BlockWithPlus } from '../core/element-wrapper';\n\nexport function ExcalidrawElement(\n  props: PlateElementProps<TExcalidrawElement>\n) {\n  const { children, element } = props;\n\n  const { Excalidraw, excalidrawProps } = useExcalidrawElement({\n    element,\n  });\n\n  return (\n <BlockWithPlus element={element}>\n      <PlateElement {...props}>\n        <div contentEditable={false}>\n          <div className=\"mx-auto aspect-video h-[600px] w-[min(100%,600px)] overflow-hidden rounded-sm border\">\n            {Excalidraw && <Excalidraw {...(excalidrawProps as any)} />}\n          </div>\n        </div>\n        {children}\n      </PlateElement>\n </BlockWithPlus>\n  );\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport {\n  cva,\n  type VariantProps,\n} from 'class-variance-authority';\n\nimport type { PlateElementProps } from '@udecode/plate/react';\nimport { PlateElement } from '@udecode/plate/react';\n\nimport { BlockWithPlus } from '../core/element-wrapper';\n\nconst headingVariants = cva('relative mb-1', {\n  variants: {\n    variant: {\n      h1: 'mt-[1.6em] pb-1 font-heading text-4xl font-bold',\n      h2: 'mt-[1.4em] pb-px font-heading text-2xl font-semibold tracking-tight',\n      h3: 'mt-[1em] pb-px font-heading text-xl font-semibold tracking-tight',\n      h4: 'mt-[0.75em] font-heading text-lg font-semibold tracking-tight',\n      h5: 'mt-[0.75em] text-lg font-semibold tracking-tight',\n      h6: 'mt-[0.75em] text-base font-semibold tracking-tight',\n    },\n  },\n});\n\nexport function HeadingElement({\n  variant = 'h1',\n  ...props\n}: PlateElementProps & VariantProps<typeof headingVariants>) {\n  return (\n<BlockWithPlus element={props.element}>\n      <PlateElement\n        as={variant!}\n        className={headingVariants({ variant })}\n        {...props}\n      >\n        {props.children}\n      </PlateElement>\n</BlockWithPlus>\n  );\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport type { PlateLeafProps } from '@udecode/plate/react';\n\nimport { PlateLeaf } from '@udecode/plate/react';\n\nexport function HighlightLeaf(props: PlateLeafProps) {\n  return (\n    <PlateLeaf {...props} as=\"mark\" className=\"bg-highlight/30 text-inherit\">\n      {props.children}\n    </PlateLeaf>\n  );\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport type { PlateElementProps } from '@udecode/plate/react';\nimport {\n  PlateElement,\n  useFocused,\n  useReadOnly,\n  useSelected,\n} from '@udecode/plate/react';\n\nimport { cn } from '../../../libs/utils';\nimport { BlockWithPlus } from '../core/element-wrapper';\n\nexport function HrElement(props: PlateElementProps) {\n  const readOnly = useReadOnly();\n  const selected = useSelected();\n  const focused = useFocused();\n\n  return (\n<BlockWithPlus element={props.element}>\n      <PlateElement {...props}>\n        <div className=\"py-6\" contentEditable={false}>\n          <hr\n            className={cn(\n              'h-0.5 rounded-sm border-none bg-muted bg-clip-content',\n              selected && focused && 'ring-2 ring-ring ring-offset-2',\n              !readOnly && 'cursor-pointer'\n            )}\n          />\n        </div>\n        {props.children}\n      </PlateElement>\n</BlockWithPlus>\n  );\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport { useDraggable } from '@udecode/plate-dnd';\nimport type { TImageElement } from '@udecode/plate-media';\nimport {\n  Image,\n  ImagePlugin,\n  useMediaState,\n} from '@udecode/plate-media/react';\nimport {\n  ResizableProvider,\n  useResizableValue,\n} from '@udecode/plate-resizable';\nimport type { PlateElementProps } from '@udecode/plate/react';\nimport {\n  PlateElement,\n  withHOC,\n} from '@udecode/plate/react';\n\nimport { cn } from '../../../libs/utils';\nimport { BlockWithPlus } from '../core/element-wrapper';\nimport {\n  Caption,\n  CaptionTextarea,\n} from './caption';\nimport { MediaPopover } from './media-popover';\nimport {\n  mediaResizeHandleVariants,\n  Resizable,\n  ResizeHandle,\n} from './resize-handle';\n\nexport const ImageElement:any = withHOC(\n  ResizableProvider,\n  function ImageElement(props: PlateElementProps<TImageElement>) {\n    const { align = 'center', focused, readOnly, selected } = useMediaState();\n    const width = useResizableValue('width');\n\n    const { isDragging, handleRef } = useDraggable({\n      element: props.element,\n    });\n\n    return (\n      <BlockWithPlus element={props.element}>\n        <MediaPopover plugin={ImagePlugin}>\n          <PlateElement {...props} className=\"py-2.5\">\n            <figure className=\"group relative m-0\" contentEditable={false}>\n              <Resizable\n                align={align}\n                options={{\n                  align,\n                  readOnly,\n                }}\n              >\n                <ResizeHandle\n                  className={mediaResizeHandleVariants({ direction: 'left' })}\n                  options={{ direction: 'left' }}\n                />\n                <Image\n                  ref={handleRef}\n                  className={cn(\n                    'block w-full max-w-full cursor-pointer object-cover px-0',\n                    'rounded-sm',\n                    focused && selected && 'ring-2 ring-ring ring-offset-2',\n                    isDragging && 'opacity-50'\n                  )}\n                  alt={(props.attributes as any).alt}\n                />\n                <ResizeHandle\n                  className={mediaResizeHandleVariants({\n                    direction: 'right',\n                  })}\n                  options={{ direction: 'right' }}\n                />\n              </Resizable>\n  \n              <Caption style={{ width }} align={align}>\n                <CaptionTextarea\n                  readOnly={readOnly}\n                  onFocus={(e) => {\n                    e.preventDefault();\n                  }}\n                  placeholder=\"Write a caption...\"\n                />\n              </Caption>\n            </figure>\n  \n            {props.children}\n          </PlateElement>\n        </MediaPopover>\n      </BlockWithPlus>\n    );\n  }\n);\n","'use client';\n\nimport * as React from 'react';\n\nimport type { VariantProps } from 'class-variance-authority';\nimport { cva } from 'class-variance-authority';\n\nimport { createPrimitiveComponent } from '@udecode/cn';\nimport {\n  Caption as CaptionPrimitive,\n  CaptionTextarea as CaptionTextareaPrimitive,\n  useCaptionButton,\n  useCaptionButtonState,\n} from '@udecode/plate-caption/react';\n\nimport { cn } from '../../../libs/utils';\nimport { Button } from './button';\n\nconst captionVariants = cva('max-w-full', {\n  defaultVariants: {\n    align: 'center',\n  },\n  variants: {\n    align: {\n      center: 'mx-auto',\n      left: 'mr-auto',\n      right: 'ml-auto',\n    },\n  },\n});\n\nexport function Caption({\n  align,\n  className,\n  ...props\n}: React.ComponentProps<typeof CaptionPrimitive> &\n  VariantProps<typeof captionVariants>) {\n  return (\n    <CaptionPrimitive\n      {...props}\n      className={cn(captionVariants({ align }), className)}\n    />\n  );\n}\n\nexport function CaptionTextarea(\n  props: React.ComponentProps<typeof CaptionTextareaPrimitive>\n) {\n  return (\n    <CaptionTextareaPrimitive\n      {...props}\n      className={cn(\n        'mt-2 w-full resize-none border-none bg-inherit p-0 font-[inherit] text-inherit',\n        'focus:outline-none focus:[&::placeholder]:opacity-0',\n        'text-center print:placeholder:text-transparent',\n        props.className\n      )}\n    />\n  );\n}\n\nexport const CaptionButton:any = createPrimitiveComponent(Button)({\n  propsHook: useCaptionButton,\n  stateHook: useCaptionButtonState,\n});\n","'use client';\n\nimport * as React from 'react';\n\nimport { cva } from 'class-variance-authority';\nimport {\n  Link,\n  Trash2Icon,\n} from 'lucide-react';\n\nimport type { WithRequiredKey } from '@udecode/plate';\nimport {\n  FloatingMedia as FloatingMediaPrimitive,\n  FloatingMediaStore,\n  useFloatingMediaValue,\n  useImagePreviewValue,\n} from '@udecode/plate-media/react';\nimport {\n  useEditorRef,\n  useEditorSelector,\n  useElement,\n  useReadOnly,\n  useRemoveNodeButton,\n  useSelected,\n} from '@udecode/plate/react';\n\nimport {\n  Button,\n  buttonVariants,\n} from './button';\nimport { CaptionButton } from './caption';\nimport {\n  Popover,\n  PopoverAnchor,\n  PopoverContent,\n} from './popover';\nimport { Separator } from './separator';\n\nconst inputVariants = cva(\n  'flex h-[28px] w-full rounded-md border-none bg-transparent px-1.5 py-1 text-base placeholder:text-muted-foreground focus-visible:ring-transparent focus-visible:outline-none md:text-sm'\n);\n\nexport interface MediaPopoverProps {\n  children: React.ReactNode;\n  plugin: WithRequiredKey;\n}\n\nexport function MediaPopover({ children, plugin }: MediaPopoverProps) {\n  const editor = useEditorRef();\n  const readOnly = useReadOnly();\n  const selected = useSelected();\n\n  const selectionCollapsed = useEditorSelector(\n    (editor) => !editor.api.isExpanded(),\n    []\n  );\n  const isImagePreviewOpen = useImagePreviewValue('isOpen', editor.id);\n  const isOpen =\n    !readOnly && selected && selectionCollapsed && !isImagePreviewOpen;\n  const isEditing = useFloatingMediaValue('isEditing');\n\n  React.useEffect(() => {\n    if (!isOpen && isEditing) {\n      FloatingMediaStore.set('isEditing', false);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [isOpen]);\n\n  const element = useElement();\n  const { props: buttonProps } = useRemoveNodeButton({ element });\n\n  if (readOnly) return <>{children}</>;\n\n  return (\n    <Popover open={isOpen} modal={false}>\n      <PopoverAnchor>{children}</PopoverAnchor>\n\n      <PopoverContent\n        className=\"w-auto p-1\"\n        onOpenAutoFocus={(e) => e.preventDefault()}\n      >\n        {isEditing ? (\n          <div className=\"flex w-[330px] flex-col\">\n            <div className=\"flex items-center\">\n              <div className=\"flex items-center pr-1 pl-2 text-muted-foreground\">\n                <Link className=\"size-4\" />\n              </div>\n\n              <FloatingMediaPrimitive.UrlInput\n                className={inputVariants()}\n                placeholder=\"Paste the embed link...\"\n                options={{ plugin }}\n              />\n            </div>\n          </div>\n        ) : (\n          <div className=\"box-content flex items-center\">\n            <FloatingMediaPrimitive.EditButton\n              className={buttonVariants({ size: 'sm', variant: 'ghost' })}\n            >\n              Edit link\n            </FloatingMediaPrimitive.EditButton>\n\n            <CaptionButton variant=\"ghost\">Caption</CaptionButton>\n\n            <Separator orientation=\"vertical\" className=\"mx-1 h-6\" />\n\n            <Button size=\"icon\" variant=\"ghost\" {...buttonProps}>\n              <Trash2Icon />\n            </Button>\n          </div>\n        )}\n      </PopoverContent>\n    </Popover>\n  );\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport type { VariantProps } from 'class-variance-authority';\nimport { cva } from 'class-variance-authority';\n\nimport {\n  Resizable as ResizablePrimitive,\n  type ResizeHandle as ResizeHandlePrimitive,\n  useResizeHandle,\n  useResizeHandleState,\n} from '@udecode/plate-resizable';\n\nimport { cn } from '../../../libs/utils';\n\nexport const mediaResizeHandleVariants = cva(\n  cn(\n    'top-0 flex w-6 flex-col justify-center select-none',\n    \"after:flex after:h-16 after:w-[3px] after:rounded-[6px] after:bg-ring after:opacity-0 after:content-['_'] group-hover:after:opacity-100\"\n  ),\n  {\n    variants: {\n      direction: {\n        left: '-left-3 -ml-3 pl-3',\n        right: '-right-3 -mr-3 items-end pr-3',\n      },\n    },\n  }\n);\n\nconst resizeHandleVariants = cva(cn('absolute z-40'), {\n  variants: {\n    direction: {\n      bottom: 'w-full cursor-row-resize',\n      left: 'h-full cursor-col-resize',\n      right: 'h-full cursor-col-resize',\n      top: 'w-full cursor-row-resize',\n    },\n  },\n});\n\nexport function ResizeHandle({\n  className,\n  direction,\n  options,\n  ...props\n}: React.ComponentProps<typeof ResizeHandlePrimitive> &\n  VariantProps<typeof resizeHandleVariants>) {\n  const state = useResizeHandleState(options ?? {});\n  const resizeHandle = useResizeHandle(state);\n\n  if (state.readOnly) return null;\n\n  return (\n    <div\n      className={cn(resizeHandleVariants({ direction }), className)}\n      data-resizing={state.isResizing}\n      {...resizeHandle.props}\n      {...props}\n    />\n  );\n}\n\nconst resizableVariants = cva('', {\n  variants: {\n    align: {\n      center: 'mx-auto',\n      left: 'mr-auto',\n      right: 'ml-auto',\n    },\n  },\n});\n\nexport function Resizable({\n  align,\n  className,\n  ...props\n}: React.ComponentProps<typeof ResizablePrimitive> &\n  VariantProps<typeof resizableVariants>) {\n  return (\n    <ResizablePrimitive\n      {...props}\n      className={cn(resizableVariants({ align }), className)}\n    />\n  );\n}\n","import * as React from 'react';\n\nimport type { TAudioElement } from '@udecode/plate-media';\nimport { useMediaState } from '@udecode/plate-media/react';\nimport { ResizableProvider } from '@udecode/plate-resizable';\nimport type { PlateElementProps } from '@udecode/plate/react';\nimport {\n  PlateElement,\n  withHOC,\n} from '@udecode/plate/react';\n\nimport { BlockWithPlus } from '../core/element-wrapper';\nimport {\n  Caption,\n  CaptionTextarea,\n} from './caption';\n\n;\n\nexport const MediaAudioElement:any = withHOC(\n\tResizableProvider,\n\tfunction MediaAudioElement(props: PlateElementProps<TAudioElement>) {\n\t\tconst {align = \"center\", readOnly, unsafeUrl} = useMediaState();\n\n\t\treturn (\n\t\t\t<BlockWithPlus element={props.element}>\n\t\t\t\t<PlateElement {...props} className=\"mb-1\">\n\t\t\t\t\t<figure className=\"group relative cursor-default\" contentEditable={false}>\n\t\t\t\t\t\t<div className=\"h-16\">\n\t\t\t\t\t\t\t<audio className=\"size-full\" src={unsafeUrl} controls />\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<Caption style={{width: \"100%\"}} align={align}>\n\t\t\t\t\t\t\t<CaptionTextarea\n\t\t\t\t\t\t\t\tclassName=\"h-20\"\n\t\t\t\t\t\t\t\treadOnly={readOnly}\n\t\t\t\t\t\t\t\tplaceholder=\"Write a caption...\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Caption>\n\t\t\t\t\t</figure>\n\t\t\t\t\t{props.children}\n\t\t\t\t</PlateElement>\n\t\t\t</BlockWithPlus>\n\t\t);\n\t}\n);\n","'use client';\n\nimport * as React from 'react';\n\nimport LiteYouTubeEmbed from 'react-lite-youtube-embed';\nimport { Tweet } from 'react-tweet';\n\nimport type { TMediaEmbedElement } from '@udecode/plate-media';\nimport {\n  parseTwitterUrl,\n  parseVideoUrl,\n} from '@udecode/plate-media';\nimport {\n  MediaEmbedPlugin,\n  useMediaState,\n} from '@udecode/plate-media/react';\nimport {\n  ResizableProvider,\n  useResizableValue,\n} from '@udecode/plate-resizable';\nimport type { PlateElementProps } from '@udecode/plate/react';\nimport {\n  PlateElement,\n  withHOC,\n} from '@udecode/plate/react';\n\nimport { cn } from '../../../libs/utils';\nimport { BlockWithPlus } from '../core/element-wrapper';\nimport {\n  Caption,\n  CaptionTextarea,\n} from './caption';\nimport { MediaPopover } from './media-popover';\nimport {\n  mediaResizeHandleVariants,\n  Resizable,\n  ResizeHandle,\n} from './resize-handle';\n\nexport const MediaEmbedElement:any = withHOC(\n  ResizableProvider,\n  function MediaEmbedElement(props: PlateElementProps<TMediaEmbedElement>) {\n    const {\n      align = 'center',\n      embed,\n      focused,\n      isTweet,\n      isVideo,\n      isYoutube,\n      readOnly,\n      selected,\n    } = useMediaState({\n      urlParsers: [parseTwitterUrl, parseVideoUrl],\n    });\n    const width = useResizableValue('width');\n    const provider = embed?.provider;\n\n    return (\n      <BlockWithPlus element={props.element}>\n        <MediaPopover plugin={MediaEmbedPlugin}>\n          <PlateElement className=\"py-2.5\" {...props}>\n            <figure\n              className=\"group relative m-0 w-full cursor-default\"\n              contentEditable={false}\n            >\n              <Resizable\n                align={align}\n                options={{\n                  align,\n                  maxWidth: isTweet ? 550 : '100%',\n                  minWidth: isTweet ? 300 : 100,\n                }}\n              >\n                <ResizeHandle\n                  className={mediaResizeHandleVariants({ direction: 'left' })}\n                  options={{ direction: 'left' }}\n                />\n  \n                {isVideo ? (\n                  isYoutube ? (\n                    <LiteYouTubeEmbed\n                      id={embed!.id!}\n                      title=\"youtube\"\n                      wrapperClass={cn(\n                        'rounded-sm',\n                        focused && selected && 'ring-2 ring-ring ring-offset-2',\n                        'relative block cursor-pointer bg-black bg-cover bg-center [contain:content]',\n                        '[&.lyt-activated]:before:absolute [&.lyt-activated]:before:top-0 [&.lyt-activated]:before:h-[60px] [&.lyt-activated]:before:w-full [&.lyt-activated]:before:bg-top [&.lyt-activated]:before:bg-repeat-x [&.lyt-activated]:before:pb-[50px] [&.lyt-activated]:before:[transition:all_0.2s_cubic-bezier(0,_0,_0.2,_1)]',\n                        '[&.lyt-activated]:before:bg-[url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAADGCAYAAAAT+OqFAAAAdklEQVQoz42QQQ7AIAgEF/T/D+kbq/RWAlnQyyazA4aoAB4FsBSA/bFjuF1EOL7VbrIrBuusmrt4ZZORfb6ehbWdnRHEIiITaEUKa5EJqUakRSaEYBJSCY2dEstQY7AuxahwXFrvZmWl2rh4JZ07z9dLtesfNj5q0FU3A5ObbwAAAABJRU5ErkJggg==)]',\n                        'after:block after:pb-[var(--aspect-ratio)] after:content-[\"\"]',\n                        '[&_>_iframe]:absolute [&_>_iframe]:top-0 [&_>_iframe]:left-0 [&_>_iframe]:size-full',\n                        '[&_>_.lty-playbtn]:z-1 [&_>_.lty-playbtn]:h-[46px] [&_>_.lty-playbtn]:w-[70px] [&_>_.lty-playbtn]:rounded-[14%] [&_>_.lty-playbtn]:bg-[#212121] [&_>_.lty-playbtn]:opacity-80 [&_>_.lty-playbtn]:[transition:all_0.2s_cubic-bezier(0,_0,_0.2,_1)]',\n                        '[&:hover_>_.lty-playbtn]:bg-[red] [&:hover_>_.lty-playbtn]:opacity-100',\n                        '[&_>_.lty-playbtn]:before:border-y-[11px] [&_>_.lty-playbtn]:before:border-r-0 [&_>_.lty-playbtn]:before:border-l-[19px] [&_>_.lty-playbtn]:before:border-[transparent_transparent_transparent_#fff] [&_>_.lty-playbtn]:before:content-[\"\"]',\n                        '[&_>_.lty-playbtn]:absolute [&_>_.lty-playbtn]:top-1/2 [&_>_.lty-playbtn]:left-1/2 [&_>_.lty-playbtn]:[transform:translate3d(-50%,-50%,0)]',\n                        '[&_>_.lty-playbtn]:before:absolute [&_>_.lty-playbtn]:before:top-1/2 [&_>_.lty-playbtn]:before:left-1/2 [&_>_.lty-playbtn]:before:[transform:translate3d(-50%,-50%,0)]',\n                        '[&.lyt-activated]:cursor-[unset]',\n                        '[&.lyt-activated]:before:pointer-events-none [&.lyt-activated]:before:opacity-0',\n                        '[&.lyt-activated_>_.lty-playbtn]:pointer-events-none [&.lyt-activated_>_.lty-playbtn]:opacity-0!'\n                      )}\n                    />\n                  ) : (\n                    <div\n                      className={cn(\n                        provider === 'vimeo' && 'pb-[75%]',\n                        provider === 'youku' && 'pb-[56.25%]',\n                        provider === 'dailymotion' && 'pb-[56.0417%]',\n                        provider === 'coub' && 'pb-[51.25%]'\n                      )}\n                    >\n                      <iframe\n                        className={cn(\n                          'absolute top-0 left-0 size-full rounded-sm',\n                          isVideo && 'border-0',\n                          focused && selected && 'ring-2 ring-ring ring-offset-2'\n                        )}\n                        title=\"embed\"\n                        src={embed!.url}\n                        allowFullScreen\n                      />\n                    </div>\n                  )\n                ) : null}\n  \n                {isTweet && (\n                  <div\n                    className={cn(\n                      '[&_.react-tweet-theme]:my-0',\n                      !readOnly &&\n                        selected &&\n                        '[&_.react-tweet-theme]:ring-2 [&_.react-tweet-theme]:ring-ring [&_.react-tweet-theme]:ring-offset-2'\n                    )}\n                  >\n                    <Tweet id={embed!.id!} />\n                  </div>\n                )}\n  \n                <ResizeHandle\n                  className={mediaResizeHandleVariants({ direction: 'right' })}\n                  options={{ direction: 'right' }}\n                />\n              </Resizable>\n  \n              <Caption style={{ width }} align={align}>\n                <CaptionTextarea placeholder=\"Write a caption...\" />\n              </Caption>\n            </figure>\n  \n            {props.children}\n          </PlateElement>\n        </MediaPopover>\n      </BlockWithPlus>\n    );\n  }\n);\n","'use client';\n\nimport * as React from 'react';\n\nimport { FileUp } from 'lucide-react';\n\nimport type { TFileElement } from '@udecode/plate-media';\nimport { useMediaState } from '@udecode/plate-media/react';\nimport { ResizableProvider } from '@udecode/plate-resizable';\nimport type { PlateElementProps } from '@udecode/plate/react';\nimport {\n  PlateElement,\n  useReadOnly,\n  withHOC,\n} from '@udecode/plate/react';\n\nimport { BlockWithPlus } from '../core/element-wrapper';\nimport {\n  Caption,\n  CaptionTextarea,\n} from './caption';\n\nexport const MediaFileElement:any = withHOC(\n  ResizableProvider,\n  function MediaFileElement(props: PlateElementProps<TFileElement>) {\n    const readOnly = useReadOnly();\n    const { name, unsafeUrl } = useMediaState();\n\n    return (\n<BlockWithPlus element={props.element}>\n        <PlateElement className=\"my-px rounded-sm\" {...props}>\n          <a\n            className=\"group relative m-0 flex cursor-pointer items-center rounded px-0.5 py-[3px] hover:bg-muted\"\n            contentEditable={false}\n            download={name}\n            href={unsafeUrl}\n            rel=\"noopener noreferrer\"\n            role=\"button\"\n            target=\"_blank\"\n          >\n            <div className=\"flex items-center gap-1 p-1\">\n              <FileUp className=\"size-5\" />\n              <div>{name}</div>\n            </div>\n  \n            <Caption align=\"left\">\n              <CaptionTextarea\n                className=\"text-left\"\n                readOnly={readOnly}\n                placeholder=\"Write a caption...\"\n              />\n            </Caption>\n          </a>\n          {props.children}\n        </PlateElement>\n</BlockWithPlus>\n    );\n  }\n);\n","'use client';\n\nimport * as React from 'react';\n\nimport {\n  AudioLines,\n  FileUp,\n  Film,\n  ImageIcon,\n  Loader2Icon,\n} from 'lucide-react';\nimport { useFilePicker } from 'use-file-picker';\n\nimport type { TPlaceholderElement } from '@udecode/plate-media';\nimport {\n  AudioPlugin,\n  FilePlugin,\n  ImagePlugin,\n  PlaceholderPlugin,\n  PlaceholderProvider,\n  updateUploadHistory,\n  VideoPlugin,\n} from '@udecode/plate-media/react';\nimport type { PlateElementProps } from '@udecode/plate/react';\nimport {\n  PlateElement,\n  useEditorPlugin,\n  withHOC,\n} from '@udecode/plate/react';\n\nimport { useUploadFile } from '../../../hooks/use-upload-file';\nimport { cn } from '../../../libs/utils';\nimport { BlockWithPlus } from '../core/element-wrapper';\n\nexport const CONTENT: Record<\n  string,\n  {\n    accept: string[];\n    content: React.ReactNode;\n    icon: React.ReactNode;\n  }\n> = {\n  [AudioPlugin.key]: {\n    accept: ['audio/*'],\n    content: 'Add an audio file',\n    icon: <AudioLines />,\n  },\n  [FilePlugin.key]: {\n    accept: ['*'],\n    content: 'Add a file',\n    icon: <FileUp />,\n  },\n  [ImagePlugin.key]: {\n    accept: ['image/*'],\n    content: 'Add an image',\n    icon: <ImageIcon />,\n  },\n  [VideoPlugin.key]: {\n    accept: ['video/*'],\n    content: 'Add a video',\n    icon: <Film />,\n  },\n};\n\nexport const MediaPlaceholderElement:any = withHOC(\n  PlaceholderProvider,\n  function MediaPlaceholderElement(\n    props: PlateElementProps<TPlaceholderElement>\n  ) {\n    const { editor, element } = props;\n\n    const { api } = useEditorPlugin(PlaceholderPlugin);\n\n    const { isUploading, progress, uploadedFile, uploadFile, uploadingFile } =\n      useUploadFile({mode: 'toCloud'});\n\n    const loading = isUploading && uploadingFile;\n\n    const currentContent = CONTENT[element.mediaType];\n\n    const isImage = element.mediaType === ImagePlugin.key;\n\n    const imageRef = React.useRef<HTMLImageElement>(null);\n\n    const { openFilePicker } = useFilePicker({\n      accept: currentContent.accept,\n      multiple: true,\n      onFilesSelected: ({ plainFiles: updatedFiles }) => {\n        const firstFile = updatedFiles[0];\n        const restFiles = updatedFiles.slice(1);\n\n        replaceCurrentPlaceholder(firstFile);\n\n        if (restFiles.length > 0) {\n          editor.getTransforms(PlaceholderPlugin).insert.media(restFiles);\n        }\n      },\n    });\n\n    const replaceCurrentPlaceholder = React.useCallback(\n      (file: File) => {\n        void uploadFile(file);\n        api.placeholder.addUploadingFile(element.id as string, file);\n      },\n      [api.placeholder, element.id, uploadFile]\n    );\n\n    React.useEffect(() => {\n      if (!uploadedFile) return;\n\n      const path = editor.api.findPath(element);\n\n      editor.tf.withoutSaving(() => {\n        editor.tf.removeNodes({ at: path });\n\n        const node = {\n          children: [{ text: '' }],\n          initialHeight: imageRef.current?.height,\n          initialWidth: imageRef.current?.width,\n          isUpload: true,\n          name: element.mediaType === FilePlugin.key ? uploadedFile.name : '',\n          placeholderId: element.id as string,\n          type: element.mediaType!,\n          url: uploadedFile.url,\n        };\n\n        editor.tf.insertNodes(node, { at: path });\n\n        updateUploadHistory(editor, node);\n      });\n\n      api.placeholder.removeUploadingFile(element.id as string);\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [uploadedFile, element.id]);\n\n    // React dev mode will call React.useEffect twice\n    const isReplaced = React.useRef(false);\n\n    /** Paste and drop */\n    React.useEffect(() => {\n      if (isReplaced.current) return;\n\n      isReplaced.current = true;\n      const currentFiles = api.placeholder.getUploadingFile(\n        element.id as string\n      );\n\n      if (!currentFiles) return;\n\n      replaceCurrentPlaceholder(currentFiles);\n\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [isReplaced]);\n\n    return (\n      <BlockWithPlus element={element}>\n        <PlateElement className=\"my-1\" {...props}>\n          {(!loading || !isImage) && (\n            <div\n              className={cn(\n                'flex cursor-pointer items-center rounded-sm bg-muted p-3 pr-9 select-none hover:bg-primary/10'\n              )}\n              onClick={() => !loading && openFilePicker()}\n              contentEditable={false}\n            >\n              <div className=\"relative mr-3 flex text-muted-foreground/80 [&_svg]:size-6\">\n                {currentContent.icon}\n              </div>\n              <div className=\"text-sm whitespace-nowrap text-muted-foreground\">\n                <div>\n                  {loading ? uploadingFile?.name : currentContent.content}\n                </div>\n  \n                {loading && !isImage && (\n                  <div className=\"mt-1 flex items-center gap-1.5\">\n                    <div>{formatBytes(uploadingFile?.size ?? 0)}</div>\n                    <div>–</div>\n                    <div className=\"flex items-center\">\n                      <Loader2Icon className=\"mr-1 size-3.5 animate-spin text-muted-foreground\" />\n                      {progress ?? 0}%\n                    </div>\n                  </div>\n                )}\n              </div>\n            </div>\n          )}\n  \n          {isImage && loading && (\n            <ImageProgress\n              file={uploadingFile}\n              imageRef={imageRef}\n              progress={progress}\n            />\n          )}\n  \n          {props.children}\n        </PlateElement>\n      </BlockWithPlus>\n    );\n  }\n);\n\nexport function ImageProgress({\n  className,\n  file,\n  imageRef,\n  progress = 0,\n}: {\n  file: File;\n  className?: string;\n  imageRef?: React.RefObject<HTMLImageElement | null>;\n  progress?: number;\n}) {\n  const [objectUrl, setObjectUrl] = React.useState<string | null>(null);\n\n  React.useEffect(() => {\n    const url = URL.createObjectURL(file);\n    setObjectUrl(url);\n\n    return () => {\n      URL.revokeObjectURL(url);\n    };\n  }, [file]);\n\n  if (!objectUrl) {\n    return null;\n  }\n\n  return (\n    <div className={cn('relative', className)} contentEditable={false}>\n      <img\n        ref={imageRef}\n        className=\"h-auto w-full rounded-sm object-cover\"\n        alt={file.name}\n        src={objectUrl}\n      />\n      {progress < 100 && (\n        <div className=\"absolute right-1 bottom-1 flex items-center space-x-2 rounded-full bg-black/50 px-1 py-0.5\">\n          <Loader2Icon className=\"size-3.5 animate-spin text-muted-foreground\" />\n          <span className=\"text-xs font-medium text-white\">\n            {Math.round(progress)}%\n          </span>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport function formatBytes(\n  bytes: number,\n  opts: {\n    decimals?: number;\n    sizeType?: 'accurate' | 'normal';\n  } = {}\n) {\n  const { decimals = 0, sizeType = 'normal' } = opts;\n\n  const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB'];\n  const accurateSizes = ['Bytes', 'KiB', 'MiB', 'GiB', 'TiB'];\n\n  if (bytes === 0) return '0 Byte';\n\n  const i = Math.floor(Math.log(bytes) / Math.log(1024));\n\n  return `${(bytes / Math.pow(1024, i)).toFixed(decimals)} ${\n    sizeType === 'accurate'\n      ? (accurateSizes[i] ?? 'Bytest')\n      : (sizes[i] ?? 'Bytes')\n  }`;\n}\n","import * as React from 'react';\n\nimport { toast } from 'sonner';\nimport type {\n  ClientUploadedFileData,\n  UploadFilesOptions,\n} from 'uploadthing/types';\nimport { z } from 'zod';\n\nimport { generateReactHelpers } from '@uploadthing/react';\n\nimport type { OurFileRouter } from '../libs/uploadthing';\n\nexport type UploadedFile<T = unknown> = ClientUploadedFileData<T>;\n\nexport type UploadMode = 'toCloud' | 'toServer';\nexport interface UseUploadFileProps\n  extends Pick<\n    UploadFilesOptions<OurFileRouter['editorUploader']>,\n    'headers' | 'onUploadBegin' | 'onUploadProgress' | 'skipPolling'\n  > {\n  onUploadComplete?: (file: UploadedFile) => void;\n  onUploadError?: (error: unknown) => void;\n  mode?: UploadMode; \n}\n\nexport function useUploadFile({\n  onUploadComplete,\n  onUploadError,\n  mode = 'toCloud',\n  ...props\n}: UseUploadFileProps = {}) {\n  const [uploadedFile, setUploadedFile] = React.useState<UploadedFile>();\n  const [uploadingFile, setUploadingFile] = React.useState<File>();\n  const [progress, setProgress] = React.useState<number>(0);\n  const [isUploading, setIsUploading] = React.useState(false);\n\n  async function uploadThing(file: File) {\n    setIsUploading(true);\n    setUploadingFile(file);\n\n    try {\n      const res = await uploadFiles('editorUploader', {\n        ...props,\n        files: [file],\n        onUploadProgress: ({ progress }: { progress: any }) => {\n          setProgress(Math.min(progress, 100));\n        },\n      });\n\n      setUploadedFile(res[0]);\n\n      onUploadComplete?.(res[0]);\n\n      return uploadedFile;\n    } catch (error) {\n      const errorMessage = getErrorMessage(error);\n\n      const message =\n        errorMessage.length > 0\n          ? errorMessage\n          : 'Something went wrong, please try again later.';\n\n      toast.error(message);\n\n      onUploadError?.(error);\n\n      // Mock upload for unauthenticated users\n      // toast.info('User not logged in. Mocking upload process.');\n      const mockUploadedFile = {\n        key: 'mock-key-0',\n        appUrl: `${process.env.URL}/${file.name}`,\n        name: file.name,\n        size: file.size,\n        type: file.type,\n        url: URL.createObjectURL(file),\n      } as UploadedFile;\n\n      // Simulate upload progress\n      let progress = 0;\n\n      const simulateProgress = async () => {\n        while (progress < 100) {\n          await new Promise((resolve) => setTimeout(resolve, 50));\n          progress += 2;\n          setProgress(Math.min(progress, 100));\n        }\n      };\n\n      await simulateProgress();\n\n      setUploadedFile(mockUploadedFile);\n\n      return mockUploadedFile;\n    } finally {\n      setProgress(0);\n      setIsUploading(false);\n      setUploadingFile(undefined);\n    }\n  }\n\n  async function uploadThingServer(file: File) {\n  setIsUploading(true);\n  setUploadingFile(file);\n\n  try {\n    const formData = new FormData();\n    formData.append('file', file);\n\n    const res = await fetch('/api/upload', {\n      method: 'POST',\n      body: formData,\n    });\n\n    if (!res.ok) {\n      throw new Error('Upload failed');\n    }\n\n    const data = await res.json();\n\n    const uploaded: UploadedFile = {\n      key: data.id || file.name,\n      appUrl: data.url,\n      name: file.name,\n      size: file.size,\n      type: file.type,\n      url: data.url,\n      fileHash: data.fileHash,\n      ufsUrl: data.ufsUrl,\n      lastModified: file.lastModified,\n      customId: data.customId,\n      serverData: data.serverData,\n    };\n\n    setUploadedFile(uploaded);\n    onUploadComplete?.(uploaded);\n    return uploaded;\n  } catch (error) {\n    const errorMessage = getErrorMessage(error);\n    toast.error(errorMessage || 'Upload failed');\n    onUploadError?.(error);\n  } finally {\n    setProgress(0);\n    setIsUploading(false);\n    setUploadingFile(undefined);\n  }\n}\n\n  return {\n    isUploading,\n    progress,\n    uploadedFile,\n    uploadFile: mode === \"toCloud\" ? uploadThing : uploadThingServer,\n    uploadingFile,\n  };\n}\n\nexport const { uploadFiles, useUploadThing } =\n  generateReactHelpers<OurFileRouter>() as any;\n\nexport function getErrorMessage(err: unknown) {\n  const unknownError = 'Something went wrong, please try again later.';\n\n  if (err instanceof z.ZodError) {\n    const errors = err.issues.map((issue) => {\n      return issue.message;\n    });\n\n    return errors.join('\\n');\n  } else if (err instanceof Error) {\n    return err.message;\n  } else {\n    return unknownError;\n  }\n}\n\nexport function showErrorToast(err: unknown) {\n  const errorMessage = getErrorMessage(err);\n\n  return toast.error(errorMessage);\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport LiteYouTubeEmbed from 'react-lite-youtube-embed';\nimport ReactPlayer from 'react-player';\n\nimport { useDraggable } from '@udecode/plate-dnd';\nimport type { TVideoElement } from '@udecode/plate-media';\nimport {\n  parseTwitterUrl,\n  parseVideoUrl,\n} from '@udecode/plate-media';\nimport { useMediaState } from '@udecode/plate-media/react';\nimport {\n  ResizableProvider,\n  useResizableValue,\n} from '@udecode/plate-resizable';\nimport type { PlateElementProps } from '@udecode/plate/react';\nimport {\n  PlateElement,\n  useEditorMounted,\n  withHOC,\n} from '@udecode/plate/react';\n\nimport { cn } from '../../../libs/utils';\nimport { BlockWithPlus } from '../core/element-wrapper';\nimport {\n  Caption,\n  CaptionTextarea,\n} from './caption';\nimport {\n  mediaResizeHandleVariants,\n  Resizable,\n  ResizeHandle,\n} from './resize-handle';\n\nexport const MediaVideoElement:any = withHOC(\n  ResizableProvider,\n  function MediaVideoElement(props: PlateElementProps<TVideoElement>) {\n    const {\n      align = 'center',\n      embed,\n      isUpload,\n      isYoutube,\n      readOnly,\n      unsafeUrl,\n    } = useMediaState({\n      urlParsers: [parseTwitterUrl, parseVideoUrl],\n    });\n    const width = useResizableValue('width');\n\n    const isEditorMounted = useEditorMounted();\n\n    const isTweet = true;\n\n    const { isDragging, handleRef } = useDraggable({\n      element: props.element,\n    });\n\n    return (\n      <BlockWithPlus element={props.element}>\n        <PlateElement className=\"py-2.5\" {...props}>\n          <figure className=\"relative m-0 cursor-default\" contentEditable={false}>\n            <Resizable\n              className={cn(isDragging && 'opacity-50')}\n              align={align}\n              options={{\n                align,\n                maxWidth: isTweet ? 550 : '100%',\n                minWidth: isTweet ? 300 : 100,\n                readOnly,\n              }}\n            >\n              <div className=\"group/media\">\n                <ResizeHandle\n                  className={mediaResizeHandleVariants({ direction: 'left' })}\n                  options={{ direction: 'left' }}\n                />\n  \n                <ResizeHandle\n                  className={mediaResizeHandleVariants({ direction: 'right' })}\n                  options={{ direction: 'right' }}\n                />\n  \n                {!isUpload && isYoutube && (\n                  <div ref={handleRef}>\n                    <LiteYouTubeEmbed\n                      id={embed!.id!}\n                      title=\"youtube\"\n                      wrapperClass={cn(\n                        'aspect-video rounded-sm',\n                        'relative block cursor-pointer bg-black bg-cover bg-center [contain:content]',\n                        '[&.lyt-activated]:before:absolute [&.lyt-activated]:before:top-0 [&.lyt-activated]:before:h-[60px] [&.lyt-activated]:before:w-full [&.lyt-activated]:before:bg-top [&.lyt-activated]:before:bg-repeat-x [&.lyt-activated]:before:pb-[50px] [&.lyt-activated]:before:[transition:all_0.2s_cubic-bezier(0,_0,_0.2,_1)]',\n                        '[&.lyt-activated]:before:bg-[url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAADGCAYAAAAT+OqFAAAAdklEQVQoz42QQQ7AIAgEF/T/D+kbq/RWAlnQyyazA4aoAB4FsBSA/bFjuF1EOL7VbrIrBuusmrt4ZZORfb6ehbWdnRHEIiITaEUKa5EJqUakRSaEYBJSCY2dEstQY7AuxahwXFrvZmWl2rh4JZ07z9dLtesfNj5q0FU3A5ObbwAAAABJRU5ErkJggg==)]',\n                        'after:block after:pb-[var(--aspect-ratio)] after:content-[\"\"]',\n                        '[&_>_iframe]:absolute [&_>_iframe]:top-0 [&_>_iframe]:left-0 [&_>_iframe]:size-full',\n                        '[&_>_.lty-playbtn]:z-1 [&_>_.lty-playbtn]:h-[46px] [&_>_.lty-playbtn]:w-[70px] [&_>_.lty-playbtn]:rounded-[14%] [&_>_.lty-playbtn]:bg-[#212121] [&_>_.lty-playbtn]:opacity-80 [&_>_.lty-playbtn]:[transition:all_0.2s_cubic-bezier(0,_0,_0.2,_1)]',\n                        '[&:hover_>_.lty-playbtn]:bg-[red] [&:hover_>_.lty-playbtn]:opacity-100',\n                        '[&_>_.lty-playbtn]:before:border-y-[11px] [&_>_.lty-playbtn]:before:border-r-0 [&_>_.lty-playbtn]:before:border-l-[19px] [&_>_.lty-playbtn]:before:border-[transparent_transparent_transparent_#fff] [&_>_.lty-playbtn]:before:content-[\"\"]',\n                        '[&_>_.lty-playbtn]:absolute [&_>_.lty-playbtn]:top-1/2 [&_>_.lty-playbtn]:left-1/2 [&_>_.lty-playbtn]:[transform:translate3d(-50%,-50%,0)]',\n                        '[&_>_.lty-playbtn]:before:absolute [&_>_.lty-playbtn]:before:top-1/2 [&_>_.lty-playbtn]:before:left-1/2 [&_>_.lty-playbtn]:before:[transform:translate3d(-50%,-50%,0)]',\n                        '[&.lyt-activated]:cursor-[unset]',\n                        '[&.lyt-activated]:before:pointer-events-none [&.lyt-activated]:before:opacity-0',\n                        '[&.lyt-activated_>_.lty-playbtn]:pointer-events-none [&.lyt-activated_>_.lty-playbtn]:opacity-0!'\n                      )}\n                    />\n                  </div>\n                )}\n  \n                {isUpload && isEditorMounted && (\n                  <div ref={handleRef}>\n                    <ReactPlayer\n                      height=\"100%\"\n                      url={unsafeUrl}\n                      width=\"100%\"\n                      controls\n                    />\n                  </div>\n                )}\n              </div>\n            </Resizable>\n  \n            <Caption style={{ width }} align={align}>\n              <CaptionTextarea\n                readOnly={readOnly}\n                placeholder=\"Write a caption...\"\n              />\n            </Caption>\n          </figure>\n          {props.children}\n        </PlateElement>\n      </BlockWithPlus>\n    );\n  }\n);\n","'use client';\n\nimport * as React from 'react';\n\nimport type { PlateElementProps } from '@udecode/plate/react';\nimport { PlateElement } from '@udecode/plate/react';\n\nimport { cn } from '../../../libs/utils';\nimport { BlockWithPlus } from '../core/element-wrapper';\n\nexport function ParagraphElement(props: PlateElementProps) {\n  return (\n<BlockWithPlus element={props.element}> \n      <PlateElement {...props} className={cn('m-0 px-0 py-1')}>\n        {props.children}\n      </PlateElement>\n</BlockWithPlus>\n  );\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport { HEADING_KEYS } from '@udecode/plate-heading';\nimport {\n  createNodeHOC,\n  createNodesHOC,\n  ParagraphPlugin,\n  type PlaceholderProps,\n  usePlaceholderState,\n} from '@udecode/plate/react';\n\nimport { cn } from '../../../libs/utils';\n\nexport const Placeholder:any = (props: PlaceholderProps) => {\n  const { attributes, children, placeholder } = props;\n\n  const { enabled } = usePlaceholderState(props);\n\n  return React.Children.map(children, (child) => {\n    return React.cloneElement(child, {\n      attributes: {\n        ...attributes,\n        className: cn(\n          attributes.className,\n          enabled &&\n            'before:absolute before:cursor-text before:opacity-30 before:content-[attr(placeholder)]'\n        ),\n        placeholder,\n      },\n    });\n  });\n};\n\nconst withPlaceholder = createNodeHOC(Placeholder);\n\nconst withPlaceholdersPrimitive = createNodesHOC(Placeholder);\n\nexport const withPlaceholders:any = (components: any) =>\n  withPlaceholdersPrimitive(components, [\n    {\n      key: ParagraphPlugin.key,\n      hideOnBlur: true,\n      placeholder: 'Type a paragraph',\n      query: {\n        maxLevel: 1,\n      },\n    },\n    {\n      key: HEADING_KEYS.h1,\n      hideOnBlur: false,\n      placeholder: 'Untitled',\n    },\n  ]);\n","'use client';\n\nimport * as React from 'react';\n\nimport {\n  CalendarIcon,\n  ChevronRightIcon,\n  Code2,\n  Columns3Icon,\n  Heading1Icon,\n  Heading2Icon,\n  Heading3Icon,\n  LightbulbIcon,\n  ListIcon,\n  ListOrdered,\n  PilcrowIcon,\n  Quote,\n  RadicalIcon,\n  SparklesIcon,\n  Square,\n  Table,\n  TableOfContentsIcon,\n} from 'lucide-react';\n\nimport { AIChatPlugin } from '@udecode/plate-ai/react';\nimport { BlockquotePlugin } from '@udecode/plate-block-quote/react';\nimport { CalloutPlugin } from '@udecode/plate-callout/react';\nimport { CodeBlockPlugin } from '@udecode/plate-code-block/react';\nimport { DatePlugin } from '@udecode/plate-date/react';\nimport { HEADING_KEYS } from '@udecode/plate-heading';\nimport { TocPlugin } from '@udecode/plate-heading/react';\nimport {\n  INDENT_LIST_KEYS,\n  ListStyleType,\n} from '@udecode/plate-indent-list';\nimport {\n  EquationPlugin,\n  InlineEquationPlugin,\n} from '@udecode/plate-math/react';\nimport type { TSlashInputElement } from '@udecode/plate-slash-command';\nimport { TablePlugin } from '@udecode/plate-table/react';\nimport { TogglePlugin } from '@udecode/plate-toggle/react';\nimport {\n  ParagraphPlugin,\n  type PlateEditor,\n  PlateElement,\n  type PlateElementProps,\n} from '@udecode/plate/react';\n\nimport {\n  insertBlock,\n  insertInlineElement,\n} from '../core/transforms';\nimport {\n  InlineCombobox,\n  InlineComboboxContent,\n  InlineComboboxEmpty,\n  InlineComboboxGroup,\n  InlineComboboxGroupLabel,\n  InlineComboboxInput,\n  InlineComboboxItem,\n} from './inline-combobox';\n\nexport type Group = {\n  group: string;\n  items: Item[];\n};\n\nexport interface Item {\n  icon: React.ReactNode;\n  value: string;\n  onSelect: (editor: PlateEditor, value: string) => void;\n  className?: string;\n  focusEditor?: boolean;\n  keywords?: string[];\n  label?: string;\n}\n\nexport const groups: Group[] = [\n  {\n    group: 'AI',\n    items: [\n      {\n        focusEditor: false,\n        icon: <SparklesIcon />,\n        value: 'AI',\n        onSelect: (editor) => {\n          editor.getApi(AIChatPlugin).aiChat.show();\n        },\n      },\n    ],\n  },\n  {\n    group: 'Basic blocks',\n    items: [\n      {\n        icon: <PilcrowIcon />,\n        keywords: ['paragraph'],\n        label: 'Text',\n        value: ParagraphPlugin.key,\n      },\n      {\n        icon: <Heading1Icon />,\n        keywords: ['title', 'h1'],\n        label: 'Heading 1',\n        value: HEADING_KEYS.h1,\n      },\n      {\n        icon: <Heading2Icon />,\n        keywords: ['subtitle', 'h2'],\n        label: 'Heading 2',\n        value: HEADING_KEYS.h2,\n      },\n      {\n        icon: <Heading3Icon />,\n        keywords: ['subtitle', 'h3'],\n        label: 'Heading 3',\n        value: HEADING_KEYS.h3,\n      },\n      {\n        icon: <ListIcon />,\n        keywords: ['unordered', 'ul', '-'],\n        label: 'Bulleted list',\n        value: ListStyleType.Disc,\n      },\n      {\n        icon: <ListOrdered />,\n        keywords: ['ordered', 'ol', '1'],\n        label: 'Numbered list',\n        value: ListStyleType.Decimal,\n      },\n      {\n        icon: <Square />,\n        keywords: ['checklist', 'task', 'checkbox', '[]'],\n        label: 'To-do list',\n        value: INDENT_LIST_KEYS.todo,\n      },\n      {\n        icon: <ChevronRightIcon />,\n        keywords: ['collapsible', 'expandable'],\n        label: 'Toggle',\n        value: TogglePlugin.key,\n      },\n      {\n        icon: <Code2 />,\n        keywords: ['```'],\n        label: 'Code Block',\n        value: CodeBlockPlugin.key,\n      },\n      {\n        icon: <Table />,\n        label: 'Table',\n        value: TablePlugin.key,\n      },\n      {\n        icon: <Quote />,\n        keywords: ['citation', 'blockquote', 'quote', '>'],\n        label: 'Blockquote',\n        value: BlockquotePlugin.key,\n      },\n      {\n        description: 'Insert a highlighted block.',\n        icon: <LightbulbIcon />,\n        keywords: ['note'],\n        label: 'Callout',\n        value: CalloutPlugin.key,\n      },\n    ].map((item) => ({\n      ...item,\n      onSelect: (editor, value) => {\n        insertBlock(editor, value);\n      },\n    })),\n  },\n  {\n    group: 'Advanced blocks',\n    items: [\n      {\n        icon: <TableOfContentsIcon />,\n        keywords: ['toc'],\n        label: 'Table of contents',\n        value: TocPlugin.key,\n      },\n      {\n        icon: <Columns3Icon />,\n        label: '3 columns',\n        value: 'action_three_columns',\n      },\n      {\n        focusEditor: false,\n        icon: <RadicalIcon />,\n        label: 'Equation',\n        value: EquationPlugin.key,\n      },\n    ].map((item) => ({\n      ...item,\n      onSelect: (editor, value) => {\n        insertBlock(editor, value);\n      },\n    })),\n  },\n  {\n    group: 'Inline',\n    items: [\n      {\n        focusEditor: true,\n        icon: <CalendarIcon />,\n        keywords: ['time'],\n        label: 'Date',\n        value: DatePlugin.key,\n      },\n      {\n        focusEditor: false,\n        icon: <RadicalIcon />,\n        label: 'Inline Equation',\n        value: InlineEquationPlugin.key,\n      },\n    ].map((item) => ({\n      ...item,\n      onSelect: (editor, value) => {\n        insertInlineElement(editor, value);\n      },\n    })),\n  },\n];\n\nexport function SlashInputElement(\n  props: PlateElementProps<TSlashInputElement>\n) {\n  const { editor, element } = props;\n\n  return (\n    <PlateElement {...props} as=\"span\" data-slate-value={element.value}>\n      <InlineCombobox element={element} trigger=\"/\">\n        <InlineComboboxInput />\n\n        <InlineComboboxContent>\n          <InlineComboboxEmpty>No results</InlineComboboxEmpty>\n\n          {groups.map(({ group, items }) => (\n            <InlineComboboxGroup key={group}>\n              <InlineComboboxGroupLabel>{group}</InlineComboboxGroupLabel>\n\n              {items.map(\n                ({ focusEditor, icon, keywords, label, value, onSelect }) => (\n                  <InlineComboboxItem\n                    key={value}\n                    value={value}\n                    onClick={() => onSelect(editor, value)}\n                    label={label}\n                    focusEditor={focusEditor}\n                    group={group}\n                    keywords={keywords}\n                  >\n                    <div className=\"mr-2 text-muted-foreground\">{icon}</div>\n                    {label ?? value}\n                  </InlineComboboxItem>\n                )\n              )}\n            </InlineComboboxGroup>\n          ))}\n        </InlineComboboxContent>\n      </InlineCombobox>\n\n      {props.children}\n    </PlateElement>\n  );\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport type { TSuggestionText } from '@udecode/plate-suggestion';\nimport type { PlateLeafProps } from '@udecode/plate/react';\nimport {\n  PlateLeaf,\n  useEditorPlugin,\n  usePluginOption,\n} from '@udecode/plate/react';\n\nimport { cn } from '../../../libs/utils';\nimport { suggestionPlugin } from '../plugins/suggestion-plugin';\n\nexport function SuggestionLeaf(props: PlateLeafProps<TSuggestionText>) {\n  const { api, setOption } = useEditorPlugin(suggestionPlugin);\n  const leaf = props.leaf;\n\n  const leafId: string = api.suggestion.nodeId(leaf) ?? '';\n  const activeSuggestionId = usePluginOption(suggestionPlugin, 'activeId');\n  const hoverSuggestionId = usePluginOption(suggestionPlugin, 'hoverId');\n  const dataList = api.suggestion.dataList(leaf);\n\n  const hasRemove = dataList.some((data:any) => data.type === 'remove');\n  const hasActive = dataList.some((data:any) => data.id === activeSuggestionId);\n  const hasHover = dataList.some((data:any) => data.id === hoverSuggestionId);\n\n  const diffOperation = { type: hasRemove ? 'delete' : 'insert' } as const;\n\n  const Component = ({ delete: 'del', insert: 'ins', update: 'span' } as const)[\n    diffOperation.type\n  ];\n\n  return (\n    <PlateLeaf\n      {...props}\n      as={Component}\n      className={cn(\n        'bg-emerald-100 text-emerald-700 no-underline transition-colors duration-200',\n        (hasActive || hasHover) && 'bg-emerald-200/80',\n        hasRemove && 'bg-red-100 text-red-700',\n        (hasActive || hasHover) && hasRemove && 'bg-red-200/80 no-underline'\n      )}\n      attributes={{\n        ...props.attributes,\n        onMouseEnter: () => setOption('hoverId', leafId),\n        onMouseLeave: () => setOption('hoverId', null),\n      }}\n    >\n      {props.children}\n    </PlateLeaf>\n  );\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport { cva } from 'class-variance-authority';\n\nimport {\n  BlockSelectionPlugin,\n  useBlockSelected,\n} from '@udecode/plate-selection/react';\nimport type { TTableCellElement } from '@udecode/plate-table';\nimport {\n  TablePlugin,\n  TableRowPlugin,\n  useTableCellElement,\n  useTableCellElementResizable,\n} from '@udecode/plate-table/react';\nimport type { PlateElementProps } from '@udecode/plate/react';\nimport {\n  PlateElement,\n  useEditorPlugin,\n  useElementSelector,\n  usePluginOption,\n  useReadOnly,\n} from '@udecode/plate/react';\n\nimport { cn } from '../../../libs/utils';\nimport { blockSelectionVariants } from './block-selection';\nimport { ResizeHandle } from './resize-handle';\n\nexport function TableCellElement({\n  isHeader,\n  ...props\n}: PlateElementProps<TTableCellElement> & {\n  isHeader?: boolean;\n}) {\n  const { api } = useEditorPlugin(TablePlugin);\n  const readOnly = useReadOnly();\n  const element = props.element;\n\n  const rowId = useElementSelector(([node]) => node.id as string, [], {\n    key: TableRowPlugin.key,\n  });\n  const isSelectingRow = useBlockSelected(rowId);\n  const isSelectionAreaVisible = usePluginOption(\n    BlockSelectionPlugin,\n    'isSelectionAreaVisible'\n  );\n\n  const { borders, colIndex, colSpan, minHeight, rowIndex, selected, width } =\n    useTableCellElement();\n\n  const { bottomProps, hiddenLeft, leftProps, rightProps } =\n    useTableCellElementResizable({\n      colIndex,\n      colSpan,\n      rowIndex,\n    });\n\n  return (\n    <PlateElement\n      {...props}\n      as={isHeader ? 'th' : 'td'}\n      className={cn(\n        'h-full overflow-visible border-none bg-background p-0',\n        element.background ? 'bg-(--cellBackground)' : 'bg-background',\n        isHeader && 'text-left *:m-0',\n        'before:size-full',\n        selected && 'before:z-10 before:bg-brand/5',\n        \"before:absolute before:box-border before:content-[''] before:select-none\",\n        borders.bottom?.size && `before:border-b before:border-b-border`,\n        borders.right?.size && `before:border-r before:border-r-border`,\n        borders.left?.size && `before:border-l before:border-l-border`,\n        borders.top?.size && `before:border-t before:border-t-border`\n      )}\n      style={\n        {\n          '--cellBackground': element.background,\n          maxWidth: width || 240,\n          minWidth: width || 120,\n        } as React.CSSProperties\n      }\n      attributes={{\n        ...props.attributes,\n        colSpan: api.table.getColSpan(element),\n        rowSpan: api.table.getRowSpan(element),\n      }}\n    >\n      <div\n        className=\"relative z-20 box-border h-full px-3 py-2\"\n        style={{ minHeight }}\n      >\n        {props.children}\n      </div>\n\n      {!isSelectionAreaVisible && (\n        <div\n          className=\"group absolute top-0 size-full select-none\"\n          contentEditable={false}\n          suppressContentEditableWarning={true}\n        >\n          {!readOnly && (\n            <>\n              <ResizeHandle\n                {...rightProps}\n                className=\"-top-2 -right-1 h-[calc(100%_+_8px)] w-2\"\n                data-col={colIndex}\n              />\n              <ResizeHandle {...bottomProps} className=\"-bottom-1 h-2\" />\n              {!hiddenLeft && (\n                <ResizeHandle\n                  {...leftProps}\n                  className=\"top-0 -left-1 w-2\"\n                  data-resizer-left={colIndex === 0 ? 'true' : undefined}\n                />\n              )}\n\n              <div\n                className={cn(\n                  'absolute top-0 z-30 hidden h-full w-1 bg-ring',\n                  'right-[-1.5px]',\n                  columnResizeVariants({ colIndex: colIndex as any })\n                )}\n              />\n              {colIndex === 0 && (\n                <div\n                  className={cn(\n                    'absolute top-0 z-30 h-full w-1 bg-ring',\n                    'left-[-1.5px]',\n                    'hidden animate-in fade-in group-has-[[data-resizer-left]:hover]/table:block group-has-[[data-resizer-left][data-resizing=\"true\"]]/table:block'\n                  )}\n                />\n              )}\n            </>\n          )}\n        </div>\n      )}\n\n      {isSelectingRow && (\n        <div className={blockSelectionVariants()} contentEditable={false} />\n      )}\n    </PlateElement>\n  );\n}\n\nexport function TableCellHeaderElement(\n  props: React.ComponentProps<typeof TableCellElement>\n) {\n  return <TableCellElement {...props} isHeader />;\n}\n\nconst columnResizeVariants = cva('hidden animate-in fade-in', {\n  variants: {\n    colIndex: {\n      0: 'group-has-[[data-col=\"0\"]:hover]/table:block group-has-[[data-col=\"0\"][data-resizing=\"true\"]]/table:block',\n      1: 'group-has-[[data-col=\"1\"]:hover]/table:block group-has-[[data-col=\"1\"][data-resizing=\"true\"]]/table:block',\n      2: 'group-has-[[data-col=\"2\"]:hover]/table:block group-has-[[data-col=\"2\"][data-resizing=\"true\"]]/table:block',\n      3: 'group-has-[[data-col=\"3\"]:hover]/table:block group-has-[[data-col=\"3\"][data-resizing=\"true\"]]/table:block',\n      4: 'group-has-[[data-col=\"4\"]:hover]/table:block group-has-[[data-col=\"4\"][data-resizing=\"true\"]]/table:block',\n      5: 'group-has-[[data-col=\"5\"]:hover]/table:block group-has-[[data-col=\"5\"][data-resizing=\"true\"]]/table:block',\n      6: 'group-has-[[data-col=\"6\"]:hover]/table:block group-has-[[data-col=\"6\"][data-resizing=\"true\"]]/table:block',\n      7: 'group-has-[[data-col=\"7\"]:hover]/table:block group-has-[[data-col=\"7\"][data-resizing=\"true\"]]/table:block',\n      8: 'group-has-[[data-col=\"8\"]:hover]/table:block group-has-[[data-col=\"8\"][data-resizing=\"true\"]]/table:block',\n      9: 'group-has-[[data-col=\"9\"]:hover]/table:block group-has-[[data-col=\"9\"][data-resizing=\"true\"]]/table:block',\n      10: 'group-has-[[data-col=\"10\"]:hover]/table:block group-has-[[data-col=\"10\"][data-resizing=\"true\"]]/table:block',\n    },\n  },\n});\n","'use client';\n\nimport * as React from 'react';\n\nimport {\n  ArrowDown,\n  ArrowLeft,\n  ArrowRight,\n  ArrowUp,\n  CombineIcon,\n  EraserIcon,\n  Grid2X2Icon,\n  PaintBucketIcon,\n  SquareSplitHorizontalIcon,\n  Trash2Icon,\n  XIcon,\n} from 'lucide-react';\n\nimport type * as DropdownMenuPrimitive from '@radix-ui/react-dropdown-menu';\nimport { PopoverAnchor } from '@radix-ui/react-popover';\nimport { BlockSelectionPlugin } from '@udecode/plate-selection/react';\nimport type { TTableElement } from '@udecode/plate-table';\nimport { setCellBackground } from '@udecode/plate-table';\nimport {\n  TablePlugin,\n  TableProvider,\n  useTableBordersDropdownMenuContentState,\n  useTableElement,\n  useTableMergeState,\n} from '@udecode/plate-table/react';\nimport {\n  PlateElement,\n  type PlateElementProps,\n  useEditorPlugin,\n  useEditorRef,\n  useEditorSelector,\n  useElement,\n  usePluginOption,\n  useReadOnly,\n  useRemoveNodeButton,\n  useSelected,\n  withHOC,\n} from '@udecode/plate/react';\n\nimport { cn } from '../../../libs/utils';\nimport { BlockWithPlus } from '../core/element-wrapper';\nimport { DEFAULT_COLORS } from './color-constants';\nimport { ColorDropdownMenuItems } from './color-dropdown-menu-items';\nimport {\n  DropdownMenu,\n  DropdownMenuCheckboxItem,\n  DropdownMenuContent,\n  DropdownMenuGroup,\n  DropdownMenuItem,\n  DropdownMenuPortal,\n  DropdownMenuTrigger,\n} from './dropdown-menu';\nimport {\n  Popover,\n  PopoverContent,\n} from './popover';\nimport {\n  BorderAll,\n  BorderBottom,\n  BorderLeft,\n  BorderNone,\n  BorderRight,\n  BorderTop,\n} from './table-icons';\nimport {\n  Toolbar,\n  ToolbarButton,\n  ToolbarGroup,\n  ToolbarMenuGroup,\n} from './toolbar';\n\nexport const TableElement:any = withHOC(\n  TableProvider,\n  function TableElement({\n    children,\n    ...props\n  }: PlateElementProps<TTableElement>) {\n    const readOnly = useReadOnly();\n    const isSelectionAreaVisible = usePluginOption(\n      BlockSelectionPlugin,\n      'isSelectionAreaVisible'\n    );\n    const hasControls = !readOnly && !isSelectionAreaVisible;\n    const selected = useSelected();\n    const {\n      isSelectingCell,\n      marginLeft,\n      props: tableProps,\n    } = useTableElement();\n\n    const content = (\n<BlockWithPlus element={props.element}>\n        <PlateElement\n          {...props}\n          className={cn(\n            'overflow-x-auto py-5',\n            hasControls && '-ml-2 *:data-[slot=block-selection]:left-2'\n          )}\n          style={{ paddingLeft: marginLeft }}\n        >\n          <div className=\"group/table relative w-fit\">\n            <table\n              className={cn(\n                'mr-0 ml-px table h-px table-fixed border-collapse',\n                isSelectingCell && 'selection:bg-transparent'\n              )}\n              {...tableProps}\n            >\n              <tbody className=\"min-w-full\">{children}</tbody>\n            </table>\n          </div>\n        </PlateElement>\n</BlockWithPlus>\n    );\n\n    if (readOnly || !selected) {\n      return content;\n    }\n\n    return <TableFloatingToolbar>{content}</TableFloatingToolbar>;\n  }\n);\n\nexport function TableFloatingToolbar({\n  children,\n  ...props\n}: React.ComponentProps<typeof PopoverContent>) {\n  const { tf } = useEditorPlugin(TablePlugin);\n  const element = useElement<TTableElement>();\n  const { props: buttonProps } = useRemoveNodeButton({ element });\n  const collapsed = useEditorSelector((editor) => !editor.api.isExpanded(), []);\n\n  const { canMerge, canSplit } = useTableMergeState();\n\n  return (\n    <Popover open={canMerge || canSplit || collapsed} modal={false}>\n      <PopoverAnchor asChild>{children}</PopoverAnchor>\n      <PopoverContent\n        asChild\n        onOpenAutoFocus={(e) => e.preventDefault()}\n        contentEditable={false}\n        {...props}\n      >\n        <Toolbar\n          className=\"scrollbar-hide flex w-auto max-w-[80vw] flex-row overflow-x-auto rounded-md border bg-popover p-1 shadow-md print:hidden\"\n          contentEditable={false}\n        >\n          <ToolbarGroup>\n            <ColorDropdownMenu tooltip=\"Background color\">\n              <PaintBucketIcon />\n            </ColorDropdownMenu>\n            {canMerge && (\n              <ToolbarButton\n                onClick={() => tf.table.merge()}\n                onMouseDown={(e) => e.preventDefault()}\n                tooltip=\"Merge cells\"\n              >\n                <CombineIcon />\n              </ToolbarButton>\n            )}\n            {canSplit && (\n              <ToolbarButton\n                onClick={() => tf.table.split()}\n                onMouseDown={(e) => e.preventDefault()}\n                tooltip=\"Split cell\"\n              >\n                <SquareSplitHorizontalIcon />\n              </ToolbarButton>\n            )}\n\n            <DropdownMenu modal={false}>\n              <DropdownMenuTrigger asChild>\n                <ToolbarButton tooltip=\"Cell borders\">\n                  <Grid2X2Icon />\n                </ToolbarButton>\n              </DropdownMenuTrigger>\n\n              <DropdownMenuPortal>\n                <TableBordersDropdownMenuContent />\n              </DropdownMenuPortal>\n            </DropdownMenu>\n\n            {collapsed && (\n              <ToolbarGroup>\n                <ToolbarButton tooltip=\"Delete table\" {...buttonProps}>\n                  <Trash2Icon />\n                </ToolbarButton>\n              </ToolbarGroup>\n            )}\n          </ToolbarGroup>\n\n          {collapsed && (\n            <ToolbarGroup>\n              <ToolbarButton\n                onClick={() => {\n                  tf.insert.tableRow({ before: true });\n                }}\n                onMouseDown={(e) => e.preventDefault()}\n                tooltip=\"Insert row before\"\n              >\n                <ArrowUp />\n              </ToolbarButton>\n              <ToolbarButton\n                onClick={() => {\n                  tf.insert.tableRow();\n                }}\n                onMouseDown={(e) => e.preventDefault()}\n                tooltip=\"Insert row after\"\n              >\n                <ArrowDown />\n              </ToolbarButton>\n              <ToolbarButton\n                onClick={() => {\n                  tf.remove.tableRow();\n                }}\n                onMouseDown={(e) => e.preventDefault()}\n                tooltip=\"Delete row\"\n              >\n                <XIcon />\n              </ToolbarButton>\n            </ToolbarGroup>\n          )}\n\n          {collapsed && (\n            <ToolbarGroup>\n              <ToolbarButton\n                onClick={() => {\n                  tf.insert.tableColumn({ before: true });\n                }}\n                onMouseDown={(e) => e.preventDefault()}\n                tooltip=\"Insert column before\"\n              >\n                <ArrowLeft />\n              </ToolbarButton>\n              <ToolbarButton\n                onClick={() => {\n                  tf.insert.tableColumn();\n                }}\n                onMouseDown={(e) => e.preventDefault()}\n                tooltip=\"Insert column after\"\n              >\n                <ArrowRight />\n              </ToolbarButton>\n              <ToolbarButton\n                onClick={() => {\n                  tf.remove.tableColumn();\n                }}\n                onMouseDown={(e) => e.preventDefault()}\n                tooltip=\"Delete column\"\n              >\n                <XIcon />\n              </ToolbarButton>\n            </ToolbarGroup>\n          )}\n        </Toolbar>\n      </PopoverContent>\n    </Popover>\n  );\n}\n\nexport function TableBordersDropdownMenuContent(\n  props: React.ComponentProps<typeof DropdownMenuPrimitive.Content>\n) {\n  const editor = useEditorRef();\n  const {\n    getOnSelectTableBorder,\n    hasBottomBorder,\n    hasLeftBorder,\n    hasNoBorders,\n    hasOuterBorders,\n    hasRightBorder,\n    hasTopBorder,\n  } = useTableBordersDropdownMenuContentState();\n\n  return (\n    <DropdownMenuContent\n      className=\"min-w-[220px]\"\n      onCloseAutoFocus={(e) => {\n        e.preventDefault();\n        editor.tf.focus();\n      }}\n      align=\"start\"\n      side=\"right\"\n      sideOffset={0}\n      {...props}\n    >\n      <DropdownMenuGroup>\n        <DropdownMenuCheckboxItem\n          checked={hasTopBorder}\n          onCheckedChange={getOnSelectTableBorder('top')}\n        >\n          <BorderTop />\n          <div>Top Border</div>\n        </DropdownMenuCheckboxItem>\n        <DropdownMenuCheckboxItem\n          checked={hasRightBorder}\n          onCheckedChange={getOnSelectTableBorder('right')}\n        >\n          <BorderRight />\n          <div>Right Border</div>\n        </DropdownMenuCheckboxItem>\n        <DropdownMenuCheckboxItem\n          checked={hasBottomBorder}\n          onCheckedChange={getOnSelectTableBorder('bottom')}\n        >\n          <BorderBottom />\n          <div>Bottom Border</div>\n        </DropdownMenuCheckboxItem>\n        <DropdownMenuCheckboxItem\n          checked={hasLeftBorder}\n          onCheckedChange={getOnSelectTableBorder('left')}\n        >\n          <BorderLeft />\n          <div>Left Border</div>\n        </DropdownMenuCheckboxItem>\n      </DropdownMenuGroup>\n\n      <DropdownMenuGroup>\n        <DropdownMenuCheckboxItem\n          checked={hasNoBorders}\n          onCheckedChange={getOnSelectTableBorder('none')}\n        >\n          <BorderNone />\n          <div>No Border</div>\n        </DropdownMenuCheckboxItem>\n        <DropdownMenuCheckboxItem\n          checked={hasOuterBorders}\n          onCheckedChange={getOnSelectTableBorder('outer')}\n        >\n          <BorderAll />\n          <div>Outside Borders</div>\n        </DropdownMenuCheckboxItem>\n      </DropdownMenuGroup>\n    </DropdownMenuContent>\n  );\n}\n\ntype ColorDropdownMenuProps = {\n  children: React.ReactNode;\n  tooltip: string;\n};\n\nfunction ColorDropdownMenu({ children, tooltip }: ColorDropdownMenuProps) {\n  const [open, setOpen] = React.useState(false);\n\n  const editor = useEditorRef();\n  const selectedCells = usePluginOption(TablePlugin, 'selectedCells');\n\n  const onUpdateColor = React.useCallback(\n    (color: string) => {\n      setOpen(false);\n      setCellBackground(editor, { color, selectedCells: selectedCells ?? [] });\n    },\n    [selectedCells, editor]\n  );\n\n  const onClearColor = React.useCallback(() => {\n    setOpen(false);\n    setCellBackground(editor, {\n      color: null,\n      selectedCells: selectedCells ?? [],\n    });\n  }, [selectedCells, editor]);\n\n  return (\n    <DropdownMenu open={open} onOpenChange={setOpen} modal={false}>\n      <DropdownMenuTrigger asChild>\n        <ToolbarButton tooltip={tooltip}>{children}</ToolbarButton>\n      </DropdownMenuTrigger>\n\n      <DropdownMenuContent align=\"start\">\n        <ToolbarMenuGroup label=\"Colors\">\n          <ColorDropdownMenuItems\n            className=\"px-2\"\n            colors={DEFAULT_COLORS}\n            updateColor={onUpdateColor}\n          />\n        </ToolbarMenuGroup>\n        <DropdownMenuGroup>\n          <DropdownMenuItem className=\"p-2\" onClick={onClearColor}>\n            <EraserIcon />\n            <span>Clear</span>\n          </DropdownMenuItem>\n        </DropdownMenuGroup>\n      </DropdownMenuContent>\n    </DropdownMenu>\n  );\n}\n","'use client';\n\nimport type { LucideProps } from 'lucide-react';\n\nexport const BorderAll:any = (props: LucideProps) => (\n  <svg\n    fill=\"none\"\n    height=\"15\"\n    viewBox=\"0 0 15 15\"\n    width=\"15\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    {...props}\n  >\n    <path\n      clipRule=\"evenodd\"\n      d=\"M0.25 1C0.25 0.585786 0.585786 0.25 1 0.25H14C14.4142 0.25 14.75 0.585786 14.75 1V14C14.75 14.4142 14.4142 14.75 14 14.75H1C0.585786 14.75 0.25 14.4142 0.25 14V1ZM1.75 1.75V13.25H13.25V1.75H1.75Z\"\n      fill=\"currentColor\"\n      fillRule=\"evenodd\"\n    ></path>\n    <rect fill=\"currentColor\" height=\"1\" rx=\".5\" width=\"1\" x=\"7\" y=\"5\"></rect>\n    <rect fill=\"currentColor\" height=\"1\" rx=\".5\" width=\"1\" x=\"7\" y=\"3\"></rect>\n    <rect fill=\"currentColor\" height=\"1\" rx=\".5\" width=\"1\" x=\"7\" y=\"7\"></rect>\n    <rect fill=\"currentColor\" height=\"1\" rx=\".5\" width=\"1\" x=\"5\" y=\"7\"></rect>\n    <rect fill=\"currentColor\" height=\"1\" rx=\".5\" width=\"1\" x=\"3\" y=\"7\"></rect>\n    <rect fill=\"currentColor\" height=\"1\" rx=\".5\" width=\"1\" x=\"9\" y=\"7\"></rect>\n    <rect fill=\"currentColor\" height=\"1\" rx=\".5\" width=\"1\" x=\"11\" y=\"7\"></rect>\n    <rect fill=\"currentColor\" height=\"1\" rx=\".5\" width=\"1\" x=\"7\" y=\"9\"></rect>\n    <rect fill=\"currentColor\" height=\"1\" rx=\".5\" width=\"1\" x=\"7\" y=\"11\"></rect>\n  </svg>\n);\n\nexport const BorderBottom:any = (props: LucideProps) => (\n  <svg\n    fill=\"none\"\n    height=\"15\"\n    viewBox=\"0 0 15 15\"\n    width=\"15\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    {...props}\n  >\n    <path\n      clipRule=\"evenodd\"\n      d=\"M1 13.25L14 13.25V14.75L1 14.75V13.25Z\"\n      fill=\"currentColor\"\n      fillRule=\"evenodd\"\n    ></path>\n    <rect fill=\"currentColor\" height=\"1\" rx=\".5\" width=\"1\" x=\"7\" y=\"5\"></rect>\n    <rect fill=\"currentColor\" height=\"1\" rx=\".5\" width=\"1\" x=\"13\" y=\"5\"></rect>\n    <rect fill=\"currentColor\" height=\"1\" rx=\".5\" width=\"1\" x=\"7\" y=\"3\"></rect>\n    <rect fill=\"currentColor\" height=\"1\" rx=\".5\" width=\"1\" x=\"13\" y=\"3\"></rect>\n    <rect fill=\"currentColor\" height=\"1\" rx=\".5\" width=\"1\" x=\"7\" y=\"7\"></rect>\n    <rect fill=\"currentColor\" height=\"1\" rx=\".5\" width=\"1\" x=\"7\" y=\"1\"></rect>\n    <rect fill=\"currentColor\" height=\"1\" rx=\".5\" width=\"1\" x=\"13\" y=\"7\"></rect>\n    <rect fill=\"currentColor\" height=\"1\" rx=\".5\" width=\"1\" x=\"13\" y=\"1\"></rect>\n    <rect fill=\"currentColor\" height=\"1\" rx=\".5\" width=\"1\" x=\"5\" y=\"7\"></rect>\n    <rect fill=\"currentColor\" height=\"1\" rx=\".5\" width=\"1\" x=\"5\" y=\"1\"></rect>\n    <rect fill=\"currentColor\" height=\"1\" rx=\".5\" width=\"1\" x=\"3\" y=\"7\"></rect>\n    <rect fill=\"currentColor\" height=\"1\" rx=\".5\" width=\"1\" x=\"3\" y=\"1\"></rect>\n    <rect fill=\"currentColor\" height=\"1\" rx=\".5\" width=\"1\" x=\"9\" y=\"7\"></rect>\n    <rect fill=\"currentColor\" height=\"1\" rx=\".5\" width=\"1\" x=\"9\" y=\"1\"></rect>\n    <rect fill=\"currentColor\" height=\"1\" rx=\".5\" width=\"1\" x=\"11\" y=\"7\"></rect>\n    <rect fill=\"currentColor\" height=\"1\" rx=\".5\" width=\"1\" x=\"11\" y=\"1\"></rect>\n    <rect fill=\"currentColor\" height=\"1\" rx=\".5\" width=\"1\" x=\"7\" y=\"9\"></rect>\n    <rect fill=\"currentColor\" height=\"1\" rx=\".5\" width=\"1\" x=\"13\" y=\"9\"></rect>\n    <rect fill=\"currentColor\" height=\"1\" rx=\".5\" width=\"1\" x=\"7\" y=\"11\"></rect>\n    <rect fill=\"currentColor\" height=\"1\" rx=\".5\" width=\"1\" x=\"13\" y=\"11\"></rect>\n    <rect fill=\"currentColor\" height=\"1\" rx=\".5\" width=\"1\" x=\"1\" y=\"5\"></rect>\n    <rect fill=\"currentColor\" height=\"1\" rx=\".5\" width=\"1\" x=\"1\" y=\"3\"></rect>\n    <rect fill=\"currentColor\" height=\"1\" rx=\".5\" width=\"1\" x=\"1\" y=\"7\"></rect>\n    <rect fill=\"currentColor\" height=\"1\" rx=\".5\" width=\"1\" x=\"1\" y=\"1\"></rect>\n    <rect fill=\"currentColor\" height=\"1\" rx=\".5\" width=\"1\" x=\"1\" y=\"9\"></rect>\n    <rect fill=\"currentColor\" height=\"1\" rx=\".5\" width=\"1\" x=\"1\" y=\"11\"></rect>\n  </svg>\n);\n\nexport const BorderLeft:any = (props: LucideProps) => (\n  <svg\n    fill=\"none\"\n    height=\"15\"\n    viewBox=\"0 0 15 15\"\n    width=\"15\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    {...props}\n  >\n    <path\n      clipRule=\"evenodd\"\n      d=\"M1.75 1L1.75 14L0.249999 14L0.25 1L1.75 1Z\"\n      fill=\"currentColor\"\n      fillRule=\"evenodd\"\n    ></path>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"rotate(90 10 7)\"\n      width=\"1\"\n      x=\"10\"\n      y=\"7\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"rotate(90 10 13)\"\n      width=\"1\"\n      x=\"10\"\n      y=\"13\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"rotate(90 12 7)\"\n      width=\"1\"\n      x=\"12\"\n      y=\"7\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"rotate(90 12 13)\"\n      width=\"1\"\n      x=\"12\"\n      y=\"13\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"rotate(90 8 7)\"\n      width=\"1\"\n      x=\"8\"\n      y=\"7\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"rotate(90 14 7)\"\n      width=\"1\"\n      x=\"14\"\n      y=\"7\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"rotate(90 8 13)\"\n      width=\"1\"\n      x=\"8\"\n      y=\"13\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"rotate(90 14 13)\"\n      width=\"1\"\n      x=\"14\"\n      y=\"13\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"rotate(90 8 5)\"\n      width=\"1\"\n      x=\"8\"\n      y=\"5\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"rotate(90 14 5)\"\n      width=\"1\"\n      x=\"14\"\n      y=\"5\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"rotate(90 8 3)\"\n      width=\"1\"\n      x=\"8\"\n      y=\"3\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"rotate(90 14 3)\"\n      width=\"1\"\n      x=\"14\"\n      y=\"3\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"rotate(90 8 9)\"\n      width=\"1\"\n      x=\"8\"\n      y=\"9\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"rotate(90 14 9)\"\n      width=\"1\"\n      x=\"14\"\n      y=\"9\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"rotate(90 8 11)\"\n      width=\"1\"\n      x=\"8\"\n      y=\"11\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"rotate(90 14 11)\"\n      width=\"1\"\n      x=\"14\"\n      y=\"11\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"rotate(90 6 7)\"\n      width=\"1\"\n      x=\"6\"\n      y=\"7\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"rotate(90 6 13)\"\n      width=\"1\"\n      x=\"6\"\n      y=\"13\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"rotate(90 4 7)\"\n      width=\"1\"\n      x=\"4\"\n      y=\"7\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"rotate(90 4 13)\"\n      width=\"1\"\n      x=\"4\"\n      y=\"13\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"rotate(90 10 1)\"\n      width=\"1\"\n      x=\"10\"\n      y=\"1\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"rotate(90 12 1)\"\n      width=\"1\"\n      x=\"12\"\n      y=\"1\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"rotate(90 8 1)\"\n      width=\"1\"\n      x=\"8\"\n      y=\"1\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"rotate(90 14 1)\"\n      width=\"1\"\n      x=\"14\"\n      y=\"1\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"rotate(90 6 1)\"\n      width=\"1\"\n      x=\"6\"\n      y=\"1\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"rotate(90 4 1)\"\n      width=\"1\"\n      x=\"4\"\n      y=\"1\"\n    ></rect>\n  </svg>\n);\n\nexport const BorderNone:any = (props: LucideProps) => (\n  <svg\n    fill=\"none\"\n    height=\"15\"\n    viewBox=\"0 0 15 15\"\n    width=\"15\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    {...props}\n  >\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      width=\"1\"\n      x=\"7\"\n      y=\"5.025\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      width=\"1\"\n      x=\"13\"\n      y=\"5.025\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      width=\"1\"\n      x=\"7\"\n      y=\"3.025\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      width=\"1\"\n      x=\"13\"\n      y=\"3.025\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      width=\"1\"\n      x=\"7\"\n      y=\"7.025\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      width=\"1\"\n      x=\"7\"\n      y=\"13.025\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      width=\"1\"\n      x=\"7\"\n      y=\"1.025\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      width=\"1\"\n      x=\"13\"\n      y=\"7.025\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      width=\"1\"\n      x=\"13\"\n      y=\"13.025\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      width=\"1\"\n      x=\"13\"\n      y=\"1.025\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      width=\"1\"\n      x=\"5\"\n      y=\"7.025\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      width=\"1\"\n      x=\"5\"\n      y=\"13.025\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      width=\"1\"\n      x=\"5\"\n      y=\"1.025\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      width=\"1\"\n      x=\"3\"\n      y=\"7.025\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      width=\"1\"\n      x=\"3\"\n      y=\"13.025\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      width=\"1\"\n      x=\"3\"\n      y=\"1.025\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      width=\"1\"\n      x=\"9\"\n      y=\"7.025\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      width=\"1\"\n      x=\"9\"\n      y=\"13.025\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      width=\"1\"\n      x=\"9\"\n      y=\"1.025\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      width=\"1\"\n      x=\"11\"\n      y=\"7.025\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      width=\"1\"\n      x=\"11\"\n      y=\"13.025\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      width=\"1\"\n      x=\"11\"\n      y=\"1.025\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      width=\"1\"\n      x=\"7\"\n      y=\"9.025\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      width=\"1\"\n      x=\"13\"\n      y=\"9.025\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      width=\"1\"\n      x=\"7\"\n      y=\"11.025\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      width=\"1\"\n      x=\"13\"\n      y=\"11.025\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      width=\"1\"\n      x=\"1\"\n      y=\"5.025\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      width=\"1\"\n      x=\"1\"\n      y=\"3.025\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      width=\"1\"\n      x=\"1\"\n      y=\"7.025\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      width=\"1\"\n      x=\"1\"\n      y=\"13.025\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      width=\"1\"\n      x=\"1\"\n      y=\"1.025\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      width=\"1\"\n      x=\"1\"\n      y=\"9.025\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      width=\"1\"\n      x=\"1\"\n      y=\"11.025\"\n    ></rect>\n  </svg>\n);\n\nexport const BorderRight:any = (props: LucideProps) => (\n  <svg\n    fill=\"none\"\n    height=\"15\"\n    viewBox=\"0 0 15 15\"\n    width=\"15\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    {...props}\n  >\n    <path\n      clipRule=\"evenodd\"\n      d=\"M13.25 1L13.25 14L14.75 14L14.75 1L13.25 1Z\"\n      fill=\"currentColor\"\n      fillRule=\"evenodd\"\n    ></path>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"matrix(0 1 1 0 5 7)\"\n      width=\"1\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"matrix(0 1 1 0 5 13)\"\n      width=\"1\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"matrix(0 1 1 0 3 7)\"\n      width=\"1\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"matrix(0 1 1 0 3 13)\"\n      width=\"1\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"matrix(0 1 1 0 7 7)\"\n      width=\"1\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"matrix(0 1 1 0 1 7)\"\n      width=\"1\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"matrix(0 1 1 0 7 13)\"\n      width=\"1\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"matrix(0 1 1 0 1 13)\"\n      width=\"1\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"matrix(0 1 1 0 7 5)\"\n      width=\"1\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"matrix(0 1 1 0 1 5)\"\n      width=\"1\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"matrix(0 1 1 0 7 3)\"\n      width=\"1\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"matrix(0 1 1 0 1 3)\"\n      width=\"1\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"matrix(0 1 1 0 7 9)\"\n      width=\"1\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"matrix(0 1 1 0 1 9)\"\n      width=\"1\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"matrix(0 1 1 0 7 11)\"\n      width=\"1\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"matrix(0 1 1 0 1 11)\"\n      width=\"1\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"matrix(0 1 1 0 9 7)\"\n      width=\"1\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"matrix(0 1 1 0 9 13)\"\n      width=\"1\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"matrix(0 1 1 0 11 7)\"\n      width=\"1\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"matrix(0 1 1 0 11 13)\"\n      width=\"1\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"matrix(0 1 1 0 5 1)\"\n      width=\"1\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"matrix(0 1 1 0 3 1)\"\n      width=\"1\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"matrix(0 1 1 0 7 1)\"\n      width=\"1\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"matrix(0 1 1 0 1 1)\"\n      width=\"1\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"matrix(0 1 1 0 9 1)\"\n      width=\"1\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"matrix(0 1 1 0 11 1)\"\n      width=\"1\"\n    ></rect>\n  </svg>\n);\n\nexport const BorderTop:any = (props: LucideProps) => (\n  <svg\n    fill=\"none\"\n    height=\"15\"\n    viewBox=\"0 0 15 15\"\n    width=\"15\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    {...props}\n  >\n    <path\n      clipRule=\"evenodd\"\n      d=\"M14 1.75L1 1.75L1 0.249999L14 0.25L14 1.75Z\"\n      fill=\"currentColor\"\n      fillRule=\"evenodd\"\n    ></path>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"rotate(-180 8 10)\"\n      width=\"1\"\n      x=\"8\"\n      y=\"10\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"rotate(-180 2 10)\"\n      width=\"1\"\n      x=\"2\"\n      y=\"10\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"rotate(-180 8 12)\"\n      width=\"1\"\n      x=\"8\"\n      y=\"12\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"rotate(-180 2 12)\"\n      width=\"1\"\n      x=\"2\"\n      y=\"12\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"rotate(-180 8 8)\"\n      width=\"1\"\n      x=\"8\"\n      y=\"8\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"rotate(-180 8 14)\"\n      width=\"1\"\n      x=\"8\"\n      y=\"14\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"rotate(-180 2 8)\"\n      width=\"1\"\n      x=\"2\"\n      y=\"8\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"rotate(-180 2 14)\"\n      width=\"1\"\n      x=\"2\"\n      y=\"14\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"rotate(-180 10 8)\"\n      width=\"1\"\n      x=\"10\"\n      y=\"8\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"rotate(-180 10 14)\"\n      width=\"1\"\n      x=\"10\"\n      y=\"14\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"rotate(-180 12 8)\"\n      width=\"1\"\n      x=\"12\"\n      y=\"8\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"rotate(-180 12 14)\"\n      width=\"1\"\n      x=\"12\"\n      y=\"14\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"rotate(-180 6 8)\"\n      width=\"1\"\n      x=\"6\"\n      y=\"8\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"rotate(-180 6 14)\"\n      width=\"1\"\n      x=\"6\"\n      y=\"14\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"rotate(-180 4 8)\"\n      width=\"1\"\n      x=\"4\"\n      y=\"8\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"rotate(-180 4 14)\"\n      width=\"1\"\n      x=\"4\"\n      y=\"14\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"rotate(-180 8 6)\"\n      width=\"1\"\n      x=\"8\"\n      y=\"6\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"rotate(-180 2 6)\"\n      width=\"1\"\n      x=\"2\"\n      y=\"6\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"rotate(-180 8 4)\"\n      width=\"1\"\n      x=\"8\"\n      y=\"4\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"rotate(-180 2 4)\"\n      width=\"1\"\n      x=\"2\"\n      y=\"4\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"rotate(-180 14 10)\"\n      width=\"1\"\n      x=\"14\"\n      y=\"10\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"rotate(-180 14 12)\"\n      width=\"1\"\n      x=\"14\"\n      y=\"12\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"rotate(-180 14 8)\"\n      width=\"1\"\n      x=\"14\"\n      y=\"8\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"rotate(-180 14 14)\"\n      width=\"1\"\n      x=\"14\"\n      y=\"14\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"rotate(-180 14 6)\"\n      width=\"1\"\n      x=\"14\"\n      y=\"6\"\n    ></rect>\n    <rect\n      fill=\"currentColor\"\n      height=\"1\"\n      rx=\".5\"\n      transform=\"rotate(-180 14 4)\"\n      width=\"1\"\n      x=\"14\"\n      y=\"4\"\n    ></rect>\n  </svg>\n);\n","'use client';\n\nimport * as React from 'react';\n\nimport { GripVertical } from 'lucide-react';\n\nimport { useComposedRef } from '@udecode/cn';\nimport {\n  PathApi,\n  type TElement,\n} from '@udecode/plate';\nimport {\n  useDraggable,\n  useDropLine,\n} from '@udecode/plate-dnd';\nimport { BlockSelectionPlugin } from '@udecode/plate-selection/react';\nimport type { TTableRowElement } from '@udecode/plate-table';\nimport {\n  PlateElement,\n  type PlateElementProps,\n  useEditorRef,\n  useElement,\n  usePluginOption,\n  useReadOnly,\n  useSelected,\n} from '@udecode/plate/react';\n\nimport { cn } from '../../../libs/utils';\nimport { Button } from './button';\n\nexport function TableRowElement(props: PlateElementProps<TTableRowElement>) {\n  const { element } = props;\n  const readOnly = useReadOnly();\n  const selected = useSelected();\n  const editor = useEditorRef();\n  const isSelectionAreaVisible = usePluginOption(\n    BlockSelectionPlugin,\n    'isSelectionAreaVisible'\n  );\n  const hasControls = !readOnly && !isSelectionAreaVisible;\n\n  const { isDragging, previewRef, handleRef } = useDraggable({\n    element,\n    type: element.type,\n    canDropNode: ({ dragEntry, dropEntry }) =>\n      PathApi.equals(\n        PathApi.parent(dragEntry[1]),\n        PathApi.parent(dropEntry[1])\n      ),\n    onDropHandler: (_, { dragItem }) => {\n      const dragElement = (dragItem as { element: TElement }).element;\n\n      if (dragElement) {\n        editor.tf.select(dragElement);\n      }\n    },\n  });\n\n  return (\n      <PlateElement\n        {...props}\n        ref={useComposedRef(props.ref, previewRef)}\n        as=\"tr\"\n        className={cn('group/row', isDragging && 'opacity-50')}\n        attributes={{\n          ...props.attributes,\n          'data-selected': selected ? 'true' : undefined,\n        }}\n      >\n        {hasControls && (\n          <td className=\"w-2 select-none\" contentEditable={false}>\n            <RowDragHandle dragRef={handleRef} />\n            <DropLine />\n          </td>\n        )}\n  \n        {props.children}\n      </PlateElement>\n  );\n}\n\nfunction RowDragHandle({ dragRef }: { dragRef: React.Ref<any> }) {\n  const editor = useEditorRef();\n  const element = useElement();\n\n  return (\n    <Button\n      ref={dragRef}\n      variant=\"outline\"\n      className={cn(\n        'absolute top-1/2 left-0 z-51 h-6 w-4 -translate-y-1/2 p-0 focus-visible:ring-0 focus-visible:ring-offset-0',\n        'cursor-grab active:cursor-grabbing',\n        'opacity-0 transition-opacity duration-100 group-hover/row:opacity-100 group-has-data-[resizing=\"true\"]/row:opacity-0'\n      )}\n      onClick={() => {\n        editor.tf.select(element);\n      }}\n    >\n      <GripVertical className=\"text-muted-foreground\" />\n    </Button>\n  );\n}\n\nfunction DropLine() {\n  const { dropLine } = useDropLine();\n\n  if (!dropLine) return null;\n\n  return (\n    <div\n      className={cn(\n        'absolute inset-x-0 left-2 z-50 h-0.5 bg-brand/50',\n        dropLine === 'top' ? '-top-px' : '-bottom-px'\n      )}\n    />\n  );\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport { cva } from 'class-variance-authority';\n\nimport {\n  useTocElement,\n  useTocElementState,\n} from '@udecode/plate-heading/react';\nimport type { PlateElementProps } from '@udecode/plate/react';\nimport { PlateElement } from '@udecode/plate/react';\n\nimport { BlockWithPlus } from '../core/element-wrapper';\nimport { Button } from './button';\n\nconst headingItemVariants = cva(\n  'block h-auto w-full cursor-pointer truncate rounded-none px-0.5 py-1.5 text-left font-medium text-muted-foreground underline decoration-[0.5px] underline-offset-4 hover:bg-accent hover:text-muted-foreground',\n  {\n    variants: {\n      depth: {\n        1: 'pl-0.5',\n        2: 'pl-[26px]',\n        3: 'pl-[50px]',\n      },\n    },\n  }\n);\n\nexport function TocElement(props: PlateElementProps) {\n  const state = useTocElementState();\n  const { props: btnProps } = useTocElement(state);\n  const { headingList } = state;\n\n  return (\n    <BlockWithPlus element={props.element}>\n      <PlateElement {...props} className=\"mb-1 p-0\">\n        <div contentEditable={false}>\n          {headingList.length > 0 ? (\n            headingList.map((item) => (\n              <Button\n                key={item.id}\n                variant=\"ghost\"\n                className={headingItemVariants({\n                  depth: item.depth as 1 | 2 | 3,\n                })}\n                onClick={(e) => btnProps.onClick(e, item, 'smooth')}\n                aria-current\n              >\n                {item.title}\n              </Button>\n            ))\n          ) : (\n            <div className=\"text-sm text-gray-500\">\n              Create a heading to display the table of contents.\n            </div>\n          )}\n        </div>\n        {props.children}\n      </PlateElement>\n    </BlockWithPlus>\n  );\n}\n","'use client';\n\nimport * as React from 'react';\n\nimport { ChevronRight } from 'lucide-react';\n\nimport {\n  useToggleButton,\n  useToggleButtonState,\n} from '@udecode/plate-toggle/react';\nimport type { PlateElementProps } from '@udecode/plate/react';\nimport { PlateElement } from '@udecode/plate/react';\n\nimport { BlockWithPlus } from '../core/element-wrapper';\nimport { Button } from './button';\n\nexport function ToggleElement(props: PlateElementProps) {\n  const element = props.element;\n  const state = useToggleButtonState(element.id as string);\n  const { buttonProps, open } = useToggleButton(state);\n\n  return (\n    <BlockWithPlus element={element}>\n      <PlateElement {...props} className=\"pl-6\">\n        <Button\n          size=\"icon\"\n          variant=\"ghost\"\n          className=\"absolute top-0 -left-0.5 size-6 cursor-pointer items-center justify-center rounded-md p-px text-muted-foreground transition-colors select-none hover:bg-accent [&_svg]:size-4\"\n          contentEditable={false}\n          {...buttonProps}\n        >\n          <ChevronRight\n            className={\n              open\n                ? 'rotate-90 transition-transform duration-75'\n                : 'rotate-0 transition-transform duration-75'\n            }\n          />\n        </Button>\n        {props.children}\n      </PlateElement>\n    </BlockWithPlus>\n  );\n}\n","import {\n  ArrowUpToLineIcon,\n  BaselineIcon,\n  BoldIcon,\n  Code2Icon,\n  HighlighterIcon,\n  ItalicIcon,\n  PaintBucketIcon,\n  StrikethroughIcon,\n  UnderlineIcon,\n} from 'lucide-react';\n\nimport {\n  BoldPlugin,\n  CodePlugin,\n  ItalicPlugin,\n  StrikethroughPlugin,\n  UnderlinePlugin,\n} from '@udecode/plate-basic-marks/react';\nimport {\n  FontBackgroundColorPlugin,\n  FontColorPlugin,\n} from '@udecode/plate-font/react';\nimport { HighlightPlugin } from '@udecode/plate-highlight/react';\nimport {\n  AudioPlugin,\n  FilePlugin,\n  ImagePlugin,\n  VideoPlugin,\n} from '@udecode/plate-media/react';\n\nimport { AIToolbarButton } from '../ui/ai-toolbar-button';\nimport { AlignDropdownMenu } from '../ui/align-dropdown-menu';\nimport { ColorDropdownMenu } from '../ui/color-dropdown-menu';\nimport { CommentToolbarButton } from '../ui/comment-toolbar-button';\nimport { EmojiDropdownMenu } from '../ui/emoji-dropdown-menu';\nimport { ExportToolbarButton } from '../ui/export-toolbar-button';\nimport { FontSizeToolbarButton } from '../ui/font-size-toolbar-button';\nimport {\n  RedoToolbarButton,\n  UndoToolbarButton,\n} from '../ui/history-toolbar-button';\nimport { ImportToolbarButton } from '../ui/import-toolbar-button';\nimport {\n  BulletedIndentListToolbarButton,\n  NumberedIndentListToolbarButton,\n} from '../ui/indent-list-toolbar-button';\nimport { IndentTodoToolbarButton } from '../ui/indent-todo-toolbar-button';\nimport { IndentToolbarButton } from '../ui/indent-toolbar-button';\nimport { InsertDropdownMenu } from '../ui/insert-dropdown-menu';\nimport { LineHeightDropdownMenu } from '../ui/line-height-dropdown-menu';\nimport { LinkToolbarButton } from '../ui/link-toolbar-button';\nimport { MarkToolbarButton } from '../ui/mark-toolbar-button';\nimport { MediaToolbarButton } from '../ui/media-toolbar-button';\nimport { ModeDropdownMenu } from '../ui/mode-dropdown-menu';\nimport { MoreDropdownMenu } from '../ui/more-dropdown-menu';\nimport { OutdentToolbarButton } from '../ui/outdent-toolbar-button';\nimport { TableDropdownMenu } from '../ui/table-dropdown-menu';\nimport { ToggleToolbarButton } from '../ui/toggle-toolbar-button';\nimport {\n  Toolbar,\n  ToolbarGroup,\n} from '../ui/toolbar';\nimport { TurnIntoDropdownMenu } from '../ui/turn-into-dropdown-menu';\n\nexport const Undo = () => {\n\treturn (\n\t\t<Toolbar\n\t\t\tstyle={{\n\t\t\t\tpadding: 0,\n\t\t\t\tborder: \"none\",\n\t\t\t}}\n\t\t>\n\t\t\t<ToolbarGroup\n\t\t\t\tstyle={{\n\t\t\t\t\tpadding: 0,\n\t\t\t\t\tborder: \"none\",\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<UndoToolbarButton />\n\t\t\t</ToolbarGroup>\n\t\t</Toolbar>\n\t);\n};\n\nexport const Redo = () => {\n\treturn (\n\t\t<Toolbar\n\t\t\tstyle={{\n\t\t\t\tpadding: 0,\n\t\t\t\tborder: \"none\",\n\t\t\t}}\n\t\t>\n\t\t\t<ToolbarGroup\n\t\t\t\tstyle={{\n\t\t\t\t\tpadding: 0,\n\t\t\t\t\tborder: \"none\",\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<RedoToolbarButton />\n\t\t\t</ToolbarGroup>\n\t\t</Toolbar>\n\t);\n};\n\nexport const AI = () => {\n\treturn (\n\t\t<Toolbar\n\t\t\tstyle={{\n\t\t\t\tpadding: 0,\n\t\t\t\tborder: \"none\",\n\t\t\t}}\n\t\t>\n\t\t\t<ToolbarGroup\n\t\t\t\tstyle={{\n\t\t\t\t\tpadding: 0,\n\t\t\t\t\tborder: \"none\",\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<AIToolbarButton />\n\t\t\t</ToolbarGroup>\n\t\t</Toolbar>\n\t);\n};\n\nexport const Export = () => {\n\treturn (\n\t\t<Toolbar\n\t\t\tstyle={{\n\t\t\t\tpadding: 0,\n\t\t\t\tborder: \"none\",\n\t\t\t}}\n\t\t>\n\t\t\t<ToolbarGroup\n\t\t\t\tstyle={{\n\t\t\t\t\tpadding: 0,\n\t\t\t\t\tborder: \"none\",\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<ExportToolbarButton>\n\t\t\t\t\t<ArrowUpToLineIcon />\n\t\t\t\t</ExportToolbarButton>\n\t\t\t</ToolbarGroup>\n\t\t</Toolbar>\n\t);\n};\n\nexport const Import = () => {\n\treturn (\n\t\t<Toolbar\n\t\t\tstyle={{\n\t\t\t\tpadding: 0,\n\t\t\t\tborder: \"none\",\n\t\t\t}}\n\t\t>\n\t\t\t<ToolbarGroup\n\t\t\t\tstyle={{\n\t\t\t\t\tpadding: 0,\n\t\t\t\t\tborder: \"none\",\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<ImportToolbarButton />\n\t\t\t</ToolbarGroup>\n\t\t</Toolbar>\n\t);\n};\n\nexport const Insert = () => {\n\treturn (\n\t\t<Toolbar\n\t\t\tstyle={{\n\t\t\t\tpadding: 0,\n\t\t\t\tborder: \"none\",\n\t\t\t}}\n\t\t>\n\t\t\t<ToolbarGroup\n\t\t\t\tstyle={{\n\t\t\t\t\tpadding: 0,\n\t\t\t\t\tborder: \"none\",\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<InsertDropdownMenu />\n\t\t\t</ToolbarGroup>\n\t\t</Toolbar>\n\t);\n};\n\nexport const TurnInto = () => {\n\treturn (\n\t\t<Toolbar\n\t\t\tstyle={{\n\t\t\t\tpadding: 0,\n\t\t\t\tborder: \"none\",\n\t\t\t}}\n\t\t>\n\t\t\t<ToolbarGroup\n\t\t\t\tstyle={{\n\t\t\t\t\tpadding: 0,\n\t\t\t\t\tborder: \"none\",\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<TurnIntoDropdownMenu />\n\t\t\t</ToolbarGroup>\n\t\t</Toolbar>\n\t);\n};\n\nexport const FontSize = () => {\n\treturn (\n\t\t<Toolbar\n\t\t\tstyle={{\n\t\t\t\tpadding: 0,\n\t\t\t\tborder: \"none\",\n\t\t\t}}\n\t\t>\n\t\t\t<ToolbarGroup\n\t\t\t\tstyle={{\n\t\t\t\t\tpadding: 0,\n\t\t\t\t\tborder: \"none\",\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<FontSizeToolbarButton />\n\t\t\t</ToolbarGroup>\n\t\t</Toolbar>\n\t);\n};\n\nexport const Bold = () => {\n\treturn (\n\t\t<Toolbar\n\t\t\tstyle={{\n\t\t\t\tpadding: 0,\n\t\t\t\tborder: \"none\",\n\t\t\t}}\n\t\t>\n\t\t\t<ToolbarGroup\n\t\t\t\tstyle={{\n\t\t\t\t\tpadding: 0,\n\t\t\t\t\tborder: \"none\",\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<MarkToolbarButton nodeType={BoldPlugin.key} tooltip=\"Bold (⌘+B)\">\n\t\t\t\t\t<BoldIcon />\n\t\t\t\t</MarkToolbarButton>\n\t\t\t</ToolbarGroup>\n\t\t</Toolbar>\n\t);\n};\n\nexport const Italic = () => {\n\treturn (\n\t\t<Toolbar\n\t\t\tstyle={{\n\t\t\t\tpadding: 0,\n\t\t\t\tborder: \"none\",\n\t\t\t}}\n\t\t>\n\t\t\t<ToolbarGroup\n\t\t\t\tstyle={{\n\t\t\t\t\tpadding: 0,\n\t\t\t\t\tborder: \"none\",\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<MarkToolbarButton nodeType={ItalicPlugin.key} tooltip=\"Italic (⌘+I)\">\n\t\t\t\t\t<ItalicIcon />\n\t\t\t\t</MarkToolbarButton>\n\t\t\t</ToolbarGroup>\n\t\t</Toolbar>\n\t);\n};\n\nexport const Underline = () => {\n\treturn (\n\t\t<Toolbar\n\t\t\tstyle={{\n\t\t\t\tpadding: 0,\n\t\t\t\tborder: \"none\",\n\t\t\t}}\n\t\t>\n\t\t\t<ToolbarGroup\n\t\t\t\tstyle={{\n\t\t\t\t\tpadding: 0,\n\t\t\t\t\tborder: \"none\",\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<MarkToolbarButton nodeType={UnderlinePlugin.key} tooltip=\"Underline (⌘+U)\">\n\t\t\t\t\t<UnderlineIcon />\n\t\t\t\t</MarkToolbarButton>\n\t\t\t</ToolbarGroup>\n\t\t</Toolbar>\n\t);\n};\n\nexport const StrikeThrough = () => {\n\treturn (\n\t\t<Toolbar\n\t\t\tstyle={{\n\t\t\t\tpadding: 0,\n\t\t\t\tborder: \"none\",\n\t\t\t}}\n\t\t>\n\t\t\t<ToolbarGroup\n\t\t\t\tstyle={{\n\t\t\t\t\tpadding: 0,\n\t\t\t\t\tborder: \"none\",\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<MarkToolbarButton nodeType={StrikethroughPlugin.key} tooltip=\"Strikethrough (⌘+⇧+M)\">\n\t\t\t\t\t<StrikethroughIcon />\n\t\t\t\t</MarkToolbarButton>\n\t\t\t</ToolbarGroup>\n\t\t</Toolbar>\n\t);\n};\n\nexport const Code = () => {\n\treturn (\n\t\t<Toolbar\n\t\t\tstyle={{\n\t\t\t\tpadding: 0,\n\t\t\t\tborder: \"none\",\n\t\t\t}}\n\t\t>\n\t\t\t<ToolbarGroup\n\t\t\t\tstyle={{\n\t\t\t\t\tpadding: 0,\n\t\t\t\t\tborder: \"none\",\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<MarkToolbarButton nodeType={CodePlugin.key} tooltip=\"Code (⌘+E)\">\n\t\t\t\t\t<Code2Icon />\n\t\t\t\t</MarkToolbarButton>\n\t\t\t</ToolbarGroup>\n\t\t</Toolbar>\n\t);\n};\n\nexport const FontColor = () => {\n\treturn (\n\t\t<Toolbar\n\t\t\tstyle={{\n\t\t\t\tpadding: 0,\n\t\t\t\tborder: \"none\",\n\t\t\t}}\n\t\t>\n\t\t\t<ToolbarGroup\n\t\t\t\tstyle={{\n\t\t\t\t\tpadding: 0,\n\t\t\t\t\tborder: \"none\",\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<ColorDropdownMenu nodeType={FontColorPlugin.key} tooltip=\"Text color\">\n\t\t\t\t\t<BaselineIcon />\n\t\t\t\t</ColorDropdownMenu>\n\t\t\t</ToolbarGroup>\n\t\t</Toolbar>\n\t);\n};\n\nexport const BackgroundColor = () => {\n\treturn (\n\t\t<Toolbar\n\t\t\tstyle={{\n\t\t\t\tpadding: 0,\n\t\t\t\tborder: \"none\",\n\t\t\t}}\n\t\t>\n\t\t\t<ToolbarGroup\n\t\t\t\tstyle={{\n\t\t\t\t\tpadding: 0,\n\t\t\t\t\tborder: \"none\",\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<ColorDropdownMenu nodeType={FontBackgroundColorPlugin.key} tooltip=\"Background color\">\n\t\t\t\t\t<PaintBucketIcon />\n\t\t\t\t</ColorDropdownMenu>\n\t\t\t</ToolbarGroup>\n\t\t</Toolbar>\n\t);\n};\n\nexport const Align = () => {\n\treturn (\n\t\t<Toolbar\n\t\t\tstyle={{\n\t\t\t\tpadding: 0,\n\t\t\t\tborder: \"none\",\n\t\t\t}}\n\t\t>\n\t\t\t<ToolbarGroup\n\t\t\t\tstyle={{\n\t\t\t\t\tpadding: 0,\n\t\t\t\t\tborder: \"none\",\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<AlignDropdownMenu />\n\t\t\t</ToolbarGroup>\n\t\t</Toolbar>\n\t);\n};\n\nexport const NumberIndentList = () => {\n  return (\n    <Toolbar\n      style={{\n        padding: 0,\n        border: \"none\",\n      }}\n    >\n      <ToolbarGroup\n        style={{\n          padding: 0,\n          border: \"none\",\n        }}\n      >\n        <NumberedIndentListToolbarButton />\n      </ToolbarGroup>\n    </Toolbar>\n  );\n};\n\nexport const BulletedIndentList = () => {\n  return (\n    <Toolbar\n      style={{\n        padding: 0,\n        border: \"none\",\n      }}\n    >\n      <ToolbarGroup\n        style={{\n          padding: 0,\n          border: \"none\",\n        }}\n      >\n        <BulletedIndentListToolbarButton />\n      </ToolbarGroup>\n    </Toolbar>\n  );\n};\n\nexport const TodoIndentList = () => {\n  return (\n    <Toolbar\n      style={{\n        padding: 0,\n        border: \"none\",\n      }}\n    >\n      <ToolbarGroup\n        style={{\n          padding: 0,\n          border: \"none\",\n        }}\n      >\n        <IndentTodoToolbarButton />\n      </ToolbarGroup>\n    </Toolbar>\n  );\n};\n\nexport const Toggle = () => {\n  return (\n    <Toolbar\n      style={{\n        padding: 0,\n        border: \"none\",\n      }}\n    >\n      <ToolbarGroup\n        style={{\n          padding: 0,\n          border: \"none\",\n        }}\n      >\n        <ToggleToolbarButton />\n      </ToolbarGroup>\n    </Toolbar>\n  );\n};\n\nexport const Link = () => {\n  return (\n    <Toolbar\n      style={{\n        padding: 0,\n        border: \"none\",\n      }}\n    >\n      <ToolbarGroup\n        style={{\n          padding: 0,\n          border: \"none\",\n        }}\n      >\n        <LinkToolbarButton />\n      </ToolbarGroup>\n    </Toolbar>\n  );\n};\n\nexport const Table = () => {\n  return (\n    <Toolbar\n      style={{\n        padding: 0,\n        border: \"none\",\n      }}\n    >\n      <ToolbarGroup\n        style={{\n          padding: 0,\n          border: \"none\",\n        }}\n      >\n        <TableDropdownMenu />\n      </ToolbarGroup>\n    </Toolbar>\n  );\n};\n\nexport const Emoji = () => {\n  return (\n    <Toolbar\n      style={{\n        padding: 0,\n        border: \"none\",\n      }}\n    >\n      <ToolbarGroup\n        style={{\n          padding: 0,\n          border: \"none\",\n        }}\n      >\n        <EmojiDropdownMenu />\n      </ToolbarGroup>\n    </Toolbar>\n  );\n};\n\nexport const ImageMedia = () => {\n  return (\n    <Toolbar\n      style={{\n        padding: 0,\n        border: \"none\",\n      }}\n    >\n      <ToolbarGroup\n        style={{\n          padding: 0,\n          border: \"none\",\n        }}\n      >\n        <MediaToolbarButton nodeType={ImagePlugin.key} />\n      </ToolbarGroup>\n    </Toolbar>\n  );\n};\n\nexport const VideoMedia = () => {\n  return (\n    <Toolbar\n      style={{\n        padding: 0,\n        border: \"none\",\n      }}\n    >\n      <ToolbarGroup\n        style={{\n          padding: 0,\n          border: \"none\",\n        }}\n      >\n        <MediaToolbarButton nodeType={VideoPlugin.key} />\n      </ToolbarGroup>\n    </Toolbar>\n  );\n};\n\nexport const AudioMedia = () => {\n  return (\n    <Toolbar\n      style={{\n        padding: 0,\n        border: \"none\",\n      }}\n    >\n      <ToolbarGroup\n        style={{\n          padding: 0,\n          border: \"none\",\n        }}\n      >\n        <MediaToolbarButton nodeType={AudioPlugin.key} />\n      </ToolbarGroup>\n    </Toolbar>\n  );\n};\n\nexport const FileMedia = () => {\n  return (\n    <Toolbar\n      style={{\n        padding: 0,\n        border: \"none\",\n      }}\n    >\n      <ToolbarGroup\n        style={{\n          padding: 0,\n          border: \"none\",\n        }}\n      >\n        <MediaToolbarButton nodeType={FilePlugin.key} />\n      </ToolbarGroup>\n    </Toolbar>\n  );\n};\n\nexport const LineHeight = () => {\n  return (\n    <Toolbar\n      style={{\n        padding: 0,\n        border: \"none\",\n      }}\n    >\n      <ToolbarGroup\n        style={{\n          padding: 0,\n          border: \"none\",\n        }}\n      >\n       <LineHeightDropdownMenu />\n      </ToolbarGroup>\n    </Toolbar>\n  );\n};\n\nexport const Outdent = () => {\n  return (\n    <Toolbar\n      style={{\n        padding: 0,\n        border: \"none\",\n      }}\n    >\n      <ToolbarGroup\n        style={{\n          padding: 0,\n          border: \"none\",\n        }}\n      >\n        <OutdentToolbarButton />\n      </ToolbarGroup>\n    </Toolbar>\n  );\n};\n\nexport const Indent = () => {\n  return (\n    <Toolbar\n      style={{\n        padding: 0,\n        border: \"none\",\n      }}\n    >\n      <ToolbarGroup\n        style={{\n          padding: 0,\n          border: \"none\",\n        }}\n      >\n       <IndentToolbarButton />\n      </ToolbarGroup>\n    </Toolbar>\n  );\n};\n\nexport const More = () => {\n  return (\n    <Toolbar\n      style={{\n        padding: 0,\n        border: \"none\",\n      }}\n    >\n      <ToolbarGroup\n        style={{\n          padding: 0,\n          border: \"none\",\n        }}\n      >\n       <MoreDropdownMenu />\n      </ToolbarGroup>\n    </Toolbar>\n  );\n};\n\nexport const Highlight = () => {\n  return (\n    <Toolbar\n      style={{\n        padding: 0,\n        border: \"none\",\n      }}\n    >\n      <ToolbarGroup\n        style={{\n          padding: 0,\n          border: \"none\",\n        }}\n      >\n       <MarkToolbarButton nodeType={HighlightPlugin.key} tooltip=\"Highlight\">\n\t\t\t\t\t\t<HighlighterIcon />\n\t\t\t\t\t</MarkToolbarButton>\n      </ToolbarGroup>\n    </Toolbar>\n  );\n};\n\nexport const Comment = () => {\n  return (\n    <Toolbar\n      style={{\n        padding: 0,\n        border: \"none\",\n      }}\n    >\n      <ToolbarGroup\n        style={{\n          padding: 0,\n          border: \"none\",\n        }}\n      >\n       <CommentToolbarButton />\n      </ToolbarGroup>\n    </Toolbar>\n  );\n};\n\nexport const Mode = () => {\n  return (\n    <Toolbar\n      style={{\n        padding: 0,\n        border: \"none\",\n      }}\n    >\n      <ToolbarGroup\n        style={{\n          padding: 0,\n          border: \"none\",\n        }}\n      >\n       <ModeDropdownMenu />\n      </ToolbarGroup>\n    </Toolbar>\n  );\n};","import {\n  useEffect,\n  useState,\n} from 'react';\n\nimport axios from 'axios';\n\nimport { useApiContext } from '../apiProvider';\n\nexport const useApi = <T>(\n  resourceKey: string,\n  params?: Record<string, any>,\n  options?: { skip?: boolean }\n) => {\n  const { host, resources } = useApiContext();\n  const endpoint = resources[resourceKey];\n  const [data, setData] = useState<T | null>(null);\n  const [loading, setLoading] = useState<boolean>(false);\n  const [error, setError] = useState<any>(null);\n\n  useEffect(() => {\n    if (!endpoint || options?.skip) return;\n\n    const fetchData = async () => {\n      setLoading(true);\n      try {\n        const res = await axios.get(`${host}${endpoint}`, { params });\n        setData(res.data);\n        setError(null);\n      } catch (err) {\n        setError(err);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchData();\n  }, [host, endpoint, JSON.stringify(params)]);\n\n  return { data, loading, error };\n};\n","import React, {\n  createContext,\n  useContext,\n} from 'react';\n\nexport type ResourceConfig = {\n  [key: string]: string; // ví dụ: users: \"/users\"\n};\n\nexport type ApiContextProps = {\n  host: string;\n  resources: ResourceConfig;\n};\n\nconst ApiContext = createContext<ApiContextProps | undefined>(undefined);\n\nexport const ApiProvider: React.FC<{\n  children: React.ReactNode;\n  host: string;\n  resources: ResourceConfig;\n}> = ({ children, host, resources }) => {\n  return (\n    <ApiContext.Provider value={{ host, resources }}>\n      {children}\n    </ApiContext.Provider>\n  );\n};\n\nexport const useApiContext = () => {\n  const context = useContext(ApiContext);\n  if (!context) throw new Error('useApiContext must be used inside ApiProvider');\n  return context;\n};","import { useState } from 'react';\n\nimport axios, { Method } from 'axios';\n\nimport { useApiContext } from '../apiProvider';\n\nexport type MutationOptions = {\n  method?: Method;\n  onSuccess?: (data: any) => void;\n  onError?: (err: any) => void;\n};\n\nexport const useApiMutation = (resourceKey: string, options?: MutationOptions) => {\n  const { host, resources } = useApiContext();\n  const endpoint = resources[resourceKey];\n\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<any>(null);\n  const [data, setData] = useState<any>(null);\n\n  const mutate = async (body?: any, extraParams?: Record<string, any>) => {\n    setLoading(true);\n    try {\n      const res = await axios.request({\n        url: `${host}${endpoint}`,\n        method: options?.method || 'POST',\n        data: body,\n        params: extraParams,\n      });\n\n      setData(res.data);\n      setError(null);\n      options?.onSuccess?.(res.data);\n      return res.data;\n    } catch (err) {\n      setError(err);\n      options?.onError?.(err);\n      throw err;\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return { mutate, loading, error, data };\n};\n"],"mappings":"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","names":["Comment","Indent","Link","Outdent","Table","import_react","import_lucide_react","import_plate","import_plate_heading","React","import_lucide_react","import_react","import_plate_heading","import_plate_indent_list","import_react","import_jsx_runtime","import_class_variance_authority","import_lucide_react","TooltipPrimitive","import_jsx_runtime","Separator","import_jsx_runtime","import_jsx_runtime","ToolbarToggleGroup","ToolbarButton","ToolbarToggleGroup","Separator","TooltipContent","import_jsx_runtime","import_jsx_runtime","import_react","React","import_class_variance_authority","import_react","import_jsx_runtime","React","import_lucide_react","import_react","import_lucide_react","import_lucide_react","import_jsx_runtime","import_jsx_runtime","CommandPrimitive","CommandPrimitive","CommandPrimitive","import_jsx_runtime","import_jsx_runtime","import_jsx_runtime","import_cn","import_react","import_plate_heading","import_react","import_plate_markdown","import_react","import_jsx_runtime","import_react","remarkMath","remarkGfm","import_react","import_plate","import_react","import_lucide_react","import_react","import_jsx_runtime","React","import_cmdk","import_lucide_react","import_plate","import_react","React","import_react","import_faker","models","useBaseChat","React","import_cn","import_plate","import_react","import_plate_callout","import_plate_code_block","import_plate_date","import_plate_heading","import_plate_indent_list","import_plate_layout","import_plate_math","import_plate_media","import_plate_table","import_lucide_react","import_jsx_runtime","import_plate","import_jsx_runtime","import_plate","import_jsx_runtime","import_plate","import_jsx_runtime","import_plate","import_jsx_runtime","import_plate","import_jsx_runtime","import_plate","import_jsx_runtime","import_plate","import_jsx_runtime","import_plate","import_jsx_runtime","import_react","import_lucide_react","import_jsx_runtime","className","props","import_jsx_runtime","import_class_variance_authority","import_plate","import_jsx_runtime","editorVariants","import_lucide_react","import_plate","import_plate_math","import_jsx_runtime","import_plate","import_class_variance_authority","import_jsx_runtime","import_plate","import_jsx_runtime","import_plate","import_jsx_runtime","import_plate","import_jsx_runtime","import_plate","import_plate_math","import_jsx_runtime","import_react","import_jsx_runtime","import_plate","import_jsx_runtime","import_plate","import_jsx_runtime","import_plate","import_lucide_react","import_jsx_runtime","import_plate","import_jsx_runtime","React","import_plate","import_jsx_runtime","import_plate","import_jsx_runtime","import_plate","import_jsx_runtime","import_plate","import_plate_table","import_jsx_runtime","import_plate","import_jsx_runtime","import_class_variance_authority","import_plate","import_plate_heading","import_jsx_runtime","import_jsx_runtime","AIChatEditor","React","import_lucide_react","import_plate","import_react","import_jsx_runtime","items","import_jsx_runtime","open","anchorElement","CommandPrimitive","import_react","import_plate","import_react","import_jsx_runtime","import_jsx_runtime","import_jsx_runtime","import_react","import_plate_heading","import_react","import_plate_code_block","import_plate_heading","import_plate_indent_list","import_lowlight","import_react","lowlight","import_react","React","import_react","import_plate_heading","React","import_lucide_react","import_jsx_runtime","import_jsx_runtime","import_react","import_class_variance_authority","import_react","import_jsx_runtime","import_jsx_runtime","import_plate","import_react","import_react","import_react","React","import_lucide_react","import_plate","import_plate_comments","import_react","import_plate","import_plate_suggestion","import_react","React","import_lucide_react","import_plate","import_react","import_plate_heading","import_plate_indent_list","import_jsx_runtime","React","import_lucide_react","import_react","React","import_lucide_react","import_cn","import_plate","import_react","import_plate_comments","import_class_variance_authority","import_react","import_jsx_runtime","React","import_react","React","delay","React","import_class_variance_authority","import_react","import_jsx_runtime","items","import_jsx_runtime","React","import_lucide_react","import_react","React","import_lucide_react","import_react","import_jsx_runtime","TextareaAutosize","import_jsx_runtime","import_react","import_jsx_runtime","React","import_plate","import_react","React","import_jsx_runtime","React","import_plate_mention","import_react","import_jsx_runtime","import_jsx_runtime","newDiscussion","import_jsx_runtime","comment","import_jsx_runtime","suggestion","import_jsx_runtime","import_jsx_runtime","props","import_plate_dnd","import_react","React","import_lucide_react","import_plate","import_react","import_plate_dnd","import_plate_heading","import_jsx_runtime","props","DragHandle","DropLine","import_react","import_react","import_plate_heading","import_react","import_plate_heading","import_jsx_runtime","import_react","import_lucide_react","import_jsx_runtime","import_jsx_runtime","import_plate_heading","import_react","import_react","React","import_class_variance_authority","import_lucide_react","import_plate_link","import_react","import_jsx_runtime","Separator","import_jsx_runtime","import_react","import_class_variance_authority","import_lucide_react","import_react","import_jsx_runtime","React","import_react","import_react","import_react","import_plate_code_block","import_plate_heading","import_plate_indent_list","import_react","import_react","import_react","import_react","emojiMartData","import_react","import_jsx_runtime","import_lucide_react","import_react","import_react","import_jsx_runtime","React","import_lucide_react","import_react","import_jsx_runtime","value","import_react","React","import_lucide_react","import_jsx_runtime","import_lucide_react","import_react","React","import_react","import_jsx_runtime","import_jsx_runtime","import_jsx_runtime","import_jsx_runtime","React","import_lucide_react","import_plate_comments","import_react","import_jsx_runtime","import_lucide_react","import_react","import_lucide_react","import_jsx_runtime","import_plate_emoji","React","import_plate_emoji","import_jsx_runtime","Button","import_jsx_runtime","import_jsx_runtime","import_jsx_runtime","import_jsx_runtime","import_jsx_runtime","Popover","import_jsx_runtime","import_jsx_runtime","React","import_lowlight","import_lucide_react","import_cn","import_plate","import_plate_alignment","import_plate_basic_marks","import_plate_block_quote","import_plate_code_block","import_plate_comments","import_plate_date","import_plate_font","import_plate_heading","import_plate_highlight","import_plate_horizontal_rule","import_plate_indent","import_plate_indent_list","import_plate_kbd","import_plate_layout","import_plate_link","import_plate_markdown","import_plate_math","import_plate_media","import_plate_mention","import_plate_table","import_react","import_plate","import_jsx_runtime","import_plate","import_jsx_runtime","import_plate","import_jsx_runtime","import_plate","import_lucide_react","import_jsx_runtime","import_jsx_runtime","lowlight","html2canvas","document","components","React","import_lucide_react","import_plate_font","import_react","import_plate_heading","import_jsx_runtime","editor","import_react","import_lucide_react","import_jsx_runtime","editor","React","import_lucide_react","import_plate","import_plate_markdown","import_react","import_jsx_runtime","React","import_lucide_react","import_plate_indent_list","import_react","import_jsx_runtime","editor","import_react","import_lucide_react","import_jsx_runtime","import_react","import_lucide_react","import_jsx_runtime","React","import_lucide_react","import_react","import_jsx_runtime","import_react","import_lucide_react","import_jsx_runtime","import_react","import_jsx_runtime","React","import_lucide_react","import_sonner","import_use_file_picker","import_plate","import_react","import_jsx_runtime","import_jsx_runtime","React","import_lucide_react","import_react_dropdown_menu","import_react","import_jsx_runtime","Indicator","React","import_lucide_react","import_react","import_jsx_runtime","import_react","import_lucide_react","import_jsx_runtime","React","import_lucide_react","import_react","import_jsx_runtime","editor","import_react","import_lucide_react","import_jsx_runtime","React","import_lucide_react","import_react_dropdown_menu","import_react","import_plate_heading","import_plate_indent_list","import_jsx_runtime","import_jsx_runtime","import_jsx_runtime","import_react","import_cn","import_plate_floating","import_react","import_jsx_runtime","import_lucide_react","import_react","import_plate_math","import_react","import_lucide_react","import_jsx_runtime","import_lucide_react","import_react","import_jsx_runtime","import_jsx_runtime","import_jsx_runtime","import_react","import_jsx_runtime","import_cn","import_react","import_jsx_runtime","React","import_lucide_react","import_plate","import_plate_code_block","import_react","React","import_lucide_react","import_react","import_jsx_runtime","items","value","import_jsx_runtime","import_react","import_jsx_runtime","import_react","import_jsx_runtime","import_react","import_jsx_runtime","React","import_lucide_react","import_cn","import_plate","import_plate_dnd","import_react","import_jsx_runtime","ColumnElement","DropLine","ColumnDragHandle","import_lucide_react","import_plate_layout","import_react","import_jsx_runtime","Separator","import_plate_comments","import_react","import_jsx_runtime","React","import_lucide_react","import_react","import_jsx_runtime","import_react","import_jsx_runtime","import_class_variance_authority","import_react","import_jsx_runtime","headingVariants","import_react","import_jsx_runtime","import_react","import_jsx_runtime","import_plate_dnd","import_react","import_plate_resizable","import_class_variance_authority","import_cn","import_react","import_jsx_runtime","CaptionPrimitive","CaptionTextareaPrimitive","React","import_class_variance_authority","import_lucide_react","import_react","import_jsx_runtime","inputVariants","editor","FloatingMediaPrimitive","Separator","import_class_variance_authority","import_plate_resizable","import_jsx_runtime","ResizablePrimitive","import_jsx_runtime","ImageElement","import_react","import_plate_resizable","import_jsx_runtime","MediaAudioElement","import_plate_media","import_react","import_plate_resizable","import_jsx_runtime","MediaEmbedElement","LiteYouTubeEmbed","import_lucide_react","import_react","import_plate_resizable","import_jsx_runtime","MediaFileElement","React","import_lucide_react","import_use_file_picker","import_react","React","import_sonner","import_react","progress","import_jsx_runtime","MediaPlaceholderElement","import_react_lite_youtube_embed","import_plate_dnd","import_plate_media","import_react","import_plate_resizable","import_jsx_runtime","MediaVideoElement","LiteYouTubeEmbed","ReactPlayer","import_react","import_jsx_runtime","React","import_plate_heading","import_react","components","import_lucide_react","import_react","import_plate_heading","import_plate_indent_list","import_jsx_runtime","groups","items","import_react","import_jsx_runtime","import_class_variance_authority","import_react","import_jsx_runtime","React","import_lucide_react","import_react","import_plate_table","import_jsx_runtime","import_jsx_runtime","TableElement","ColorDropdownMenu","import_lucide_react","import_cn","import_plate","import_plate_dnd","import_react","import_jsx_runtime","DropLine","import_class_variance_authority","import_react","import_jsx_runtime","headingItemVariants","import_lucide_react","import_react","import_jsx_runtime","components","import_jsx_runtime","import_lucide_react","import_react","import_jsx_runtime","Link","Table","Outdent","Indent","Comment","import_react","import_react","import_jsx_runtime","axios","import_react","import_axios","axios"]}